(window.webpackJsonpadfontes=window.webpackJsonpadfontes||[]).push([[0],{105:function(t,e){var r={handlers:{eg:["<pre>","</pre>"],ptr:['<a href="$rw@target">$@target</a>'],graphic:function(t){var e=new Image;return e.src=this.rw(t.getAttribute("url")),t.hasAttribute("width")&&(e.width=t.getAttribute("width").replace(/[^.0-9]/g,"")),t.hasAttribute("height")&&(e.height=t.getAttribute("height").replace(/[^.0-9]/g,"")),e},list:function(t){if(t.hasAttribute("type")&&"gloss"==t.getAttribute("type")){for(var e=document.createElement("dl"),r=0,a=Array.from(t.children);r<a.length;r++){var o=a[r];if(o.nodeType==Node.ELEMENT_NODE){if("tei-label"==o.localName){var n=document.createElement("dt");n.innerHTML=o.innerHTML,e.appendChild(n)}if("tei-item"==o.localName){var s=document.createElement("dd");s.innerHTML=o.innerHTML,e.appendChild(s)}}}return e}return null},table:function(t){var e=document.createElement("table");if(e.innerHTML=t.innerHTML,"tei-head"==e.firstElementChild.localName){var r=e.firstElementChild;r.remove();var a=document.createElement("caption");a.innerHTML=r.innerHTML,e.appendChild(a)}for(var o=0,n=Array.from(e.querySelectorAll("tei-row"));o<n.length;o++){var s=n[o],i=document.createElement("tr");i.innerHTML=s.innerHTML;for(var c=0,u=Array.from(s.attributes);c<u.length;c++){var p=u[c];i.setAttribute(p.name,p.value)}s.parentElement.replaceChild(i,s)}for(var l=0,h=Array.from(e.querySelectorAll("tei-cell"));l<h.length;l++){var f=h[l],m=document.createElement("td");f.hasAttribute("cols")&&m.setAttribute("colspan",f.getAttribute("cols")),m.innerHTML=f.innerHTML;for(var d=0,T=Array.from(f.attributes);d<T.length;d++){var E=T[d];m.setAttribute(E.name,E.value)}f.parentElement.replaceChild(m,f)}return e},egXML:function(t){var e=document.createElement("pre");return e.innerHTML=this.serialize(t,!0),e}}};t.exports=r},154:function(t,e,r){},156:function(t,e,r){"use strict";r.r(e);var a=r(0),o=r.n(a),n=r(27),s=r.n(n),i=r(10),c=r(3),u=r(4),p=r(6),l=r(5),h=r(1),f=r(7),m=r(2),d=r.n(m),T=r(40),E=r.n(T),v=r(10).connect,O=r(9),y=function(t){Object(p.a)(r,t);var e=Object(l.a)(r);function r(t){var a;return Object(c.a)(this,r),(a=e.call(this,t)).handleSetSearchText=a.handleSetSearchText.bind(Object(f.a)(a)),a.handleOnShowQuotationsWithoutAssociation=a.handleOnShowQuotationsWithoutAssociation.bind(Object(f.a)(a)),a.handleRunQuery=a.handleRunQuery.bind(Object(f.a)(a)),a.handleGraph=a.handleGraph.bind(Object(f.a)(a)),a.handleClearFilters=a.handleClearFilters.bind(Object(f.a)(a)),a}return Object(u.a)(r,[{key:"handleSetSearchText",value:function(t){var e=this.props,r=e.dispatch,a=(e.search,this.refs.searchText.value),o=Object(h.a)(Object(h.a)({},this.props.search.searchParameters),{},{searchText:a});r(O.setSearchParameters(o))}},{key:"handleOnShowQuotationsWithoutAssociation",value:function(t){t.preventDefault();var e=this.props,r=e.dispatch,a=(e.search,this.refs.quotationWorkGroup.value),o=this.refs.quotationExpressionType.value,n=this.refs.quotationWork.value,s=this.refs.quotationWorkPart.value,i=this.refs.expressionId.value,c=this.refs.expressionPart.value?this.refs.expressionPart.value.split("/")[0]:this.refs.expressionPart.value,u=this.refs.expressionPart.value?this.refs.expressionPart.value.split("/")[1]:1,p=this.refs.expressionAuthor.value,l=this.refs.expressionAuthorType.value,h={expressionId:i,expressionPart:c,expressionLevel:u,expressionAuthor:p,quotationAuthor:this.refs.quotationAuthor.value,quotationExpressionType:o,quotationWork:n,quotationWorkPart:s,quotationWorkGroup:a,quotationAuthorType:this.refs.quotationAuthorType.value,expressionAuthorType:l,expressionType:this.refs.expressionType.value,workGroup:this.refs.workGroup.value,quotationAuthorDateAfter:this.refs.quotationAuthorDateAfter.value,quotationAuthorDateBefore:this.refs.quotationAuthorDateBefore.value,expressionAuthorDateAfter:this.refs.expressionAuthorDateAfter.value,expressionAuthorDateBefore:this.refs.expressionAuthorDateBefore.value,structureElementType:this.refs.structureElementType.value};r(O.setSearchParameters(h)),r(O.fetchQuotationWorkParts()),r(O.fetchExpressionParts()),r(O.fetchSearchWorksList()),r(O.fetchQuotationWorksList()),r(O.fetchQuotationAuthors()),r(O.fetchExpressionAuthors())}},{key:"handleRunQuery",value:function(t){t.preventDefault();var e=this.props,r=e.dispatch;e.search;r(O.clearCanonicalQuotation()),r(O.clearFocusedQuotation()),r(O.clearManifestationQuotations()),r(O.clearParagraph()),r(O.clearSourceParagraph()),r(O.fetchCanonicalQuotations()),r(O.fetchQuotations()),r(O.fetchChart())}},{key:"handleClearFilters",value:function(t){t.preventDefault();var e=this.props,r=e.dispatch;e.search;r(O.clearSearchParameters()),r(O.clearCanonicalQuotations()),r(O.clearQuotations()),r(O.fetchQuotationWorkParts()),r(O.fetchExpressionParts()),r(O.fetchQuotationAuthors()),r(O.fetchExpressionAuthors()),r(O.fetchSearchWorksList()),r(O.fetchQuotationWorksList()),r(O.fetchWorkGroups()),r(O.fetchAuthorTypes()),r(O.clearManifestationQuotations()),r(O.clearParagraph()),r(O.clearSourceParagraph()),this.refs.quotationAuthorDateAfter.value="",this.refs.quotationAuthorDateBefore.value="",this.refs.expressionAuthorDateAfter.value="",this.refs.expressionAuthorDateBefore.value="",this.refs.searchText.value=""}},{key:"handleGraph",value:function(t){t.preventDefault(),(0,this.props.dispatch)(O.toggleGraphDisplay(this.props.chart.visible))}},{key:"render",value:function(){var t=this;function e(){return t.props.search.workGroups.map((function(t){return o.a.createElement("option",{value:t.workGroupShortId},t.workGroupTitle)}))}return o.a.createElement("div",null,o.a.createElement(d.a,{onSubmit:this.handleOnShowQuotationsWithoutAssociation},o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(E.a,{id:"runQuery",onClick:this.handleRunQuery},"Run Search"),o.a.createElement(E.a,{id:"clearFilter",onClick:this.handleClearFilters},"Clear Filters")),o.a.createElement("div",null,o.a.createElement("p",null,"Search Parameters"),o.a.createElement(d.a.Group,null,o.a.createElement(d.a.Label,null,"Quotation/ReferenceType"),o.a.createElement(d.a.Control,{as:"select",ref:"structureElementType",onChange:this.handleOnShowQuotationsWithoutAssociation},o.a.createElement("option",{value:"structureElementQuote"},"Quotations"),o.a.createElement("option",{value:"structureElementRef"},"References"),o.a.createElement("option",{value:"structureElementRefDup"},"References (With Quotation Overlap)"),o.a.createElement("option",{value:""},"All"),o.a.createElement("option",{value:"allDup"},"All (with quotation overlap)"))),o.a.createElement(d.a.Group,null,o.a.createElement(d.a.Label,null,o.a.createElement(d.a.Control,{as:"input",type:"text",ref:"searchText",placeholder:"search quotation text",onChange:this.handleSetSearchText}))),o.a.createElement("hr",null),o.a.createElement("p",null,"Quotation Parameters"),o.a.createElement(d.a.Group,null,o.a.createElement(d.a.Label,null,"Quotation Author Type"),o.a.createElement(d.a.Control,{as:"select",ref:"quotationAuthorType",onChange:this.handleOnShowQuotationsWithoutAssociation},o.a.createElement("option",{value:""},"All"),t.props.search.authorTypes.map((function(t){return o.a.createElement("option",{value:t.authorTypeShortId},t.authorTypeTitle)})))),o.a.createElement(d.a.Group,null,o.a.createElement(d.a.Label,null,"Quotation Author Birth Date"),o.a.createElement("br",null),"After ",o.a.createElement(d.a.Control,{as:"input",ref:"quotationAuthorDateAfter",onBlur:this.handleOnShowQuotationsWithoutAssociation,placeholder:"e.g. 1200"}),o.a.createElement("br",null),"Before ",o.a.createElement(d.a.Control,{as:"input",ref:"quotationAuthorDateBefore",onBlur:this.handleOnShowQuotationsWithoutAssociation,placeholder:"e.g. 1400"})),o.a.createElement(d.a.Group,null,o.a.createElement(d.a.Label,null,"Quotation Author"),o.a.createElement(d.a.Control,{as:"select",ref:"quotationAuthor",onChange:this.handleOnShowQuotationsWithoutAssociation,value:t.props.search.searchParameters.quotationAuthor},o.a.createElement("option",{value:""},"All"),t.props.search.quotationAuthors.map((function(t){return o.a.createElement("option",{value:t.authorShortId},t.authorTitle)})))),o.a.createElement(d.a.Group,null,o.a.createElement(d.a.Label,null,"Quotation Work Group"),o.a.createElement(d.a.Control,{as:"select",ref:"quotationWorkGroup",onChange:this.handleOnShowQuotationsWithoutAssociation},o.a.createElement("option",{value:""},"All"),e())),o.a.createElement(d.a.Group,null,o.a.createElement(d.a.Label,null,"Quotation Text Type"),o.a.createElement(d.a.Control,{as:"select",ref:"quotationExpressionType",onChange:this.handleOnShowQuotationsWithoutAssociation},o.a.createElement("option",{value:""},"All"),t.props.search.quotationExpressionTypes.map((function(t){return o.a.createElement("option",{value:t.quotationExpressionTypeShortId},t.quotationExpressionTypeTitle)})))),o.a.createElement(d.a.Group,null,o.a.createElement(d.a.Label,null,"Quotation Text Title"),o.a.createElement(d.a.Control,{as:"select",ref:"quotationWork",onChange:this.handleOnShowQuotationsWithoutAssociation,value:t.props.search.searchParameters.quotationWork},o.a.createElement("option",{value:""},"All"),t.props.search.quotationWorksList.map((function(t){var e=t.expressionShortId?t.expressionShortId:t.expression.split("http://scta.info/resource/")[1];return o.a.createElement("option",{value:e},t.expressionTitle)})))),o.a.createElement(d.a.Group,null,o.a.createElement(d.a.Label,null,"Quotation Text Part"),o.a.createElement(d.a.Control,{as:"select",ref:"quotationWorkPart",onChange:this.handleOnShowQuotationsWithoutAssociation,value:t.props.search.searchParameters.quotationWorkPart},o.a.createElement("option",{value:""},"All"),function(){var e=t.props.search.quotationWorkParts;if(e){var r=e[0];if(r){var a=r.grandparent.split("http://scta.info/resource/")[1];if(void 0!=a)return o.a.createElement("option",{value:a},"Up: ",r.grandparent_title)}}}(),function(){var e=t.props.search.quotationWorkParts;if(e){var r=e[0];if(r){var a=r.parent.split("http://scta.info/resource/")[1];return o.a.createElement("option",{value:a},"Current: ",r.parent_title)}}}(),function(){var e=t.props.search.quotationWorkParts;if(e)return e.map((function(t){var e=t.childShortId?t.childShortId:t.child.split("http://scta.info/resource/")[1];if(t.child)return o.a.createElement("option",{value:e},t.child_title)}))}())),o.a.createElement("hr",null),o.a.createElement("p",null,"Text Parameters"),o.a.createElement(d.a.Group,null,o.a.createElement(d.a.Label,null,"Text Author Type"),o.a.createElement(d.a.Control,{as:"select",ref:"expressionAuthorType",onChange:this.handleOnShowQuotationsWithoutAssociation},o.a.createElement("option",{value:""},"All"),t.props.search.authorTypes.map((function(t){return o.a.createElement("option",{value:t.authorTypeShortId},t.authorTypeTitle)})))),o.a.createElement(d.a.Group,null,o.a.createElement(d.a.Label,null,"Text Author Birth Date"),o.a.createElement("br",null),"After ",o.a.createElement(d.a.Control,{as:"input",ref:"expressionAuthorDateAfter",onBlur:this.handleOnShowQuotationsWithoutAssociation,placeholder:"e.g. 1200"}),o.a.createElement("br",null),"Before ",o.a.createElement(d.a.Control,{as:"input",ref:"expressionAuthorDateBefore",onBlur:this.handleOnShowQuotationsWithoutAssociation,placeholder:"e.g. 1400"})),o.a.createElement(d.a.Group,null,o.a.createElement(d.a.Label,null,"Text Author"),o.a.createElement(d.a.Control,{as:"select",ref:"expressionAuthor",onChange:this.handleOnShowQuotationsWithoutAssociation,value:t.props.search.searchParameters.expressionAuthor},o.a.createElement("option",{value:""},"All"),t.props.search.expressionAuthors.map((function(t){return o.a.createElement("option",{value:t.authorShortId},t.authorTitle)})))),o.a.createElement(d.a.Group,null,o.a.createElement(d.a.Label,null,"Text Work Group"),o.a.createElement(d.a.Control,{as:"select",ref:"workGroup",onChange:this.handleOnShowQuotationsWithoutAssociation},o.a.createElement("option",{value:""},"All"),e())),o.a.createElement(d.a.Group,null,o.a.createElement(d.a.Label,null,"Text Type"),o.a.createElement(d.a.Control,{as:"select",ref:"expressionType",onChange:this.handleOnShowQuotationsWithoutAssociation},o.a.createElement("option",{value:""},"All"),t.props.search.expressionTypes.map((function(t){return o.a.createElement("option",{value:t.expressionTypeShortId},t.expressionTypeTitle)})))),o.a.createElement(d.a.Group,null,o.a.createElement(d.a.Label,null,"Text Title"),o.a.createElement(d.a.Control,{as:"select",ref:"expressionId",onChange:this.handleOnShowQuotationsWithoutAssociation,value:t.props.search.searchParameters.expressionId},o.a.createElement("option",{value:""},"All"),t.props.search.searchWorks.map((function(t){return o.a.createElement("option",{value:t.expressionShortId},t.expressionTitle)})))),o.a.createElement(d.a.Group,null,o.a.createElement(d.a.Label,null,"Text Part"),o.a.createElement(d.a.Control,{as:"select",ref:"expressionPart",onChange:this.handleOnShowQuotationsWithoutAssociation,value:t.props.search.searchParameters.expressionPart+"/"+t.props.search.searchParameters.expressionLevel},o.a.createElement("option",{value:""},"All"),function(){var e=t.props.search.expressionParts;if(e){var r=e[0];if(r){var a=r.grandparent.split("http://scta.info/resource/")[1];if(void 0!=a)return o.a.createElement("option",{value:a+"/"+r.grandparent_level},"Up: ",r.grandparent_title)}}}(),function(){var e=t.props.search.expressionParts;if(e){var r=e[0];if(r){var a=r.parent.split("http://scta.info/resource/")[1];return o.a.createElement("option",{value:a+"/"+r.parent_level},"Current: ",r.parent_title)}}}(),function(){var e=t.props.search.expressionParts;if(e)return e.map((function(t){var e=t.childShortId?t.childShortId:t.child.split("http://scta.info/resource/")[1];if(t.child)return o.a.createElement("option",{value:e+"/"+t.child_level},t.child_title)}))}()))))),o.a.createElement("p",null,o.a.createElement("a",{href:"#",onClick:this.handleGraph},"Toggle Historgram")))}}]),r}(o.a.Component),A=v((function(t){return t}))(y),_=r(18),x=r.n(_),g=r(10).connect,P=r(9),C=function(t){Object(p.a)(r,t);var e=Object(l.a)(r);function r(t){var a;return Object(c.a)(this,r),(a=e.call(this,t)).handleOnClick=a.handleOnClick.bind(Object(f.a)(a)),a}return Object(u.a)(r,[{key:"handleOnClick",value:function(){var t=this.props,e=t.isInstanceOf,r=t.id,a=t.quotation,o=t.dispatch,n=t.source;o(P.changeQuotationsFocus(this.props.id));var s={id:r,quotation:a,source:n,type:"expression"};if(o(P.createFocusedQuotation(s)),o(P.fetchParagraph()),o(P.fetchSourceParagraph()),o(P.fetchManifestationQuotations()),null!=e){var i=this.props.canonicalQuotations.find((function(t){return t.id===e}));if(void 0!=i){o(P.createCanonicalQuotation(i)),o(P.changeCanonicalQuotationsFocus(e));var c=document.getElementById(e).offsetTop;x()("#CanonicalQuotationList").animate({scrollTop:c-10},400);var u=document.getElementById(r).offsetTop;x()("#quotationsList").animate({scrollTop:u-10},400)}else alert("this quotation is assigned to a canonicalQuotation, but either there is an error in the id assigned or a canonicalQuotation record still needs to be made"),o(P.clearCanonicalQuotationsFocus()),o(P.clearCanonicalQuotation())}else o(P.clearCanonicalQuotationsFocus()),o(P.clearCanonicalQuotation())}},{key:"render",value:function(){var t=this.props,e=t.isInstanceOf,r=t.quotation,a=t.className,n=t.title,s=t.author,i=t.id,c=t.refText,u=t.citation;a=null===e?a+" isNotInstance":a;return o.a.createElement("div",{className:"quotation-wrapper"},o.a.createElement("p",{id:i,className:a,onClick:this.handleOnClick},r),o.a.createElement("a",{href:i,target:"_blank",className:"quotation-citation"},s,", ",n),o.a.createElement("a",{href:i,target:"_blank",className:"quotation-citation"},"Original Ref: ",c),o.a.createElement("a",{href:i,target:"_blank",className:"quotation-citation"},"Modern Citation: ",u))}}]),r}(o.a.Component),S=g((function(t){return t}))(C),b=function(t){Object(p.a)(r,t);var e=Object(l.a)(r);function r(){return Object(c.a)(this,r),e.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){var t=this.props,e=t.quotations,r=t.focusedQuotation;return o.a.createElement("div",null,o.a.createElement("p",null,"List of Expression Quotations"),"fetching"!==this.props.quotations&&o.a.createElement("p",null,"Count ",e.length),"fetching"===e?o.a.createElement("p",null,"Fetching..."):0===e.length?o.a.createElement("p",{className:"container__message"},"No Quotations"):e.map((function(t){var e="";e=r.id&&r.id.includes(t.id)?"quotation focused":"quotation",t.refType;var a=e+" "+t.refType;return o.a.createElement(S,Object.assign({className:a,key:t.id},t))})))}}]),r}(o.a.Component),I=Object(i.connect)((function(t){return t}))(b),q=r(10).connect,R=function(t){Object(p.a)(r,t);var e=Object(l.a)(r);function r(){return Object(c.a)(this,r),e.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){var t=this.props.focusedQuotation,e=t.quotation,r=t.id;return o.a.createElement("div",{className:"container"},o.a.createElement("p",null,"Focused Quotation: ",e),o.a.createElement("p",null,o.a.createElement("a",{href:r},r)))}}]),r}(o.a.Component),N=(q((function(t){return t}))(R),r(10).connect),k=function(t){Object(p.a)(r,t);var e=Object(l.a)(r);function r(){return Object(c.a)(this,r),e.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){var t=this.props.canonicalQuotation,e=t?t.quotation:"No canonical quotation id assigned",r=t?t.id:"",a=t?t.citation:"";return o.a.createElement("div",{className:"container"},o.a.createElement("p",null,"Canonical Quotation: ",e),o.a.createElement("p",null,a),o.a.createElement("p",null,o.a.createElement("a",{href:r},r)))}}]),r}(o.a.Component),w=(N((function(t){return t}))(k),r(10).connect),L=r(9),j=function(t){Object(p.a)(r,t);var e=Object(l.a)(r);function r(t){var a;return Object(c.a)(this,r),(a=e.call(this,t)).handleOnClick=a.handleOnClick.bind(Object(f.a)(a)),a}return Object(u.a)(r,[{key:"handleOnClick",value:function(){var t=this.props,e=t.id,r=t.quotation,a=t.citation,o=t.dispatch;o(L.changeCanonicalQuotationsFocus(this.props.id));var n={id:e,quotation:r,citation:a};o(L.createCanonicalQuotation(n)),o(L.fetchQuotations()),o(L.clearQuotationsFocus()),o(L.clearFocusedQuotation()),o(L.clearManifestationQuotations()),o(L.clearParagraph());var s=document.getElementById(e).offsetTop;x()("#CanonicalQuotationList").animate({scrollTop:s-10},400)}},{key:"render",value:function(){var t=this.props,e=t.id,r=t.quotation,a=t.className,n=t.citation;return o.a.createElement("div",{className:"quotation-wrapper"},o.a.createElement("p",{id:e,className:a,onClick:this.handleOnClick},r),o.a.createElement("a",{href:e,target:"_blank",className:"quotation-citation"},n))}}]),r}(o.a.Component),Q=w()(j),F=r(9),D=function(t){Object(p.a)(r,t);var e=Object(l.a)(r);function r(t){var a;return Object(c.a)(this,r),(a=e.call(this,t)).handleOnShowQuotationsWithoutAssociation=a.handleOnShowQuotationsWithoutAssociation.bind(Object(f.a)(a)),a}return Object(u.a)(r,[{key:"handleOnShowQuotationsWithoutAssociation",value:function(t){t.preventDefault();var e=this.props.dispatch,r=this.refs.searchText.value;e(F.clearCanonicalQuotation()),e(F.clearFocusedQuotation()),e(F.clearParagraph()),e(F.fetchCanonicalQuotations(r)),e(F.fetchQuotations(r))}},{key:"render",value:function(){var t=this.props.canonicalQuotations;return o.a.createElement("div",null,o.a.createElement("p",null,"List of Canonical Quotations"),o.a.createElement("p",null,"Count ",t.length),0===t.length?o.a.createElement("p",{className:"container__message"},"No Quotations"):t.map((function(t){var e=t.focused?"quotation focused":"quotation";return o.a.createElement(Q,Object.assign({className:e,key:t.id},t))})))}}]),r}(o.a.Component),M=(Object(i.connect)((function(t){return t}))(D),r(10).connect),H=r(9),W=function(t){Object(p.a)(r,t);var e=Object(l.a)(r);function r(t){var a;return Object(c.a)(this,r),(a=e.call(this,t)).handleOnClick=a.handleOnClick.bind(Object(f.a)(a)),a}return Object(u.a)(r,[{key:"handleOnClick",value:function(){var t=this.props,e=t.isManifestationOf,r=t.id,a=t.quotation,o=t.dispatch,n={id:r,quotation:a,type:"manifestation"};o(H.createFocusedQuotation(n)),o(H.changeManifestationQuotationsFocus(r)),o(H.fetchParagraph());var s=document.getElementById(r).offsetTop;if(x()("#ManifestationQuotationsList").animate({scrollTop:s-10},400),null!=e){var i=this.props.quotations.find((function(t){return t.id===e}));if(void 0!=i){o(H.changeQuotationsFocus(e));s=document.getElementById(e).offsetTop;x()("#quotationsList").animate({scrollTop:s-10},400);var c=i.isInstanceOf;if(null!=c){var u=this.props.canonicalQuotations.find((function(t){return t.id===c}));if(void 0!=u){o(H.createCanonicalQuotation(u)),o(H.changeCanonicalQuotationsFocus(c));s=document.getElementById(c).offsetTop;x()("#CanonicalQuotationList").animate({scrollTop:s-10},400)}else o(H.clearCanonicalQuotationsFocus()),o(H.clearCanonicalQuotation())}}else o(H.clearQuotationsFocus()),o(H.clearCanonicalQuotation())}else o(H.clearQuotationsFocus()),o(H.clearCanonicalQuotationsFocus()),o(H.clearCanonicalQuotation())}},{key:"render",value:function(){var t=this.props,e=t.id,r=t.quotation,a=t.className;return o.a.createElement("p",{id:e,className:a,onClick:this.handleOnClick},r)}}]),r}(o.a.Component),U=M((function(t){return t}))(W),G=(r(9),function(t){Object(p.a)(r,t);var e=Object(l.a)(r);function r(){return Object(c.a)(this,r),e.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){var t=this.props.manifestationQuotations;return o.a.createElement("div",null,o.a.createElement("p",null,"List of Manifestation Quotations"),o.a.createElement("p",null,"Count ",t.length),0===t.length?o.a.createElement("p",{className:"container__message"},"No Quotations"):t.map((function(t){var e=t.focused?"quotation focused":"quotation";return o.a.createElement(U,Object.assign({className:e,key:t.id},t))})))}}]),r}(o.a.Component)),B=Object(i.connect)((function(t){return t}))(G),X=r(25),Y=r(29),K=r.n(Y),V=r(65),z=r.n(V),$=r(10).connect,J=r(9),Z=function(t){Object(p.a)(r,t);var e=Object(l.a)(r);function r(t){var a;return Object(c.a)(this,r),(a=e.call(this,t)).handleShowImages=a.handleShowImages.bind(Object(f.a)(a)),a.handleImageWrapperWraperClick=a.handleImageWrapperWraperClick.bind(Object(f.a)(a)),a.handleShowFullText=a.handleShowFullText.bind(Object(f.a)(a)),a.runQueryForSource=a.runQueryForSource.bind(Object(f.a)(a)),a.addTEICustom=a.addTEICustom.bind(Object(f.a)(a)),a.handleClearFilters=a.handleClearFilters,a.state={imageSize:"200",imageFocus:!1},a}return Object(u.a)(r,[{key:"handleImageWrapperWraperClick",value:function(){this.setState((function(t){return{imageSize:"200"===t.imageSize?"725":"200",imageFocus:!t.imageFocus}}))}},{key:"handleShowImages",value:function(t){t.preventDefault();var e=this.props.dispatch;e(J.fetchImages()),e(J.toggleImagesDisplay(this.props.images.visible))}},{key:"handleShowFullText",value:function(t){t.preventDefault();var e=this.props.dispatch;"source"===this.props.type?e(J.fetchFullText(!0)):e(J.fetchFullText(!1)),e(J.toggleImagesDisplay(!0)),e(J.toggleFullTextDisplay(this.props.fullText.visible))}},{key:"componentDidMount",value:function(t){this.addTEICustom()}},{key:"componentDidUpdate",value:function(t){this.addTEICustom()}},{key:"addTEICustom",value:function(){var t=this,e=new X.default,r={};if((r="source"===this.props.type?this.props.sourceParagraph:this.props.paragraph).paragraph_text)e.makeHTML5(r.paragraph_text,(function(e){if(t.props.focusedQuotation.id){var r=t.props.focusedQuotation.id.split("/").pop();e.querySelector("#"+r)&&e.querySelector("#"+r).setAttribute("class","highlighted"),t.refs.text.replaceChild(e,t.refs.text.childNodes[0])}}));else{var a=document.createTextNode("");t.refs.text.replaceChild(a,t.refs.text.childNodes[0])}}},{key:"runQueryForSource",value:function(t){var e=this.props,r=e.dispatch,a=(e.search,{quotationWorkPart:t});this.handleClearFilters(),r(J.setSearchParameters(a)),r(J.fetchQuotationWorkParts()),r(J.fetchQuotations()),r(J.fetchChart())}},{key:"handleClearFilters",value:function(t){var e=this.props,r=e.dispatch;e.search;r(J.clearSearchParameters()),r(J.clearCanonicalQuotations()),r(J.clearQuotations()),r(J.fetchQuotationWorkParts()),r(J.fetchExpressionParts()),r(J.fetchQuotationAuthors()),r(J.fetchExpressionAuthors()),r(J.fetchSearchWorksList()),r(J.fetchQuotationWorksList()),r(J.fetchWorkGroups()),r(J.fetchAuthorTypes()),r(J.clearManifestationQuotations())}},{key:"render",value:function(){var t=this,e=this,r={},a=r="source"===this.props.type?this.props.sourceParagraph:this.props.paragraph,n=(a.expression_id,a.manifestation_id),s=a.transcription_id,i=a.manifestations;a.paragraph_text,a.review;var c=[];return i&&i.constructor===Array?c=i.map((function(t){return{manifestation:t,manifestationTitle:t.split("/resource/")[1],transcription:""}})):"string"===typeof i&&(c=[{manifestation:i,manifestationTitle:i.split("/resource/")[1],transcription:""}]),o.a.createElement("div",null,o.a.createElement("p",null,"Context Paragraph"),o.a.createElement("div",{id:"text",ref:"text"},o.a.createElement("div",null)),n&&o.a.createElement("div",{id:"imageWrapperWrapper",className:this.state.imageFocus?"iww-big":"iww-small"},this.state.imageFocus?o.a.createElement("hr",{className:"toggleBar",title:"click to minimize",onClick:this.handleImageWrapperWraperClick}):o.a.createElement("hr",{className:"toggleBar",title:"click to maximize",onClick:this.handleImageWrapperWraperClick}),o.a.createElement(K.a,{manifestations:c,focusedManifestation:n,width:this.state.imageSize})),function(){if(r.expression_id)return o.a.createElement("p",null,o.a.createElement("a",{onClick:e.handleShowFullText},"Show Full Text"))}(),n&&o.a.createElement("p",null,o.a.createElement("a",{href:"https://scta.lombardpress.org/#/text?resourceid="+n,target:"_blank"},"View in LbpWeb")),"source"===this.props.type&&this.props.focusedQuotation.id&&o.a.createElement("p",{className:"link",onClick:function(){t.runQueryForSource(t.props.sourceParagraph.expression_id.split("/resource/")[1])}},"Search Quotations of this Passage Only"),n&&o.a.createElement(z.a,{tresourceid:s}))}}]),r}(o.a.Component),tt=$((function(t){return t}))(Z),et=r(10).connect,rt=r(151),at=(r(9),function(t){Object(p.a)(r,t);var e=Object(l.a)(r);function r(t){var a;return Object(c.a)(this,r),(a=e.call(this,t)).createBarChart=a.createBarChart.bind(Object(f.a)(a)),a}return Object(u.a)(r,[{key:"componentDidMount",value:function(){var t=this.props.chart.count;t&&this.createBarChart(t)}},{key:"componentDidUpdate",value:function(t,e){var r=this.props.chart.count;r!=t.chart.count&&this.createBarChart(r)}},{key:"componentWillUnmount",value:function(){rt.selectAll(".tooltip").remove()}},{key:"createBarChart",value:function(t){rt.select("svg").selectAll("*").remove(),rt.selectAll(".tooltip").remove();var e=t;e.filter((function(t,e){t.count=+t.count}));var r;r=e.map((function(t){return t.count})),e.map((function(t){return t.title}));var a=30,o=30,n=40,s=50,i=500-a-n,c=1200-s-o,u=rt.scale.linear().domain([0,.8*e.length,e.length]).range(["#FFB832","#C61C6F"]),p=rt.scale.linear().domain([0,rt.max(r)]).range([0,i]),l=rt.scale.ordinal().domain(rt.range(0,e.length)).rangeBands([0,c],.5),h=rt.select("body").append("div").attr("class","tooltip").style("position","absolute").style("padding","0 10px").style("background","white").style("opacity",0),f=this.node;rt.select(f).attr("width",c+s+o).attr("height",i+a+n).append("g").attr("transform","translate("+s+", "+a+")").selectAll("rect").data(e).enter().append("g").append("rect").style("fill",(function(t,e){return u(e)})).attr("height",0).attr("y",i).attr("width",l.rangeBand()).attr("x",(function(t,e){return l(e)})).on("mouseover",(function(t){h.transition().style("opacity",.9),h.html("<a href='"+t.item+"'>"+t.title+"</a>. Quoted "+t.count+" times").style("left",rt.event.pageX+0+"px").style("top",rt.event.pageY+0+"px").style("left",rt.select(f).left+150+"px").style("top",rt.select(f).top+125+"px"),rt.select(this).style("opacity",.5)})).on("mouseout",(function(t){rt.select(this).transition().style("opacity",1)})).transition().attr("height",(function(t){return p(t.count)})).attr("y",(function(t){return i-p(t.count)})).delay((function(t,e){return 10*e})).duration(1e3).ease("elastic");var m=rt.scale.linear().domain([0,rt.max(r)]).range([i,0]),d=rt.svg.axis().scale(m).orient("left").ticks(10),T=rt.select(f).append("g");d(T),T.attr("transform","translate("+s+", "+a+")"),T.selectAll("path").style({fill:"none",stroke:"#000"}),T.selectAll("line").style({stroke:"#000"});var E=rt.svg.axis().scale(l).orient("bottom").tickValues(l.domain().filter((function(t,e){return e%50===0}))),v=rt.select(f).append("g");E(v),v.attr("transform","translate("+s+", "+(i+a)+")"),v.selectAll("path").style({fill:"none",stroke:"#000"}),v.selectAll("line").style({stroke:"#000"})}},{key:"render",value:function(){var t=this;return o.a.createElement("svg",{ref:function(e){return t.node=e},width:500,height:500})}}]),r}(o.a.Component)),ot=et((function(t){return{chart:t.chart}}),(function(t){return{}}))(at),nt=(r(152),r(10).connect),st=r(9),it=(r(25),function(t){Object(p.a)(r,t);var e=Object(l.a)(r);function r(t){var a;return Object(c.a)(this,r),(a=e.call(this,t)).handleToggleImage=a.handleToggleImage.bind(Object(f.a)(a)),a}return Object(u.a)(r,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(t){}},{key:"handleToggleImage",value:function(t){t.preventDefault(),(0,this.props.dispatch)(st.toggleImagesDisplay(this.props.images.visible))}},{key:"render",value:function(){var t=this;return o.a.createElement("div",{className:"images"},o.a.createElement(K.a,{manifestations:[{manifestation:"http://scta.info/resource/l1-cpspfs/reims",manifestationTitle:"reims",transcription:""},{manifestation:"http://scta.info/resource/l1-cpspfs/svict",manifestationTitle:"svict",transcription:""}],focusedManifestation:"http://scta.info/l1-cpspfs/reims"}),function(){var e=t.props.images;if(e.visible&&e.images.length>0)return e.images.map((function(t){var e=t.url;return o.a.createElement("img",{src:e+"/full/1000,/0/default.jpg"})}))}())}}]),r}(o.a.Component)),ct=nt((function(t){return t}))(it),ut=r(10).connect,pt=r(9),lt=function(t){Object(p.a)(r,t);var e=Object(l.a)(r);function r(t){var a;return Object(c.a)(this,r),(a=e.call(this,t)).handleToggleFullText=a.handleToggleFullText.bind(Object(f.a)(a)),a}return Object(u.a)(r,[{key:"componentDidUpdate",value:function(){var t=this,e=new X.default;this.props.fullText.textInfo.text&&e.makeHTML5(this.props.fullText.textInfo.text,(function(e){var r=t.props.focusedQuotation.id.split("/").pop(),a=t.props.focusedQuotation.source.split("/").pop();t.refs.text.replaceChild(e,t.refs.text.childNodes[0]);var o="";try{e.querySelector("#"+r)&&e.querySelector("#"+r).setAttribute("class","highlighted"),o=document.getElementById(r).offsetTop}catch(n){e.querySelector("#"+a)&&e.querySelector("#"+a).setAttribute("class","highlighted"),o=document.getElementById(a).offsetTop}console.log("scroll",o),x()(".full-text-wrapper").animate({scrollTop:o-100},400)}))}},{key:"handleToggleFullText",value:function(t){t.preventDefault(),(0,this.props.dispatch)(pt.toggleFullTextDisplay(this.props.fullText.visible))}},{key:"render",value:function(){return o.a.createElement("div",{className:"full-text-wrapper"},o.a.createElement("div",{id:"text-tool-bar"},o.a.createElement("button",{id:"hide-full-text",onClick:this.handleToggleFullText},"Hide Text")),o.a.createElement("div",{id:"text",ref:"text"},o.a.createElement("div",null)))}}]),r}(o.a.Component),ht=ut((function(t){return t}))(lt),ft=function(t){Object(p.a)(r,t);var e=Object(l.a)(r);function r(){return Object(c.a)(this,r),e.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){var t=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"wrapper"},o.a.createElement("div",{className:"search column1"},o.a.createElement(A,null)),function(){if(!t.props.chart.visible&&!t.props.images.visible&&!t.props.fullText.visible)return o.a.createElement("div",null,o.a.createElement("div",{id:"quotationsList",className:"column2"},o.a.createElement(I,null)),o.a.createElement("div",{id:"ManifestationQuotationsList",className:"column3"},o.a.createElement(B,null)),o.a.createElement("div",{className:"column4"},o.a.createElement(tt,null)),o.a.createElement("div",{className:"column5"},o.a.createElement(tt,{type:"source"})))}(),function(){if(t.props.chart.visible)return o.a.createElement("div",{className:"chart"},o.a.createElement(ot,{size:[500,500]}))}(),function(){if(t.props.images.visible)return o.a.createElement("div",null,o.a.createElement(ct,null),o.a.createElement("div",{className:"column5"},o.a.createElement(tt,null)))}(),function(){if(t.props.fullText.visible)return o.a.createElement(ht,null)}()))}}]),r}(o.a.Component),mt=Object(i.connect)((function(t){return t}))(ft),dt=function(t){return o.a.createElement("div",null,o.a.createElement("h3",{className:"page-title"},o.a.createElement("em",null,"Ad fontes"),": A Scholastic Quotation Explorer"),o.a.createElement("div",{className:"page-header"},o.a.createElement("p",null,"A ",o.a.createElement("a",{href:"http://lombardpress.org"},"LombardPress")," Publication"),o.a.createElement("p",null,"Powerd by Data from the ",o.a.createElement("a",{href:"https://scta.info"},"Scholastic Commentaries and Text Archive")),o.a.createElement("p",null,"Designed by ",o.a.createElement("a",{href:"http://jeffreycwitt.com"},"Jeffrey C. Witt"))),o.a.createElement(mt,null))},Tt=r(9),Et=(r(153),r(154),r(157).configure());Et.subscribe((function(){Et.getState()})),Et.dispatch(Object(Tt.setSearchParameters)({})),Et.dispatch(Object(Tt.fetchQuotationAuthors)()),Et.dispatch(Object(Tt.fetchExpressionAuthors)()),Et.dispatch(Object(Tt.fetchSearchWorksList)()),Et.dispatch(Object(Tt.fetchExpressionTypes)()),Et.dispatch(Object(Tt.fetchQuotationExpressionTypes)()),Et.dispatch(Object(Tt.fetchQuotationWorksList)()),Et.dispatch(Object(Tt.fetchWorkGroups)()),Et.dispatch(Object(Tt.fetchAuthorTypes)()),Et.dispatch(Object(Tt.fetchChart)()),s.a.render(o.a.createElement(i.Provider,{store:Et},o.a.createElement(dt,null)),document.getElementById("root"))},157:function(t,e,r){"use strict";r.r(e);var a=r(1),o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"CLEAR_SEARCH_PARAMETERS":return Object(a.a)(Object(a.a)({},t),{},{searchParameters:[]});case"SET_SEARCH_PARAMETERS":return Object(a.a)(Object(a.a)({},t),{},{searchParameters:e.searchParameters});case"START_SEARCH_WORKS_FETCH":return Object(a.a)(Object(a.a)({},t),{},{searchWorks:[]});case"COMPLETE_SEARCH_WORKS_FETCH":return Object(a.a)(Object(a.a)({},t),{},{searchWorks:e.listOfWorks});case"START_QUOTATION_AUTHORS_FETCH":return Object(a.a)(Object(a.a)({},t),{},{quotationAuthors:[]});case"COMPLETE_QUOTATION_AUTHORS_FETCH":return Object(a.a)(Object(a.a)({},t),{},{quotationAuthors:e.authors});case"START_EXPRESSION_AUTHORS_FETCH":return Object(a.a)(Object(a.a)({},t),{},{expressionAuthors:[]});case"COMPLETE_EXPRESSION_AUTHORS_FETCH":return Object(a.a)(Object(a.a)({},t),{},{expressionAuthors:e.authors});case"START_QUOTATION_WORKS_LIST_FETCH":return Object(a.a)(Object(a.a)({},t),{},{quotationWorksList:[]});case"COMPLETE_QUOTATION_WORKS_LIST_FETCH":return Object(a.a)(Object(a.a)({},t),{},{quotationWorksList:e.quotationWorksList});case"START_QUOTATION_WORK_PARTS_FETCH":return Object(a.a)(Object(a.a)({},t),{},{quotationWorkParts:[]});case"COMPLETE_QUOTATION_WORK_PARTS_FETCH":return Object(a.a)(Object(a.a)({},t),{},{quotationWorkParts:e.parts});case"START_EXPRESSION_PARTS_FETCH":return Object(a.a)(Object(a.a)({},t),{},{expressionParts:[]});case"COMPLETE_EXPRESSION_PARTS_FETCH":return Object(a.a)(Object(a.a)({},t),{},{expressionParts:e.parts});case"START_EXPRESSION_TYPE_FETCH":return Object(a.a)(Object(a.a)({},t),{},{expressionTypes:[]});case"COMPLETE_EXPRESSION_TYPE_FETCH":return Object(a.a)(Object(a.a)({},t),{},{expressionTypes:e.expressionTypes});case"START_QUOTATION_EXPRESSION_TYPE_FETCH":return Object(a.a)(Object(a.a)({},t),{},{quotationExpressionTypes:[]});case"COMPLETE_QUOTATION_EXPRESSION_TYPE_FETCH":return Object(a.a)(Object(a.a)({},t),{},{quotationExpressionTypes:e.quotationExpressionTypes});case"START_WORK_GROUPS_FETCH":return Object(a.a)(Object(a.a)({},t),{},{workGroups:[]});case"COMPLETE_WORK_GROUPS_FETCH":return Object(a.a)(Object(a.a)({},t),{},{workGroups:e.workGroups});case"START_AUTHOR_TYPES_FETCH":return Object(a.a)(Object(a.a)({},t),{},{authorTypes:[]});case"COMPLETE_AUTHOR_TYPES_FETCH":return Object(a.a)(Object(a.a)({},t),{},{authorTypes:e.authorTypes});default:return t}},n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"TOGGLE_GRAPH_DISPLAY":return Object(a.a)(Object(a.a)({},t),{},{visible:!e.current});case"START_CHART_FETCH":return Object(a.a)(Object(a.a)({},t),{},{count:[]});case"COMPLETE_CHART_FETCH":return Object(a.a)(Object(a.a)({},t),{},{count:e.count});default:return t}},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"TOGGLE_IMAGES_DISPLAY":return Object(a.a)(Object(a.a)({},t),{},{visible:!e.current});case"START_IMAGES_FETCH":return Object(a.a)(Object(a.a)({},t),{},{images:[]});case"COMPLETE_IMAGES_FETCH":return Object(a.a)(Object(a.a)({},t),{},{images:e.images});default:return t}},i=r(15),c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_QUOTATIONS":case"ADD_QUOTATIONS":return[].concat(Object(i.a)(t),Object(i.a)(e.quotations));case"CLEAR_QUOTATIONS":return[];case"START_QUOTATIONS_FETCH":return"fetching";case"COMPLETE_QUOTATIONS_FETCH":return e.quotations.map((function(t){return{id:t.quotation.value,quotation:t.quotation_text.value,title:t.toplevel_expression_title.value,author:t.author_title.value,focused:!1,isInstanceOf:t.isInstanceOf?t.isInstanceOf.value:null,source:t.source?t.source.value:null,citation:t.citation?t.citation.value:null,refText:t.refText?t.refText.value:null,refType:t.refType?t.refType.value.split("/resource/").reverse()[0]:null}}));case"CHANGE_QUOTATIONS_FOCUS":var r=t.map((function(t){return t.id===e.id?Object(a.a)(Object(a.a)({},t),{},{focused:!0}):Object(a.a)(Object(a.a)({},t),{},{focused:!1})}));return Object(i.a)(r);default:return t}},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"CREATE_FOCUSED_QUOTATION":return e.quotation;case"CLEAR_FOCUSED_QUOTATION":return{};default:return t}},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"CREATE_CANONICAL_QUOTATION":return e.quotation;case"CLEAR_CANONICAL_QUOTATION":return null;default:return t}},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_CANONICAL_QUOTATIONS":return[].concat(Object(i.a)(t),Object(i.a)(e.quotations));case"CLEAR_CANONICAL_QUOTATIONS":case"START_CANONICAL_QUOTATIONS_FETCH":return[];case"COMPLETE_CANONICAL_QUOTATIONS_FETCH":return e.canonicalQuotations.map((function(t){return{id:t.quotation.value,quotation:t.quotation_text.value,citation:t.citation?t.citation.value:"citation not yet recorded",focused:!1}}));case"CLEAR_CANONICAL_QUOTATIONS_FOCUS":return t.map((function(t){return Object(a.a)(Object(a.a)({},t),{},{focused:!1})}));case"CHANGE_CANONICAL_QUOTATIONS_FOCUS":var r=t.map((function(t){return t.id===e.id?Object(a.a)(Object(a.a)({},t),{},{focused:!0}):Object(a.a)(Object(a.a)({},t),{},{focused:!1})}));return Object(i.a)(r);default:return t}},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_MANIFESTATION_QUOTATIONS":return[].concat(Object(i.a)(t),Object(i.a)(e.quotations));case"CLEAR_MANIFESTATION_QUOTATIONS":case"START_MANIFESTATION_QUOTATIONS_FETCH":return[];case"COMPLETE_MANIFESTATION_QUOTATIONS_FETCH":return e.manifestationQuotations.map((function(t){return{id:t.quotation.value,quotation:t.quotation_text.value,focused:!1,isManifestationOf:t.isManifestationOf?t.isManifestationOf.value:null}}));case"CLEAR_MANIFESTATION_QUOTATIONS_FOCUS":return t.map((function(t){return Object(a.a)(Object(a.a)({},t),{},{focused:!1})}));case"CHANGE_MANIFESTATION_QUOTATIONS_FOCUS":var r=t.map((function(t){return t.id===e.id?Object(a.a)(Object(a.a)({},t),{},{focused:!0}):Object(a.a)(Object(a.a)({},t),{},{focused:!1})}));return Object(i.a)(r);default:return t}},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_PARAGRAPH":return e.paragraph;case"CLEAR_PARAGRAPH":case"START_PARAGRAPH_FETCH":return{};case"COMPLETE_PARAGRAPH_FETCH":return e.paragraph;case"START_REVIEW_FETCH":return t;case"COMPLETE_REVIEW_FETCH":return Object(a.a)(Object(a.a)({},t),{},{review:e.review});default:return t}},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_SOURCE_PARAGRAPH":return e.sourceParagraph;case"CLEAR_SOURCE_PARAGRAPH":case"START_SOURCE_PARAGRAPH_FETCH":return{};case"COMPLETE_SOURCE_PARAGRAPH_FETCH":return e.sourceParagraph;case"START_SOURCE_PARAGRAPH_REVIEW_FETCH":return t;case"COMPLETE_SOURCE_PARAGRAPH_REVIEW_FETCH":return Object(a.a)(Object(a.a)({},t),{},{review:e.review});default:return t}},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"TOGGLE_FULL_TEXT_DISPLAY":return Object(a.a)(Object(a.a)({},t),{},{visible:!e.current});case"ADD_FULL_TEXT":return Object(a.a)(Object(a.a)({},t),{},{textInfo:e.text});case"CLEAR_FULL_TEXT":case"START_FULL_TEXT_FETCH":return Object(a.a)(Object(a.a)({},t),{},{textInfo:{}});case"COMPLETE_FULL_TEXT_FETCH":return Object(a.a)(Object(a.a)({},t),{},{textInfo:e.text});default:return t}};r.d(e,"configure",(function(){return v}));var T=r(37),E=r(155).default,v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=T.combineReducers({search:o,quotations:c,focusedQuotation:u,canonicalQuotation:p,canonicalQuotations:l,manifestationQuotations:h,paragraph:f,sourceParagraph:m,chart:n,images:s,fullText:d}),r=T.createStore(e,t,T.compose(T.applyMiddleware(E),window.devToolsExtension?window.devToolsExtension():function(t){return t}));return r}},25:function(t,e,r){"use strict";r.r(e);var a=r(41),o=r(3),n=r(4),s=r(105),i=function(){function t(e){if(Object(o.a)(this,t),this.els=[],this.behaviors=[],this.hasStyle=!1,this.prefixes=[],e)this.base=e;else try{window&&(this.base=window.location.href.replace(/\/[^\/]*$/,"/"))}catch(r){this.base=""}this.behaviors.push(s),this.supportsShadowDom=document.head.createShadowRoot||document.head.attachShadow}return Object(n.a)(t,[{key:"getHTML5",value:function(t,e,r){var a=this;return window.location.href.startsWith(this.base)&&t.indexOf("/")>=0&&(this.base=t.replace(/\/[^\/]*$/,"/")),new Promise((function(e,r){var a=new XMLHttpRequest;a.open("GET",t),a.send(),a.onload=function(){this.status>=200&&this.status<300?e(this.response):r(this.statusText)},a.onerror=function(){r(this.statusText)}})).catch((function(t){console.log(t)})).then((function(t){return a.makeHTML5(t,e,r)}))}},{key:"makeHTML5",value:function(t,e,r){var a=(new DOMParser).parseFromString(t,"text/xml"),o=this.domToHTML5(a,e,r);return this.registerTEIElements(o,e)}},{key:"domToHTML5",value:function(t,e,r){var a=this;this._fromTEI(t);return this.dom=function t(e){var o,n=!1;switch(e.namespaceURI){case"http://www.tei-c.org/ns/1.0":o=document.createElement("tei-"+e.tagName);break;case"http://www.tei-c.org/ns/Examples":if("egXML"==e.tagName){o=document.createElement("teieg-"+e.tagName);break}case"http://relaxng.org/ns/structure/1.0":o=document.createElement("rng-"+e.tagName);break;default:o=document.importNode(e,!1),n=!0}for(var s=0,i=Array.from(e.attributes);s<i.length;s++){var c=i[s];!c.name.startsWith("xmlns")||n?o.setAttribute(c.name,c.value):"xmlns"==c.name&&o.setAttribute("data-xmlns",c.value),"xml:id"!=c.name||n||o.setAttribute("id",c.value),"xml:lang"!=c.name||n||o.setAttribute("lang",c.value),"rendition"==c.name&&o.setAttribute("class",c.value.replace(/#/g,""))}if(o.setAttribute("data-teiname",e.localName),0==e.childNodes.length&&o.setAttribute("data-empty",""),"tagsDecl"==e.localName){for(var u=document.createElement("style"),p=0,l=Array.from(e.childNodes);p<l.length;p++){var h=l[p];if(h.nodeType==Node.ELEMENT_NODE&&"rendition"==h.localName&&"css"==h.getAttribute("scheme")){var f="";h.hasAttribute("selector")?(f+=h.getAttribute("selector").replace(/([^#, >]+\w*)/g,"tei-$1").replace(/#tei-/g,"#")+"{\n",f+=h.textContent):(f+="."+h.getAttribute("xml:id")+"{\n",f+=h.textContent),f+="\n}\n",u.appendChild(document.createTextNode(f))}}u.childNodes.length>0&&(o.appendChild(u),a.hasStyle=!0)}"prefixDef"==e.localName&&(a.prefixes.push(e.getAttribute("ident")),a.prefixes[e.getAttribute("ident")]={matchPattern:e.getAttribute("matchPattern"),replacementPattern:e.getAttribute("replacementPattern")});for(var m=0,d=Array.from(e.childNodes);m<d.length;m++){var T=d[m];T.nodeType==Node.ELEMENT_NODE?o.appendChild(t(T)):o.appendChild(T.cloneNode())}return r&&r(o),o}(t.documentElement)}},{key:"registerTEIElements",value:function(t,e){if(t.registerElement?this.registerAll(this.els):this.fallback(this.els),this.done=!0,!e)return this.dom;e(this.dom,this)}},{key:"addStyle",value:function(t,e){this.hasStyle&&t.getElementsByTagName("head").item(0).appendChild(e.getElementsByTagName("style").item(0).cloneNode(!0))}},{key:"addShadowStyle",value:function(t){this.shadowCSS&&(t.innerHTML='<style>@import url("'+this.shadowCSS+'");</style>'+t.innerHTML)}},{key:"addBehaviors",value:function(t){t.handlers||t.fallbacks?this.behaviors.push(t):console.log("No handlers or fallback methods found.")}},{key:"setBaseUrl",value:function(t){this.base=t}},{key:"_fromTEI",value:function(t){var e=t.documentElement;this.els=new Set(Array.from(e.getElementsByTagNameNS("http://www.tei-c.org/ns/1.0","*"),(function(t){return t.tagName}))),this.els.add("egXML"),this.els.add(e.tagName)}},{key:"_insert",value:function(t,e){var r=document.createElement("span");return e.length>1?e[0].includes("<")&&e[1].includes("</")?r.innerHTML=e[0]+t.innerHTML+e[1]:r.innerHTML="<span>"+e[0]+"</span>"+t.innerHTML+"<span>"+e[1]+"</span>":e[0].includes("<")?r.innerHTML=e[0]+t.innerHTML:r.innerHTML="<span>"+e[0]+"</span>"+t.innerHTML,r.children.length>1?r:r.children[0]}},{key:"_template",value:function(t,e){var r=t;if(t.search(/$(\w*)@(\w+)/))for(var a,o=/\$(\w*)@(\w+)/g;a=o.exec(t);)e.hasAttribute(a[2])&&(r=a[1]&&this[a[1]]?r.replace(a[0],this[a[1]].call(this,e.getAttribute(a[2]))):r.replace(a[0],e.getAttribute(a[2])));return r}},{key:"tagName",value:function(t){return"egXML"==t?"teieg-"+t:"tei-"+t}},{key:"decorator",value:function(t){var e=this;return function(r){for(var a=[],o=0;o<t.length;o++)a.push(e._template(t[o],r));return e._insert(r,a)}}},{key:"getHandler",value:function(t){for(var e=this.behaviors.length-1;e>=0;e--)if(this.behaviors[e].handlers[t])return Array.isArray(this.behaviors[e].handlers[t])?this.append(this.decorator(this.behaviors[e].handlers[t])):this.append(this.behaviors[e].handlers[t])}},{key:"getFallback",value:function(t){for(var e=this.behaviors.length-1;e>=0;e--)if(this.behaviors[e].handlers[t])return Array.isArray(this.behaviors[e].handlers[t])?this.decorator(this.behaviors[e].handlers[t]):this.behaviors[e].handlers[t]}},{key:"append",value:function(t,e){if(!e){var r=this;return this.supportsShadowDom?function(){var e=t.call(r,this);e&&r._appendShadow(this,e)}:function(){var e=t.call(r,this);e&&!this.querySelector(":scope > "+e.nodeName)&&r._appendBasic(this,e)}}var a=t.call(this,e);a&&!e.querySelector(":scope > "+a.nodeName)&&(this.supportsShadowDom?this._appendShadow(e,a):this._appendBasic(e,a))}},{key:"_appendShadow",value:function(t,e){var r=t.attachShadow({mode:"open"});this.addShadowStyle(r),r.appendChild(e)}},{key:"_appendBasic",value:function(t,e){this.hideContent(t),t.appendChild(e)}},{key:"registerAll",value:function(t){var e,r=Object(a.a)(t);try{for(r.s();!(e=r.n()).done;){var o=e.value,n=Object.create(HTMLElement.prototype),s=this.getHandler(o);s&&(n.createdCallback=s);var i=this.tagName(o);try{document.registerElement(i,{prototype:n})}catch(c){console.log(i+" couldn't be registered or is already registered."),console.log(c)}}}catch(u){r.e(u)}finally{r.f()}}},{key:"fallback",value:function(t){var e,r=Object(a.a)(t);try{for(r.s();!(e=r.n()).done;){var o=e.value,n=this.getFallback(o);if(n)for(var s=0,i=Array.from(this.dom.getElementsByTagName(this.tagName(o)));s<i.length;s++){var c=i[s];this.append(n,c)}}}catch(u){r.e(u)}finally{r.f()}}},{key:"rw",value:function(t){return t.match(/^(?:http|mailto|file|\/|#).*$/)?t:this.base+t}},{key:"first",value:function(t){return t.replace(/ .*$/,"")}},{key:"serialize",value:function(t,e){var r="";if(!e){r+="&lt;"+t.getAttribute("data-teiname");for(var a=0,o=Array.from(t.attributes);a<o.length;a++){var n=o[a];n.name.startsWith("data-")||["id","lang","class"].includes(n.name)||(r+=" "+n.name+'="'+n.value+'"'),"data-xmlns"==n.name&&(r+=' xmlns="'+n.value+'"')}t.childNodes.length>0?r+=">":r+="/>"}for(var s=0,i=Array.from(t.childNodes);s<i.length;s++){var c=i[s];switch(c.nodeType){case Node.ELEMENT_NODE:r+=this.serialize(c);break;case Node.PROCESSING_INSTRUCTION_NODE:r+="&lt;?"+c.nodeValue+"?>";break;case Node.COMMENT_NODE:r+="&lt;!--"+c.nodeValue+"--\x3e";break;default:r+=c.nodeValue.replace(/</g,"&lt;")}}return!e&&t.childNodes.length>0&&(r+="&lt;/"+t.getAttribute("data-teiname")+">"),r}},{key:"hideContent",value:function(t){if(t.childNodes.length>0){var e=t.innerHTML;t.innerHTML="";var r=document.createElement("span");r.setAttribute("style","display:none;"),r.setAttribute("class","hide"),r.innerHTML=e,t.appendChild(r)}}},{key:"unEscapeEntities",value:function(t){return t.replace(/&gt;/,">").replace(/&quot;/,'"').replace(/&apos;/,"'").replace(/&amp;/,"&")}},{key:"savePosition",value:function(){localStorage.setItem("scroll",window.scrollY)}},{key:"restorePosition",value:function(){localStorage.getItem("scroll")&&window.scrollTo(0,localStorage.getItem("scroll"))}},{key:"fromODD",value:function(){}}]),t}();try{window&&(window.CETEI=i,window.unload=i.savePosition,window.load=i.restorePosition)}catch(c){}e.default=i},66:function(t,e,r){t.exports=r(156)},9:function(t,e,r){"use strict";r.r(e),r.d(e,"clearSearchParameters",(function(){return s})),r.d(e,"setSearchParameters",(function(){return i})),r.d(e,"startSearchWorksFetch",(function(){return c})),r.d(e,"completeSearchWorksFetch",(function(){return u})),r.d(e,"fetchSearchWorksList",(function(){return p})),r.d(e,"startQuotationAuthorsFetch",(function(){return l})),r.d(e,"completeQuotationAuthorsFetch",(function(){return h})),r.d(e,"fetchQuotationAuthors",(function(){return f})),r.d(e,"startExpressionAuthorsFetch",(function(){return m})),r.d(e,"completeExpressionAuthorsFetch",(function(){return d})),r.d(e,"fetchExpressionAuthors",(function(){return T})),r.d(e,"startQuotationWorksListFetch",(function(){return E})),r.d(e,"completeQuotationWorksListFetch",(function(){return v})),r.d(e,"fetchQuotationWorksList",(function(){return O})),r.d(e,"startQuotationWorkPartsFetch",(function(){return y})),r.d(e,"completeQuotationWorkPartsFetch",(function(){return A})),r.d(e,"fetchQuotationWorkParts",(function(){return _})),r.d(e,"startExpressionPartsFetch",(function(){return x})),r.d(e,"completeExpressionPartsFetch",(function(){return g})),r.d(e,"fetchExpressionParts",(function(){return P})),r.d(e,"startQuotationExpressionTypeFetch",(function(){return C})),r.d(e,"completeQuotationExpressionTypeFetch",(function(){return S})),r.d(e,"fetchQuotationExpressionTypes",(function(){return b})),r.d(e,"startExpressionTypeFetch",(function(){return I})),r.d(e,"completeExpressionTypeFetch",(function(){return q})),r.d(e,"fetchExpressionTypes",(function(){return R})),r.d(e,"startWorkGroupsFetch",(function(){return N})),r.d(e,"completeWorkGroupsFetch",(function(){return k})),r.d(e,"fetchWorkGroups",(function(){return w})),r.d(e,"startAuthorTypesFetch",(function(){return L})),r.d(e,"completeAuthorTypesFetch",(function(){return j})),r.d(e,"fetchAuthorTypes",(function(){return Q})),r.d(e,"toggleGraphDisplay",(function(){return F})),r.d(e,"startChartFetch",(function(){return D})),r.d(e,"completeChartFetch",(function(){return M})),r.d(e,"fetchChart",(function(){return H})),r.d(e,"toggleImagesDisplay",(function(){return W})),r.d(e,"startImagesFetch",(function(){return U})),r.d(e,"completeImagesFetch",(function(){return G})),r.d(e,"fetchImages",(function(){return B})),r.d(e,"addQuotations",(function(){return X})),r.d(e,"clearQuotations",(function(){return Y})),r.d(e,"startQuotationsFetch",(function(){return K})),r.d(e,"clearQuotationsFocus",(function(){return V})),r.d(e,"completeQuotationsFetch",(function(){return z})),r.d(e,"fetchQuotations",(function(){return $})),r.d(e,"changeQuotationsFocus",(function(){return J})),r.d(e,"clearFocusedQuotation",(function(){return Z})),r.d(e,"createFocusedQuotation",(function(){return tt})),r.d(e,"createCanonicalQuotation",(function(){return et})),r.d(e,"clearCanonicalQuotation",(function(){return rt})),r.d(e,"changeCanonicalQuotationsFocus",(function(){return at})),r.d(e,"clearCanonicalQuotationsFocus",(function(){return ot})),r.d(e,"clearCanonicalQuotations",(function(){return nt})),r.d(e,"startCanonicalQuotationsFetch",(function(){return st})),r.d(e,"completeCanonicalQuotationsFetch",(function(){return it})),r.d(e,"fetchCanonicalQuotations",(function(){return ct})),r.d(e,"changeManifestationQuotationsFocus",(function(){return ut})),r.d(e,"clearManifestationQuotationsFocus",(function(){return pt})),r.d(e,"clearManifestationQuotations",(function(){return lt})),r.d(e,"startManifestationQuotationsFetch",(function(){return ht})),r.d(e,"completeManifestationQuotationsFetch",(function(){return ft})),r.d(e,"fetchManifestationQuotations",(function(){return mt})),r.d(e,"clearParagraph",(function(){return dt})),r.d(e,"startParagraphFetch",(function(){return Tt})),r.d(e,"completeParagraphFetch",(function(){return Et})),r.d(e,"fetchParagraph",(function(){return vt})),r.d(e,"startReviewFetch",(function(){return Ot})),r.d(e,"completeReviewFetch",(function(){return yt})),r.d(e,"fetchReview",(function(){return At})),r.d(e,"clearSourceParagraph",(function(){return _t})),r.d(e,"startSourceParagraphFetch",(function(){return xt})),r.d(e,"completeSourceParagraphFetch",(function(){return gt})),r.d(e,"fetchSourceParagraph",(function(){return Pt})),r.d(e,"startSourceParagraphReviewFetch",(function(){return Ct})),r.d(e,"completeSourceParagraphReviewFetch",(function(){return St})),r.d(e,"fetchSourceParagraphReview",(function(){return bt})),r.d(e,"toggleFullTextDisplay",(function(){return It})),r.d(e,"clearFullText",(function(){return qt})),r.d(e,"startFullTextFetch",(function(){return Rt})),r.d(e,"completeFullTextFetch",(function(){return Nt})),r.d(e,"fetchFullText",(function(){return kt}));var a=r(8),o=r.n(a),n="https://sparql-docker.scta.info/ds/query",s=function(){return{type:"CLEAR_SEARCH_PARAMETERS"}},i=function(t){return{type:"SET_SEARCH_PARAMETERS",searchParameters:t}},c=function(){return{type:"START_SEARCH_WORKS_FETCH"}},u=function(t){return{type:"COMPLETE_SEARCH_WORKS_FETCH",listOfWorks:t}},p=function(){return function(t,e){var r=e(),a="";r.search.searchParameters.workGroup&&(a=["<http://scta.info/resource/"+r.search.searchParameters.workGroup+"> <http://scta.info/property/hasExpression> ?expression ."].join(""));var s="";r.search.searchParameters.expressionAuthorType&&(s=["?expression <http://www.loc.gov/loc.terms/relators/AUT> ?expressionAuthor . ","?expressionAuthor <http://scta.info/property/personType> <http://scta.info/resource/"+r.search.searchParameters.expressionAuthorType+"> ."].join(""));var i="";r.search.searchParameters.expressionAuthor&&(i=["?expression <http://www.loc.gov/loc.terms/relators/AUT> <http://scta.info/resource/"+r.search.searchParameters.expressionAuthor+"> ."].join(""));var p=["SELECT ?type ?expression ?expressionShortId ?expressionTitle ?author ?authorTitle ?workGroup ?workGroupTitle","WHERE { ","?expression a <http://scta.info/resource/expression> .","?expression a ?type .","?expression <http://scta.info/property/level> '1' . ",s,a,i,"?expression <http://scta.info/property/shortId> ?expressionShortId .","?expression <http://scta.info/property/shortId> ?expressionShortId .","?expression <http://purl.org/dc/elements/1.1/title> ?expressionTitle .","?expression <http://www.loc.gov/loc.terms/relators/AUT> ?author . ","?author <http://purl.org/dc/elements/1.1/title> ?authorTitle .","?expression <http://purl.org/dc/terms/isPartOf> ?workGroup .","?workGroup <http://purl.org/dc/elements/1.1/title> ?workGroupTitle .","}","ORDER BY ?expressionTitle"].join("");t(c()),o.a.get(n,{params:{query:p,output:"json"}}).then((function(e){var r=e.data.results.bindings.map((function(t){return{expression:t.expression.value,expressionShortId:t.expressionShortId?t.expressionShortId.value:"",expressionTitle:t.expressionTitle.value,workGroup:t.workGroup?t.workGroup.value:"",workGroupTitle:t.workGroupTitle?t.workGroupTitle.value:"",author:t.author?t.author.value:"",authorTitle:t.author?t.authorTitle.value:"",type:t.type.value}}));t(u(r))}))}},l=function(){return{type:"START_QUOTATION_AUTHORS_FETCH"}},h=function(t){return{type:"COMPLETE_QUOTATION_AUTHORS_FETCH",authors:t}},f=function(){return function(t,e){var r=e(),a="";r.search.searchParameters.quotationAuthorType&&(a=["?author <http://scta.info/property/personType> <http://scta.info/resource/"+r.search.searchParameters.quotationAuthorType+"> ."].join(""));var s="";(r.search.searchParameters.quotationAuthorDateAfter||r.search.searchParameters.quotationAuthorDateBefore)&&(s="?author <http://scta.info/property/dateOfBirth> ?dateOfBirth .");var i="";r.search.searchParameters.quotationAuthorDateAfter&&(i="FILTER (?dateOfBirth >= '"+r.search.searchParameters.quotationAuthorDateAfter+"').");var c="";r.search.searchParameters.quotationAuthorDateBefore&&(c="FILTER (?dateOfBirth <= '"+r.search.searchParameters.quotationAuthorDateBefore+"').");var u=["SELECT DISTINCT ?author ?authorTitle ?authorShortId ","WHERE { ","?author a <http://scta.info/resource/person> .",a,s,"?resource a <http://scta.info/resource/expression> .","?resource <http://scta.info/property/level> '1' .","?resource <http://www.loc.gov/loc.terms/relators/AUT> ?author .","?author <http://scta.info/property/shortId> ?authorShortId .","?author <http://purl.org/dc/elements/1.1/title> ?authorTitle .",i,c,"}","ORDER BY ?authorTitle"].join("");t(l()),o.a.get(n,{params:{query:u,output:"json"}}).then((function(e){var r=e.data.results.bindings.map((function(t){return{author:t.author.value,authorShortId:t.authorShortId.value,authorTitle:t.authorTitle.value}}));t(h(r))}))}},m=function(){return{type:"START_EXPRESSION_AUTHORS_FETCH"}},d=function(t){return{type:"COMPLETE_EXPRESSION_AUTHORS_FETCH",authors:t}},T=function(){return function(t,e){var r=e(),a="";r.search.searchParameters.expressionAuthorType&&(a=["?author <http://scta.info/property/personType> <http://scta.info/resource/"+r.search.searchParameters.expressionAuthorType+"> ."].join(""));var s="";(r.search.searchParameters.expressionAuthorDateAfter||r.search.searchParameters.expressionAuthorDateBefore)&&(s="?author <http://scta.info/property/dateOfBirth> ?dateOfBirth .");var i="";r.search.searchParameters.expressionAuthorDateAfter&&(i="FILTER (?dateOfBirth >= '"+r.search.searchParameters.expressionAuthorDateAfter+"').");var c="";r.search.searchParameters.expressionAuthorDateBefore&&(c="FILTER (?dateOfBirth <= '"+r.search.searchParameters.expressionAuthorDateBefore+"').");var u=["SELECT DISTINCT ?author ?authorTitle ?authorShortId ","WHERE { ","?author a <http://scta.info/resource/person> .",a,s,"?resource a <http://scta.info/resource/expression> .","?resource <http://scta.info/property/level> '1' .","?resource <http://www.loc.gov/loc.terms/relators/AUT> ?author .","?author <http://scta.info/property/shortId> ?authorShortId .","?author <http://purl.org/dc/elements/1.1/title> ?authorTitle .",i,c,"}","ORDER BY ?authorTitle"].join("");t(m()),o.a.get(n,{params:{query:u,output:"json"}}).then((function(e){var r=e.data.results.bindings.map((function(t){return{author:t.author.value,authorShortId:t.authorShortId.value,authorTitle:t.authorTitle.value}}));t(d(r))}))}},E=function(){return{type:"START_QUOTATION_WORKS_LIST_FETCH"}},v=function(t){return{type:"COMPLETE_QUOTATION_WORKS_LIST_FETCH",quotationWorksList:t}},O=function(){return function(t,e){var r=e(),a="";r.search.searchParameters.quotationWorkGroup&&(a=["<http://scta.info/resource/"+r.search.searchParameters.quotationWorkGroup+"> <http://scta.info/property/hasExpression> ?expression ."].join(""));var s="";r.search.searchParameters.quotationAuthor&&(s=["?expression <http://www.loc.gov/loc.terms/relators/AUT> <http://scta.info/resource/"+r.search.searchParameters.quotationAuthor+"> ."].join(""));var i="";r.search.searchParameters.quotationAuthorType&&(i=["?expression <http://www.loc.gov/loc.terms/relators/AUT> ?quotationAuthor . ","?quotationAuthor <http://scta.info/property/personType> <http://scta.info/resource/"+r.search.searchParameters.quotationAuthorType+"> ."].join(""));var c=["SELECT ?type ?expression ?expressionShortId ?expressionTitle ?author ?authorTitle ?workGroup ?workGroupTitle","WHERE { ","?expression a <http://scta.info/resource/expression> .","?expression a ?type .","?expression <http://scta.info/property/level> '1' . ",i,a,s,"?expression <http://scta.info/property/shortId> ?expressionShortId .","?expression <http://purl.org/dc/elements/1.1/title> ?expressionTitle .","OPTIONAL { ","?expression <http://www.loc.gov/loc.terms/relators/AUT> ?author . ","?author <http://purl.org/dc/elements/1.1/title> ?authorTitle .","}","?expression <http://purl.org/dc/terms/isPartOf> ?workGroup .","?workGroup <http://purl.org/dc/elements/1.1/title> ?workGroupTitle .","}","ORDER BY ?expressionTitle"].join("");t(E()),o.a.get(n,{params:{query:c,output:"json"}}).then((function(e){var r=e.data.results.bindings.map((function(t){return{expression:t.expression.value,expressionShortId:t.expressionShortId?t.expressionShortId.value:"",expressionTitle:t.expressionTitle.value,workGroup:t.workGroup?t.workGroup.value:"",workGroupTitle:t.workGroupTitle?t.workGroupTitle.value:"",author:t.author?t.author.value:"",authorTitle:t.author?t.authorTitle.value:"",type:t.type.value}}));t(v(r))}))}},y=function(){return{type:"START_QUOTATION_WORK_PARTS_FETCH"}},A=function(t){return{type:"COMPLETE_QUOTATION_WORK_PARTS_FETCH",parts:t}},_=function(){return function(t,e){var r=e(),a=["SELECT ?grandparent ?grandparent_title ?parent_title ?parent ?child ?child_title ","WHERE { ","BIND(<http://scta.info/resource/"+(""!=r.search.searchParameters.quotationWorkPart?r.search.searchParameters.quotationWorkPart:""!=r.search.searchParameters.quotationWork?r.search.searchParameters.quotationWork:"")+"> AS ?parent)","OPTIONAL {","?parent <http://purl.org/dc/elements/1.1/title> ?parent_title","}","OPTIONAL {","?parent <http://purl.org/dc/terms/hasPart> ?child .","?child <http://purl.org/dc/elements/1.1/title> ?child_title .","}","OPTIONAL {","?parent <http://purl.org/dc/terms/isPartOf> ?grandparent .","?grandparent <http://purl.org/dc/elements/1.1/title> ?grandparent_title","}","}"].join("");t(y()),o.a.get(n,{params:{query:a,output:"json"}}).then((function(e){var r=e.data.results.bindings.map((function(t){return{grandparent:t.grandparent?t.grandparent.value:"",grandparent_title:t.grandparent_title?t.grandparent_title.value:"",parent:t.parent.value,parent_title:t.parent_title?t.parent_title.value:"",child:t.child?t.child.value:"",child_title:t.child_title?t.child_title.value:""}}));t(A(r))}))}},x=function(){return{type:"START_EXPRESSION_PARTS_FETCH"}},g=function(t){return{type:"COMPLETE_EXPRESSION_PARTS_FETCH",parts:t}},P=function(){return function(t,e){var r=e(),a="",s=["SELECT ?grandparent ?grandparent_title ?grandparent_level ?parent_title ?parent ?parent_level ?child ?child_level ?child_title ","WHERE { ","BIND(<http://scta.info/resource/"+(a=""!=r.search.searchParameters.expressionPart?r.search.searchParameters.expressionPart:""!=r.search.searchParameters.expressionId?r.search.searchParameters.expressionId:"")+"> AS ?parent)","OPTIONAL {","?parent <http://purl.org/dc/elements/1.1/title> ?parent_title .","?parent <http://scta.info/property/level> ?parent_level .","}","OPTIONAL {","?parent <http://purl.org/dc/terms/hasPart> ?child .","?child <http://purl.org/dc/elements/1.1/title> ?child_title .","?child <http://scta.info/property/level> ?child_level .","}","OPTIONAL {","?parent <http://purl.org/dc/terms/isPartOf> ?grandparent .","?grandparent <http://purl.org/dc/elements/1.1/title> ?grandparent_title .","?grandparent <http://scta.info/property/level> ?grandparent_level .","}","}"].join("");a&&(t(x()),o.a.get(n,{params:{query:s,output:"json"}}).then((function(e){var r=e.data.results.bindings.map((function(t){return{grandparent:t.grandparent?t.grandparent.value:"",grandparent_title:t.grandparent_title?t.grandparent_title.value:"",grandparent_level:t.grandparent_level?t.grandparent_level.value:"",parent:t.parent.value,parent_title:t.parent_title?t.parent_title.value:"",parent_level:t.parent_level?t.parent_level.value:"",child:t.child?t.child.value:"",child_title:t.child_title?t.child_title.value:"",child_level:t.child_level?t.child_level.value:""}}));t(g(r))})))}},C=function(){return{type:"START_QUOTATION_EXPRESSION_TYPE_FETCH"}},S=function(t){return{type:"COMPLETE_QUOTATION_EXPRESSION_TYPE_FETCH",quotationExpressionTypes:t}},b=function(){return function(t,e){e();var r=["SELECT ?quotationExpressionType ?quotationExpressionTypeTitle ?quotationExpressionTypeShortId ","WHERE { ","?quotationExpressionType a <http://scta.info/resource/expressionType> .","?quotationExpressionType <http://scta.info/property/shortId> ?quotationExpressionTypeShortId .","?quotationExpressionType <http://purl.org/dc/elements/1.1/title> ?quotationExpressionTypeTitle .","}","ORDER BY ?quotationExpressionTypeTitle"].join("");t(C()),o.a.get(n,{params:{query:r,output:"json"}}).then((function(e){var r=e.data.results.bindings.map((function(t){return{quotationExpressionType:t.quotationExpressionType.value,quotationExpressionTypeShortId:t.quotationExpressionTypeShortId.value,quotationExpressionTypeTitle:t.quotationExpressionTypeTitle.value}}));t(S(r))}))}},I=function(){return{type:"START_EXPRESSION_TYPE_FETCH"}},q=function(t){return{type:"COMPLETE_EXPRESSION_TYPE_FETCH",expressionTypes:t}},R=function(){return function(t,e){e();var r=["SELECT ?expressionType ?expressionTypeTitle ?expressionTypeShortId ","WHERE { ","?expressionType a <http://scta.info/resource/expressionType> .","?expressionType <http://scta.info/property/shortId> ?expressionTypeShortId .","?expressionType <http://purl.org/dc/elements/1.1/title> ?expressionTypeTitle .","}","ORDER BY ?expressionTypeTitle"].join("");t(I()),o.a.get(n,{params:{query:r,output:"json"}}).then((function(e){var r=e.data.results.bindings.map((function(t){return{expressionType:t.expressionType.value,expressionTypeShortId:t.expressionTypeShortId.value,expressionTypeTitle:t.expressionTypeTitle.value}}));t(q(r))}))}},N=function(){return{type:"START_WORK_GROUPS_FETCH"}},k=function(t){return{type:"COMPLETE_WORK_GROUPS_FETCH",workGroups:t}},w=function(){return function(t,e){e();var r=["SELECT ?workGroup ?workGroupShortId ?workGroupTitle ","WHERE { ","?workGroup a <http://scta.info/resource/workGroup> .","?workGroup <http://scta.info/property/shortId> ?workGroupShortId .","?workGroup <http://purl.org/dc/elements/1.1/title> ?workGroupTitle .","}","ORDER BY ?workGroupTitle"].join("");t(N()),o.a.get(n,{params:{query:r,output:"json"}}).then((function(e){var r=e.data.results.bindings.map((function(t){return{workGroup:t.workGroup.value,workGroupShortId:t.workGroupShortId.value,workGroupTitle:t.workGroupTitle.value}}));t(k(r))}))}},L=function(){return{type:"START_AUTHOR_TYPES_FETCH"}},j=function(t){return{type:"COMPLETE_AUTHOR_TYPES_FETCH",authorTypes:t}},Q=function(){return function(t,e){e();var r=["SELECT ?authorType ?authorTypeTitle ?authorTypeShortId ","WHERE { ","?authorType a <http://scta.info/resource/personType> .","?authorType <http://scta.info/property/shortId> ?authorTypeShortId .","?authorType <http://purl.org/dc/elements/1.1/title> ?authorTypeTitle .","}","ORDER BY ?authorTypeTitle"].join("");t(L()),o.a.get(n,{params:{query:r,output:"json"}}).then((function(e){var r=e.data.results.bindings.map((function(t){return{authorType:t.authorType.value,authorTypeShortId:t.authorTypeShortId.value,authorTypeTitle:t.authorTypeTitle.value}}));t(j(r))}))}},F=function(t){return{type:"TOGGLE_GRAPH_DISPLAY",current:t}},D=function(){return{type:"START_CHART_FETCH"}},M=function(t){return{type:"COMPLETE_CHART_FETCH",count:t}},H=function(){return function(t,e){var r=e(),a=parseInt(r.search.searchParameters.expressionLevel);1===a&&(a=2);var s=r.search.searchParameters.searchText||"",i="";r.search.searchParameters.workGroup&&(i=["?ref <http://purl.org/dc/terms/isPartOf> <http://scta.info/resource/"+r.search.searchParameters.workGroup+">  . "].join(""));var c="";r.search.searchParameters.expressionAuthorType&&(c="?author <http://scta.info/property/personType> <http://scta.info/resource/"+r.search.searchParameters.expressionAuthorType+"> .");var u="";(r.search.searchParameters.expressionAuthorDateAfter||r.search.searchParameters.expressionAuthorDateBefore)&&(u="?author <http://scta.info/property/dateOfBirth> ?expressionAuthorDateOfBirth .");var p="";r.search.searchParameters.expressionAuthorDateAfter&&(p="FILTER (?expressionAuthorDateOfBirth >= '"+r.search.searchParameters.expressionAuthorDateAfter+"').");var l="";r.search.searchParameters.expressionAuthorDateBefore&&(l="FILTER (?expressionAuthorDateOfBirth <= '"+r.search.searchParameters.expressionAuthorDateBefore+"').");var h="";r.search.searchParameters.expressionAuthor&&(h="?ref <http://www.loc.gov/loc.terms/relators/AUT> <http://scta.info/resource/"+r.search.searchParameters.expressionAuthor+"> .");var f=["?ref <http://www.loc.gov/loc.terms/relators/AUT> ?author . ",c,u,h].join(""),m="";r.search.searchParameters.quotationAuthorType&&(m="?quotationAuthor <http://scta.info/property/personType> <http://scta.info/resource/"+(A=r.search.searchParameters.quotationAuthorType)+">  . ");var d="";(r.search.searchParameters.quotationAuthorDateAfter||r.search.searchParameters.quotationAuthorDateBefore)&&(d="?quotationAuthor <http://scta.info/property/dateOfBirth> ?quotationAuthorDateOfBirth .");var T="";r.search.searchParameters.quotationAuthorDateAfter&&(T="FILTER (?quotationAuthorDateOfBirth >= '"+r.search.searchParameters.quotationAuthorDateAfter+"').");var E="";r.search.searchParameters.quotationAuthorDateBefore&&(E="FILTER (?quotationAuthorDateOfBirth <= '"+r.search.searchParameters.quotationAuthorDateBefore+"').");var v="";r.search.searchParameters.quotationAuthor&&(v="?source_toplevel_expression <http://www.loc.gov/loc.terms/relators/AUT> <http://scta.info/resource/"+(A=r.search.searchParameters.quotationAuthor)+">  . ");var O="";if(r.search.searchParameters.quotationAuthorDateAfter||r.search.searchParameters.quotationAuthorDateBefore||r.search.searchParameters.quotationAuthor||r.search.searchParameters.quotationAuthorType)O=["{","?element <http://scta.info/property/isInstanceOf> ?isInstanceOf .","?isInstanceOf <http://scta.info/property/source> ?source .","?source <http://scta.info/property/isPartOfTopLevelExpression> ?source_toplevel_expression . ","?source_toplevel_expression <http://www.loc.gov/loc.terms/relators/AUT> ?quotationAuthor . ",m,d,v,"}","UNION","{","?element <http://scta.info/property/source> ?source .","?source <http://scta.info/property/isPartOfTopLevelExpression> ?source_toplevel_expression . ","?source_toplevel_expression <http://www.loc.gov/loc.terms/relators/AUT> ?quotationAuthor . ",m,d,v,"}"].join("");var y="";if(r.search.searchParameters.quotationWorkGroup){var A=r.search.searchParameters.quotationWorkGroup;y=["{","?element <http://scta.info/property/isInstanceOf> ?isInstanceOf .","?isInstanceOf <http://scta.info/property/source> ?source .","?source <http://scta.info/property/isPartOfTopLevelExpression> ?source_toplevel_expression . ","<http://scta.info/resource/"+r.search.searchParameters.quotationWorkGroup+"> <http://scta.info/property/hasExpression> ?source_toplevel_expression .","}","UNION","{","?element <http://scta.info/property/source> ?source .","?source <http://scta.info/property/isPartOfTopLevelExpression> ?source_toplevel_expression . ","<http://scta.info/resource/"+r.search.searchParameters.quotationWorkGroup+"> <http://scta.info/property/hasExpression> ?source_toplevel_expression .","}"].join("")}var _="";(r.search.searchParameters.quotationWork||r.search.searchParameters.quotationWorkPart)&&(_=["{","?element <http://scta.info/property/isInstanceOf> ?isInstanceOf .","{","\n#check for quotation whose canonical source is a member of the search expression\n","?isInstanceOf  <http://scta.info/property/source> ?source .","?source <http://scta.info/property/isMemberOf> <http://scta.info/resource/"+(A=r.search.searchParameters.quotationWorkPart?r.search.searchParameters.quotationWorkPart:r.search.searchParameters.quotationWork)+"> .","}","UNION","{","\n#check for quotation whose canonical source is search expression\n","?isInstanceOf  <http://scta.info/property/source> <http://scta.info/resource/"+A+"> .","}","}","UNION","{","\n#check for quotation whose source is a member the search expression\n","{","?element <http://scta.info/property/source> ?source .","?source <http://scta.info/property/isMemberOf> <http://scta.info/resource/"+A+"> .","}","UNION","\n#check for quotation whose source is the search expression\n","{","?element <http://scta.info/property/source> <http://scta.info/resource/"+A+"> .","}","}"].join(""));var x="";if(x="structureElementRef"===r.search.searchParameters.structureElementType?["{?element <http://scta.info/property/structureElementType> <http://scta.info/resource/structureElementRef> .}","MINUS","{?element <http://scta.info/property/isReferenceTo> ?isReferenceTo . }"].join(""):"structureElementRefDup"===r.search.searchParameters.structureElementType?"?element <http://scta.info/property/structureElementType> <http://scta.info/resource/structureElementRef> .":"structureElementQuote"===r.search.searchParameters.structureElementType?"?element <http://scta.info/property/structureElementType> <http://scta.info/resource/structureElementQuote> .":"allDup"===r.search.searchParameters.structureElementType?["{?element <http://scta.info/property/structureElementType> <http://scta.info/resource/structureElementQuote> .}","UNION","{?element <http://scta.info/property/structureElementType> <http://scta.info/resource/structureElementRef> . }"].join(""):["{?element <http://scta.info/property/structureElementType> <http://scta.info/resource/structureElementQuote> .}","UNION","{{?element <http://scta.info/property/structureElementType> <http://scta.info/resource/structureElementRef> .}","MINUS","{?element <http://scta.info/property/isReferenceTo> ?isReferenceTo . }","}"].join(""),r.search.searchParameters.expressionId)var g=["SELECT ?ref ?reftitle ?totalOrderNumber (count(?element) as ?count) ","WHERE {","?ref a <http://scta.info/resource/expression> .","?ref <http://scta.info/property/isMemberOf> <http://scta.info/resource/"+r.search.searchParameters.expressionId+"> .","?ref <http://scta.info/property/level> '"+a+"' .","?ref <http://purl.org/dc/elements/1.1/title> ?reftitle .","OPTIONAL {","?ref <http://scta.info/property/totalOrderNumber> ?totalOrderNumber .","}","OPTIONAL {","?element <http://scta.info/property/isMemberOf> ?ref .",x,"?element <http://scta.info/property/structureElementText> ?quotation_text .",O,y,_,"}",E,T,"FILTER (REGEX(STR(?quotation_text), '"+s+"', 'i')) .","}","group by ?ref ?reftitle ?totalOrderNumber ","ORDER BY ?totalOrderNumber "].join("");else g=["SELECT ?ref ?reftitle ?totalOrderNumber (count(?element) as ?count) ","WHERE {","?ref a <http://scta.info/resource/expression> .","?ref <http://scta.info/property/level> '1' .",i,f,"?ref <http://purl.org/dc/elements/1.1/title> ?reftitle .","OPTIONAL {","?ref <http://scta.info/property/totalOrderNumber> ?totalOrderNumber .","}","OPTIONAL {","?element <http://scta.info/property/isMemberOf> ?ref .",x,"?element <http://scta.info/property/structureElementText> ?quotation_text .",O,y,_,"}",E,T,l,p,"FILTER (REGEX(STR(?quotation_text), '"+s+"', 'i')) .","}","group by ?ref ?reftitle ?totalOrderNumber ","ORDER BY ?totalOrderNumber "].join("");t(D()),o.a.get(n,{params:{query:g,output:"json"}}).then((function(e){var r=e.data.results.bindings.map((function(t){return{item:t.ref?t.ref.value:"",title:t.reftitle?t.reftitle.value:"",count:t.count?t.count.value:""}}));t(M(r))}))}},W=function(t){return{type:"TOGGLE_IMAGES_DISPLAY",current:t}},U=function(){return{type:"START_IMAGES_FETCH"}},G=function(t){return{type:"COMPLETE_IMAGES_FETCH",images:t}},B=function(){return function(t,e){var r=["SELECT ?url ","WHERE { ","<"+e().paragraph.manifestation_id+"> <http://scta.info/property/isOnSurface> ?surface .","?surface <http://scta.info/property/hasISurface> ?isurface .","?isurface <http://scta.info/property/hasCanvas> ?canvas .","?canvas <http://iiif.io/api/presentation/2#hasImageAnnotations> ?anno .","?canvas <http://iiif.io/api/presentation/2#hasImageAnnotations> ?anno .","?anno <http://www.w3.org/1999/02/22-rdf-syntax-ns#first> ?imgres .","?imgres <http://www.w3.org/ns/oa#hasBody> ?body .","?body <http://rdfs.org/sioc/services#has_service> ?url .","}"].join("");t(U()),o.a.get(n,{params:{query:r,output:"json"}}).then((function(e){var r=e.data.results.bindings.map((function(t){return{url:t.url.value}}));t(G(r))}))}},X=function(t){return{type:"ADD_QUOTATIONS",quotations:t}},Y=function(){return{type:"CLEAR_QUOTATIONS"}},K=function(){return{type:"START_QUOTATIONS_FETCH"}},V=function(){return{type:"CLEAR_QUOTATIONS_FOCUS"}},z=function(t){return{type:"COMPLETE_QUOTATIONS_FETCH",quotations:t}},$=function(){return function(t,e){var r=e(),a=r.search.searchParameters.searchText||"",s="";if(r.search.searchParameters.expressionId||r.search.searchParameters.expressionPart)s=["?quotation <http://scta.info/property/isMemberOf> <http://scta.info/resource/"+(y=r.search.searchParameters.expressionPart?r.search.searchParameters.expressionPart:r.search.searchParameters.expressionId)+"> ."].join("");var i="";r.search.searchParameters.expressionAuthorType&&(i="?author <http://scta.info/property/personType> <http://scta.info/resource/"+r.search.searchParameters.expressionAuthorType+"> .");var c="";(r.search.searchParameters.expressionAuthorDateAfter||r.search.searchParameters.expressionAuthorDateBefore)&&(c="?author <http://scta.info/property/dateOfBirth> ?dateOfBirth .");var u="";r.search.searchParameters.expressionAuthorDateAfter&&(u="FILTER (?dateOfBirth >= '"+r.search.searchParameters.expressionAuthorDateAfter+"').");var p="";r.search.searchParameters.expressionAuthorDateBefore&&(p="FILTER (?dateOfBirth <= '"+r.search.searchParameters.expressionAuthorDateBefore+"').");var l="";r.search.searchParameters.expressionAuthor&&(l="?toplevel_expression <http://www.loc.gov/loc.terms/relators/AUT> <http://scta.info/resource/"+r.search.searchParameters.expressionAuthor+"> .");var h=["?toplevel_expression <http://www.loc.gov/loc.terms/relators/AUT> ?author . ",i,c,l,"?author <http://purl.org/dc/elements/1.1/title> ?author_title . "].join(""),f="";r.search.searchParameters.quotationAuthorType&&(f="?quotationAuthor <http://scta.info/property/personType> <http://scta.info/resource/"+(y=r.search.searchParameters.quotationAuthorType)+">  . ");var m="";(r.search.searchParameters.quotationAuthorDateAfter||r.search.searchParameters.quotationAuthorDateBefore)&&(m="?quotationAuthor <http://scta.info/property/dateOfBirth> ?quotationAuthorDateOfBirth .");var d="";r.search.searchParameters.quotationAuthorDateAfter&&(d="FILTER (?quotationAuthorDateOfBirth >= '"+r.search.searchParameters.quotationAuthorDateAfter+"').");var T="";r.search.searchParameters.quotationAuthorDateBefore&&(T="FILTER (?quotationAuthorDateOfBirth <= '"+r.search.searchParameters.quotationAuthorDateBefore+"').");var E="";r.search.searchParameters.quotationAuthor&&(E="?source_toplevel_expression <http://www.loc.gov/loc.terms/relators/AUT> <http://scta.info/resource/"+(y=r.search.searchParameters.quotationAuthor)+">  . ");var v="";if(r.search.searchParameters.quotationAuthorDateAfter||r.search.searchParameters.quotationAuthorDateBefore||r.search.searchParameters.quotationAuthor||r.search.searchParameters.quotationAuthorType)v=["{","?quotation <http://scta.info/property/isInstanceOf> ?isInstanceOf .","?isInstanceOf <http://scta.info/property/source> ?source .","?source <http://scta.info/property/isPartOfTopLevelExpression> ?source_toplevel_expression . ","?source_toplevel_expression <http://www.loc.gov/loc.terms/relators/AUT> ?quotationAuthor . ",f,m,E,"}","UNION","{","?quotation <http://scta.info/property/source> ?source .","?source <http://scta.info/property/isPartOfTopLevelExpression> ?source_toplevel_expression . ","?source_toplevel_expression <http://www.loc.gov/loc.terms/relators/AUT> ?quotationAuthor . ",f,m,E,"}"].join("");var O="";if(r.search.searchParameters.quotationWorkGroup){var y=r.search.searchParameters.quotationWorkGroup;O=["{","?quotation <http://scta.info/property/isInstanceOf> ?isInstanceOf .","?isInstanceOf <http://scta.info/property/source> ?source .","?source <http://scta.info/property/isPartOfTopLevelExpression> ?source_toplevel_expression . ","<http://scta.info/resource/"+r.search.searchParameters.quotationWorkGroup+"> <http://scta.info/property/hasExpression> ?source_toplevel_expression .","}","UNION","{","?quotation <http://scta.info/property/source> ?source .","?source <http://scta.info/property/isPartOfTopLevelExpression> ?source_toplevel_expression . ","<http://scta.info/resource/"+r.search.searchParameters.quotationWorkGroup+"> <http://scta.info/property/hasExpression> ?source_toplevel_expression .","}"].join("")}var A="";(r.search.searchParameters.quotationWork||r.search.searchParameters.quotationWorkPart)&&(A=["{","?quotation <http://scta.info/property/isInstanceOf> ?isInstanceOf .","{","\n#check for quotation whose canonical source is a member of the search expression\n","?isInstanceOf  <http://scta.info/property/source> ?source .","?source <http://scta.info/property/isMemberOf> <http://scta.info/resource/"+(y=r.search.searchParameters.quotationWorkPart?r.search.searchParameters.quotationWorkPart:r.search.searchParameters.quotationWork)+"> .","}","UNION","{","\n#check for quotation whose canonical source is search expression\n","?isInstanceOf  <http://scta.info/property/source> <http://scta.info/resource/"+y+"> .","}","}","UNION","{","\n#check for quotation whose source is a member the search expression\n","{","?quotation <http://scta.info/property/source> ?source .","?source <http://scta.info/property/isMemberOf> <http://scta.info/resource/"+y+"> .","}","UNION","\n#check for quotation whose source is the search expression\n","{","?quotation <http://scta.info/property/source> <http://scta.info/resource/"+y+"> .","}","}"].join(""));var _="";if(r.search.searchParameters.quotationExpressionType){var x=r.search.searchParameters.quotationExpressionType;_=["{","?quotation <http://scta.info/property/isInstanceOf> ?isInstanceOf .","{","\n#check for quotation whose canonical source is a member an expression with the designated type\n","?isInstanceOf  <http://scta.info/property/source> ?source .","?source <http://scta.info/property/isMemberOf> ?memberOf .","?memberOf <http://scta.info/property/expressionType> <http://scta.info/resource/"+x+"> .","}","UNION","{","\n#check for quotation whose canonical source is has designated type\n","?isInstanceOf  <http://scta.info/property/source> ?source .","?source <http://scta.info/property/expressionType> <http://scta.info/resource/"+x+"> .","}","}","UNION","{","\n#check for quotation whose source is a member the search expression\n","{","?quotation <http://scta.info/property/source> ?source .","?source <http://scta.info/property/isMemberOf> ?memberOf .","?memberOf <http://scta.info/property/expressionType> <http://scta.info/resource/"+x+"> .","}","UNION","\n#check for quotation whose source is the search expression\n","{","?quotation <http://scta.info/property/source> ?source .","?source <http://scta.info/property/expressionType> <http://scta.info/resource/"+x+"> .","}","}"].join("")}var g="";r.search.searchParameters.workGroup&&(g=["<http://scta.info/resource/"+r.search.searchParameters.workGroup+"> <http://scta.info/property/hasExpression> ?toplevel_expression ."].join(""));var P="";r.search.searchParameters.expressionType&&(P=["?quotation <http://scta.info/property/isMemberOf> ?expressionIsmemberOf .","?expressionIsmemberOf <http://scta.info/property/expressionType> <http://scta.info/resource/"+r.search.searchParameters.expressionType+"> ."].join(""));var C="";C="structureElementRef"===r.search.searchParameters.structureElementType?["{?quotation <http://scta.info/property/structureElementType> <http://scta.info/resource/structureElementRef> .}","MINUS","{?quotation <http://scta.info/property/isReferenceTo> ?isReferenceTo . }"].join(""):"structureElementRefDup"===r.search.searchParameters.structureElementType?"?quotation <http://scta.info/property/structureElementType> <http://scta.info/resource/structureElementRef> .":"structureElementQuote"===r.search.searchParameters.structureElementType?"?quotation <http://scta.info/property/structureElementType> <http://scta.info/resource/structureElementQuote> .":"allDup"===r.search.searchParameters.structureElementType?["{?quotation <http://scta.info/property/structureElementType> <http://scta.info/resource/structureElementQuote> .}","UNION","{?quotation <http://scta.info/property/structureElementType> <http://scta.info/resource/structureElementRef> . }"].join(""):["{?quotation <http://scta.info/property/structureElementType> <http://scta.info/resource/structureElementQuote> .}","UNION","{{?quotation <http://scta.info/property/structureElementType> <http://scta.info/resource/structureElementRef> .}","MINUS","{?quotation <http://scta.info/property/isReferenceTo> ?isReferenceTo . }","}"].join("");var S="";if(r.canonicalQuotation)S=["SELECT ?quotation ?isInstanceOf ?quotation_text ?toplevel_expression_title ?author_title ?citation ?ref ?refText ","WHERE {","<"+r.canonicalQuotation.id+"> <http://scta.info/property/hasInstance> ?quotation .","OPTIONAL {","?quotation <http://scta.info/property/isInstanceOf> ?isInstanceOf .","}","OPTIONAL {","?quotation <http://scta.info/property/source> ?source .","}",s,v,O,A,_,"?quotation <http://scta.info/property/structureElementText> ?quotation_text .","?quotation <http://scta.info/property/isPartOfTopLevelExpression> ?toplevel_expression . ",P,g,"?toplevel_expression <http://purl.org/dc/elements/1.1/title> ?toplevel_expression_title . ",h,"OPTIONAL {","?quotation <http://scta.info/property/citation> ?citation . ","}","OPTIONAL {","?ref <http://scta.info/property/isReferenceTo> ?quotation . ","?ref <http://scta.info/property/structureElementText> ?refText . ","}",u,p,d,T,"}","LIMIT 100"].join("");else S=["SELECT ?quotation ?source ?isInstanceOf ?quotation_text ?toplevel_expression_title ?author_title ?citation ?ref ?refText ?refType ","WHERE {",C,"?quotation <http://scta.info/property/structureElementType> ?refType . ","?quotation a <http://scta.info/resource/expression> .","OPTIONAL {","?quotation <http://scta.info/property/isInstanceOf> ?isInstanceOf .","}","OPTIONAL {","?quotation <http://scta.info/property/source> ?source .","}",s,v,O,A,_,"?quotation <http://scta.info/property/structureElementText> ?quotation_text .","?quotation <http://scta.info/property/isPartOfTopLevelExpression> ?toplevel_expression . ",P,g,l,"?toplevel_expression <http://purl.org/dc/elements/1.1/title> ?toplevel_expression_title . ",h,"OPTIONAL {","?quotation <http://scta.info/property/citation> ?citation . ","}","OPTIONAL {","?ref <http://scta.info/property/isReferenceTo> ?quotation . ","?ref <http://scta.info/property/structureElementText> ?refText . ","}",u,p,d,T,"FILTER (REGEX(STR(?quotation_text), '"+a+"', 'i')) .","}","ORDER BY ?quotation_text ","LIMIT 100"].join("");t(K()),o.a.get(n,{params:{query:S,output:"json"}}).then((function(e){var r=e.data.results.bindings;t(z(r))}))}},J=function(t){return{type:"CHANGE_QUOTATIONS_FOCUS",id:t}},Z=function(){return{type:"CLEAR_FOCUSED_QUOTATION"}},tt=function(t){return{type:"CREATE_FOCUSED_QUOTATION",quotation:t}},et=function(t){return{type:"CREATE_CANONICAL_QUOTATION",quotation:t}},rt=function(){return{type:"CLEAR_CANONICAL_QUOTATION"}},at=function(t){return{type:"CHANGE_CANONICAL_QUOTATIONS_FOCUS",id:t}},ot=function(){return{type:"CLEAR_CANONICAL_QUOTATIONS_FOCUS"}},nt=function(){return{type:"CLEAR_CANONICAL_QUOTATIONS"}},st=function(){return{type:"START_CANONICAL_QUOTATIONS_FETCH"}},it=function(t){return{type:"COMPLETE_CANONICAL_QUOTATIONS_FETCH",canonicalQuotations:t}},ct=function(){return function(t,e){var r=e(),a=r.search.searchParameters.searchText||"",s="";(r.search.searchParameters.expressionId||r.search.searchParameters.expressionAuthor||r.search.searchParameters.workGroup)&&(s=["?quotation <http://scta.info/property/hasInstance> ?quotationInstance ."].join(""));var i="";(r.search.searchParameters.expressionAuthor||r.search.searchParameters.workGroup)&&(i=["?quotationInstance <http://scta.info/property/isPartOfTopLevelExpression> ?toplevel_expression ."].join(""));var c="";if(r.search.searchParameters.expressionId||r.search.searchParameters.expressionPart)c=["?quotationInstance <http://scta.info/property/isMemberOf> <http://scta.info/resource/"+(_=r.search.searchParameters.expressionPart?r.search.searchParameters.expressionPart:r.search.searchParameters.expressionId)+"> ."].join("");var u="";r.search.searchParameters.expressionAuthorType&&(u="?expressionAuthor <http://scta.info/property/personType> <http://scta.info/resource/"+r.search.searchParameters.expressionAuthorType+">  . ");var p="";(r.search.searchParameters.expressionAuthorDateAfter||r.search.searchParameters.expressionAuthorDateBefore)&&(p="?expressionAuthor <http://scta.info/property/dateOfBirth> ?expressionAuthorDateOfBirth .");var l="";r.search.searchParameters.expressionAuthorDateAfter&&(l="FILTER (?expressionAuthorDateOfBirth >= '"+r.search.searchParameters.expressionAuthorDateAfter+"').");var h="";r.search.searchParameters.expressionAuthorDateBefore&&(h="FILTER (?expressionAuthorDateOfBirth <= '"+r.search.searchParameters.expressionAuthorDateBefore+"').");var f="";r.search.searchParameters.expressionAuthor&&(f="?toplevel_expression <http://www.loc.gov/loc.terms/relators/AUT> <http://scta.info/resource/"+r.search.searchParameters.expressionAuthor+"> .");var m=["?quotation <http://scta.info/property/hasInstance> ?quotationInstance .","?quotationInstance <http://scta.info/property/isPartOfTopLevelExpression> ?toplevel_expression .","?toplevel_expression <http://www.loc.gov/loc.terms/relators/AUT> ?expressionAuthor . ",u,p,f].join(""),d="";r.search.searchParameters.quotationAuthorType&&(d="?quotationAuthor <http://scta.info/property/personType> <http://scta.info/resource/"+r.search.searchParameters.quotationAuthorType+">  . ");var T="";(r.search.searchParameters.quotationAuthorDateAfter||r.search.searchParameters.quotationAuthorDateBefore)&&(T="?quotationAuthor <http://scta.info/property/dateOfBirth> ?quotationAuthorDateOfBirth .");var E="";r.search.searchParameters.quotationAuthorDateAfter&&(E="FILTER (?quotationAuthorDateOfBirth >= '"+r.search.searchParameters.quotationAuthorDateAfter+"').");var v="";r.search.searchParameters.quotationAuthorDateBefore&&(v="FILTER (?quotationAuthorDateOfBirth <= '"+r.search.searchParameters.quotationAuthorDateBefore+"').");var O="";r.search.searchParameters.quotationAuthor&&(O="?source_toplevel_expression <http://www.loc.gov/loc.terms/relators/AUT> <http://scta.info/resource/"+(_=r.search.searchParameters.quotationAuthor)+">  . ");var y=["?quotation <http://scta.info/property/source> ?source .","?source <http://scta.info/property/isPartOfTopLevelExpression> ?source_toplevel_expression . ","?source_toplevel_expression <http://www.loc.gov/loc.terms/relators/AUT> ?quotationAuthor .",d,T,O].join(""),A="";if(r.search.searchParameters.quotationWorkGroup){var _=r.search.searchParameters.quotationWorkGroup;A=["?quotation <http://scta.info/property/source> ?source .","?source <http://scta.info/property/isPartOfTopLevelExpression> ?source_toplevel_expression . ","<http://scta.info/resource/"+r.search.searchParameters.quotationWorkGroup+"> <http://scta.info/property/hasExpression> ?source_toplevel_expression ."].join("")}var x="";(r.search.searchParameters.quotationWork||r.search.searchParameters.quotationWorkPart)&&(x=["{","\n#check for canonical quotation whose source is memberOf the search expression\n","?quotation <http://scta.info/property/source> ?source .","?source <http://scta.info/property/isMemberOf> <http://scta.info/resource/"+(_=r.search.searchParameters.quotationWorkPart?r.search.searchParameters.quotationWorkPart:r.search.searchParameters.quotationWork)+"> . ","}","UNION","\n#check for canonical quotation whose source IS the search expression\n","{","?quotation <http://scta.info/property/source> <http://scta.info/resource/"+_+"> .","}"].join(""));var g="";if(r.search.searchParameters.quotationExpressionType){var P=r.search.searchParameters.quotationExpressionType;g=["{","\n#check for canonical quotation whose source is memberOf the search expression\n","?quotation <http://scta.info/property/source> ?source .","?source <http://scta.info/property/isMemberOf> ?memberOf .","?memberOf <http://scta.info/property/expressionType> <http://scta.info/resource/"+P+"> . ","}","UNION","\n#check for canonical quotation whose source IS the search expression\n","{","?quotation <http://scta.info/property/source> ?source .","?source <http://scta.info/property/expressionType> <http://scta.info/resource/"+P+"> .","}"].join("")}var C="";r.search.searchParameters.workGroup&&(C=["<http://scta.info/resource/"+r.search.searchParameters.workGroup+"> <http://scta.info/property/hasExpression> ?toplevel_expression ."].join(""));var S="";r.search.searchParameters.expressionType&&(S=["?quotation <http://scta.info/property/hasInstance> ?quotationInstance .","?quotationInstance <http://scta.info/property/isMemberOf> ?expressionIsMemberOf .","?expressionIsMemberOf <http://scta.info/property/expressionType> <http://scta.info/resource/"+r.search.searchParameters.expressionType+"> ."].join(""));var b=["SELECT DISTINCT ?quotation ?citation ?quotation_text ","WHERE {","?quotation a <http://scta.info/resource/quotation> .","?quotation <http://scta.info/property/quotation> ?quotation_text .",S,s,i,m,C,y,A,x,g,c,"OPTIONAL { ","?quotation <http://scta.info/property/citation> ?citation .","}",E,v,h,l,"FILTER (REGEX(STR(?quotation_text), '"+a+"', 'i')) .","}","ORDER BY ?citation ","LIMIT 1000"].join("");t(K()),o.a.get(n,{params:{query:b,output:"json"}}).then((function(e){var r=e.data.results.bindings;t(it(r))}))}},ut=function(t){return{type:"CHANGE_MANIFESTATION_QUOTATIONS_FOCUS",id:t}},pt=function(){return{type:"CLEAR_MANIFESTATION_QUOTATIONS_FOCUS"}},lt=function(){return{type:"CLEAR_MANIFESTATION_QUOTATIONS"}},ht=function(){return{type:"START_MANIFESTATION_QUOTATIONS_FETCH"}},ft=function(t){return{type:"COMPLETE_MANIFESTATION_QUOTATIONS_FETCH",manifestationQuotations:t}},mt=function(){return function(t,e){var r=e(),a=r.search.searchParameters.searchText||"",s="";void 0!=r.focusedQuotation.id?s=["SELECT ?quotation ?isManifestationOf ?quotation_text ","WHERE {","<"+r.focusedQuotation.id+"> <http://scta.info/property/hasManifestation> ?quotation .","?quotation <http://scta.info/property/isManifestationOf> ?isManifestationOf .","?quotation <http://scta.info/property/structureElementText> ?quotation_text .","}"].join(""):s=["SELECT ?quotation ?isManifestationOf ?quotation_text ","WHERE {","?quotation <http://scta.info/property/structureElementType> <http://scta.info/resource/structureElementQuote> .","?quotation a <http://scta.info/resource/manifestation> .","?quotation <http://scta.info/property/isManifestationOf> ?isManifestationOf .","?quotation <http://scta.info/property/structureElementText> ?quotation_text .","FILTER (REGEX(STR(?quotation_text), '"+a+"', 'i')) .","}","ORDER BY ?isInstanceOf ","LIMIT 100"].join("");t(ht()),o.a.get(n,{params:{query:s,output:"json"}}).then((function(e){var r=e.data.results.bindings;t(ft(r))}))}},dt=function(){return{type:"CLEAR_PARAGRAPH"}},Tt=function(){return{type:"START_PARAGRAPH_FETCH"}},Et=function(t){return{type:"COMPLETE_PARAGRAPH_FETCH",paragraph:t}},vt=function(){return function(t,e){var r=e();if(r.focusedQuotation){var a=r.focusedQuotation.id,s="",i=r.focusedQuotation.type;"expression"===i?s=["CONSTRUCT","{","?expression_paragraph <http://scta.info/property/hasDefaultManifestation> ?manifestation_paragraph ;","<http://scta.info/property/hasManifestations> ?manifestations ;","<http://scta.info/property/hasDefaultTranscription> ?transcription_paragraph ;","<http://scta.info/property/isPartOfStructureItem> ?transcription_item ;","<http://scta.info/property/hasDocument> ?transcription_item_file ;","<http://scta.info/property/hasXML> ?xml_url .","}","WHERE { ","<"+a+"> <http://scta.info/property/isPartOfStructureBlock> ?expression_paragraph .","?expression_paragraph <http://scta.info/property/hasCanonicalManifestation> ?manifestation_paragraph .","?expression_paragraph <http://scta.info/property/hasManifestation> ?manifestations .","?manifestation_paragraph <http://scta.info/property/isManifestationOf> ?expression_paragraph .","?manifestation_paragraph <http://scta.info/property/hasCanonicalTranscription> ?transcription_paragraph .","?transcription_paragraph <http://scta.info/property/isPartOfStructureItem> ?transcription_item .","?transcription_item <http://scta.info/property/hasDocument> ?transcription_item_file .","?transcription_paragraph <http://scta.info/property/hasXML> ?xml_url .","}"].join(""):"manifestation"===i&&(s=["CONSTRUCT","{","?expression_paragraph <http://scta.info/property/hasDefaultManifestation> ?manifestation_paragraph ;","<http://scta.info/property/hasManifestations> ?manifestations ;","<http://scta.info/property/hasDefaultTranscription> ?transcription_paragraph ;","<http://scta.info/property/isPartOfStructureItem> ?transcription_item ;","<http://scta.info/property/hasDocument> ?transcription_item_file ;","<http://scta.info/property/hasXML> ?xml_url .","}","WHERE { ","<"+a+"> <http://scta.info/property/isPartOfStructureBlock> ?manifestation_paragraph . ","?manifestation_paragraph <http://scta.info/property/isManifestationOf> ?expression_paragraph .","?expression_paragraph <http://scta.info/property/hasManifestation> ?manifestations .","?manifestation_paragraph <http://scta.info/property/hasCanonicalTranscription> ?transcription_paragraph .","?transcription_paragraph <http://scta.info/property/isPartOfStructureItem> ?transcription_item .","?transcription_item <http://scta.info/property/hasDocument> ?transcription_item_file .","?transcription_paragraph <http://scta.info/property/hasXML> ?xml_url .","}"].join("")),t(Tt()),o.a.get(n,{params:{query:s,output:"json"}}).then((function(e){var r=e.data;r&&o.a.get(r.hasXML).then((function(e){var a={expression_id:r["@id"],manifestations:r.hasManifestations,manifestation_id:r.hasDefaultManifestation,transcription_id:r.hasDefaultTranscription,transcription_item_file:r.hasDocument,paragraph_text:e.data};t(Et(a)),t(At())}))})).catch((function(t){console.log("error:",t)}))}}},Ot=function(){return{type:"START_REVIEW_FETCH"}},yt=function(t){return{type:"COMPLETE_REVIEW_FETCH",review:t}},At=function(){return function(t,e){var r=e();if(r.paragraph.transcription_item_file){var a="http://dll-review-registry.scta.info/api/v1/reviews?url="+r.paragraph.transcription_item_file+"&society=MAA";t(Ot()),o.a.get(a).then((function(e){var r=e.data[0];t(yt(r))}))}}},_t=function(){return{type:"CLEAR_SOURCE_PARAGRAPH"}},xt=function(){return{type:"START_SOURCE_PARAGRAPH_FETCH"}},gt=function(t){return{type:"COMPLETE_SOURCE_PARAGRAPH_FETCH",sourceParagraph:t}},Pt=function(){return function(t,e){var r=e();if(r.focusedQuotation){var a=["CONSTRUCT","{","?expression_paragraph <http://scta.info/property/hasDefaultManifestation> ?manifestation_paragraph ;","<http://scta.info/property/hasManifestations> ?manifestations ;","<http://scta.info/property/hasDefaultTranscription> ?transcription_paragraph ;","<http://scta.info/property/isPartOfStructureItem> ?transcription_item ;","<http://scta.info/property/hasDocument> ?transcription_item_file ;","<http://scta.info/property/hasXML> ?xml_url .","}","WHERE { ","BIND(<"+r.focusedQuotation.source+"> as ?expression_paragraph) .","?expression_paragraph <http://scta.info/property/hasCanonicalManifestation> ?manifestation_paragraph .","?expression_paragraph <http://scta.info/property/hasManifestation> ?manifestations .","?manifestation_paragraph <http://scta.info/property/hasCanonicalTranscription> ?transcription_paragraph .","?transcription_paragraph <http://scta.info/property/isPartOfStructureItem> ?transcription_item .","?transcription_item <http://scta.info/property/hasDocument> ?transcription_item_file .","?transcription_paragraph <http://scta.info/property/hasXML> ?xml_url .","}"].join("");t(xt()),o.a.get(n,{params:{query:a,output:"json"}}).then((function(e){var r=e.data;r&&o.a.get(r.hasXML).then((function(e){var a={expression_id:r["@id"],manifestations:r.hasManifestations,manifestation_id:r.hasDefaultManifestation,transcription_id:r.hasDefaultTranscription,transcription_item_file:r.hasDocument,paragraph_text:e.data};t(gt(a))}))}))}}},Ct=function(){return{type:"START_SOURCE_PARAGRAPH_REVIEW_FETCH"}},St=function(t){return{type:"COMPLETE_SOURCE_PARAGRAPH_FETCH",review:t}},bt=function(){return function(t,e){var r=e();if(r.sourceParagraph.transcription_item_file){var a="http://dll-review-registry.scta.info/api/v1/reviews?url="+r.sourceParagraph.transcription_item_file+"&society=MAA";t(xt()),o.a.get(a).then((function(e){var r=e.data[0];t(St(r))}))}}},It=function(t){return{type:"TOGGLE_FULL_TEXT_DISPLAY",current:t}},qt=function(){return{type:"CLEAR_FULL_TEXT"}},Rt=function(){return{type:"START_FULL_TEXT_FETCH"}},Nt=function(t){return{type:"COMPLETE_FULL_TEXT_FETCH",text:t}},kt=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,r){var a=r(),s="";if(a.focusedQuotation){var i=a.focusedQuotation.id,c=a.focusedQuotation.type;!0===t?s=["SELECT ?expression_item ?manifestation_item ?transcription_item ?xml_url ?transcription_item_file ","WHERE { ","BIND(<"+a.focusedQuotation.source+"> AS ?expression_block) .","?expression_block <http://scta.info/property/isPartOfStructureItem> ?expression_item .","?expression_item <http://scta.info/property/hasCanonicalManifestation> ?manifestation_item .","?manifestation_item <http://scta.info/property/hasCanonicalTranscription> ?transcription_item .","?transcription_item <http://scta.info/property/hasDocument> ?transcription_item_file .","?transcription_item <http://scta.info/property/hasXML> ?xml_url .","}"].join(""):"expression"===c?s=["SELECT ?expression_item ?manifestation_item ?transcription_item ?xml_url ?transcription_item_file ","WHERE { ","<"+i+"> <http://scta.info/property/isPartOfStructureBlock> ?expression_block .","?expression_block <http://scta.info/property/isPartOfStructureItem> ?expression_item .","?expression_item <http://scta.info/property/hasCanonicalManifestation> ?manifestation_item .","?manifestation_item <http://scta.info/property/hasCanonicalTranscription> ?transcription_item .","?transcription_item <http://scta.info/property/hasDocument> ?transcription_item_file .","?transcription_item <http://scta.info/property/hasXML> ?xml_url .","}"].join(""):"manifestation"===c&&(s=["SELECT ?expression_item ?manifestation_item ?transcription_item ?xml_url ?transcription_item_file ","WHERE { ","<"+i+"> <http://scta.info/property/isPartOfStructureBlock> ?manifestation_block . ","?manifestation_block <http://scta.info/property/isPartOfStructureItem> ?manifestation_item .","?manifestation_item <http://scta.info/property/isManifestationOf> ?expression_item .","?manifestation_item <http://scta.info/property/hasCanonicalTranscription> ?transcription_item .","?transcription_item <http://scta.info/property/hasDocument> ?transcription_item_file .","?transcription_item <http://scta.info/property/hasXML> ?xml_url .","}"].join("")),console.log(s),e(Rt()),o.a.get(n,{params:{query:s,output:"json"}}).then((function(t){var r=t.data.results.bindings[0];console.log("full text results",r),o.a.get(r.xml_url.value.replace("http://","https://")).then((function(t){var a={expression_id:r.expression_item.value,manifestation_id:r.manifestation_item.value,transcription_id:r.transcription_item.value,transcription_item_file:r.transcription_item_file?r.transcription_item_file.value:"",text:t.data};e(Nt(a)),e(At())}))}))}}}}},[[66,1,2]]]);
//# sourceMappingURL=main.eda07c46.chunk.js.map