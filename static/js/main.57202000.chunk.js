(window.webpackJsonpadfontes=window.webpackJsonpadfontes||[]).push([[0],{24:function(e,t,r){"use strict";r.r(t);var a=r(2),o=r(3),n=r(83),s=function(){function e(t){if(Object(a.a)(this,e),this.els=[],this.behaviors=[],this.hasStyle=!1,this.prefixes=[],t)this.base=t;else try{window&&(this.base=window.location.href.replace(/\/[^\/]*$/,"/"))}catch(r){this.base=""}this.behaviors.push(n),this.supportsShadowDom=document.head.createShadowRoot||document.head.attachShadow}return Object(o.a)(e,[{key:"getHTML5",value:function(e,t,r){var a=this;return window.location.href.startsWith(this.base)&&e.indexOf("/")>=0&&(this.base=e.replace(/\/[^\/]*$/,"/")),new Promise(function(t,r){var a=new XMLHttpRequest;a.open("GET",e),a.send(),a.onload=function(){this.status>=200&&this.status<300?t(this.response):r(this.statusText)},a.onerror=function(){r(this.statusText)}}).catch(function(e){console.log(e)}).then(function(e){return a.makeHTML5(e,t,r)})}},{key:"makeHTML5",value:function(e,t,r){var a=(new DOMParser).parseFromString(e,"text/xml"),o=this.domToHTML5(a,t,r);return this.registerTEIElements(o,t)}},{key:"domToHTML5",value:function(e,t,r){var a=this;this._fromTEI(e);return this.dom=function e(t){var o,n=!1;switch(t.namespaceURI){case"http://www.tei-c.org/ns/1.0":o=document.createElement("tei-"+t.tagName);break;case"http://www.tei-c.org/ns/Examples":if("egXML"==t.tagName){o=document.createElement("teieg-"+t.tagName);break}case"http://relaxng.org/ns/structure/1.0":o=document.createElement("rng-"+t.tagName);break;default:o=document.importNode(t,!1),n=!0}for(var s=0,i=Array.from(t.attributes);s<i.length;s++){var c=i[s];!c.name.startsWith("xmlns")||n?o.setAttribute(c.name,c.value):"xmlns"==c.name&&o.setAttribute("data-xmlns",c.value),"xml:id"!=c.name||n||o.setAttribute("id",c.value),"xml:lang"!=c.name||n||o.setAttribute("lang",c.value),"rendition"==c.name&&o.setAttribute("class",c.value.replace(/#/g,""))}if(o.setAttribute("data-teiname",t.localName),0==t.childNodes.length&&o.setAttribute("data-empty",""),"tagsDecl"==t.localName){for(var u=document.createElement("style"),p=0,l=Array.from(t.childNodes);p<l.length;p++){var h=l[p];if(h.nodeType==Node.ELEMENT_NODE&&"rendition"==h.localName&&"css"==h.getAttribute("scheme")){var f="";h.hasAttribute("selector")?(f+=h.getAttribute("selector").replace(/([^#, >]+\w*)/g,"tei-$1").replace(/#tei-/g,"#")+"{\n",f+=h.textContent):(f+="."+h.getAttribute("xml:id")+"{\n",f+=h.textContent),f+="\n}\n",u.appendChild(document.createTextNode(f))}}u.childNodes.length>0&&(o.appendChild(u),a.hasStyle=!0)}"prefixDef"==t.localName&&(a.prefixes.push(t.getAttribute("ident")),a.prefixes[t.getAttribute("ident")]={matchPattern:t.getAttribute("matchPattern"),replacementPattern:t.getAttribute("replacementPattern")});for(var m=0,d=Array.from(t.childNodes);m<d.length;m++){var T=d[m];T.nodeType==Node.ELEMENT_NODE?o.appendChild(e(T)):o.appendChild(T.cloneNode())}return r&&r(o),o}(e.documentElement)}},{key:"registerTEIElements",value:function(e,t){if(e.registerElement?this.registerAll(this.els):this.fallback(this.els),this.done=!0,!t)return this.dom;t(this.dom,this)}},{key:"addStyle",value:function(e,t){this.hasStyle&&e.getElementsByTagName("head").item(0).appendChild(t.getElementsByTagName("style").item(0).cloneNode(!0))}},{key:"addShadowStyle",value:function(e){this.shadowCSS&&(e.innerHTML='<style>@import url("'+this.shadowCSS+'");</style>'+e.innerHTML)}},{key:"addBehaviors",value:function(e){e.handlers||e.fallbacks?this.behaviors.push(e):console.log("No handlers or fallback methods found.")}},{key:"setBaseUrl",value:function(e){this.base=e}},{key:"_fromTEI",value:function(e){var t=e.documentElement;this.els=new Set(Array.from(t.getElementsByTagNameNS("http://www.tei-c.org/ns/1.0","*"),function(e){return e.tagName})),this.els.add("egXML"),this.els.add(t.tagName)}},{key:"_insert",value:function(e,t){var r=document.createElement("span");return t.length>1?t[0].includes("<")&&t[1].includes("</")?r.innerHTML=t[0]+e.innerHTML+t[1]:r.innerHTML="<span>"+t[0]+"</span>"+e.innerHTML+"<span>"+t[1]+"</span>":t[0].includes("<")?r.innerHTML=t[0]+e.innerHTML:r.innerHTML="<span>"+t[0]+"</span>"+e.innerHTML,r.children.length>1?r:r.children[0]}},{key:"_template",value:function(e,t){var r=e;if(e.search(/$(\w*)@(\w+)/))for(var a,o=/\$(\w*)@(\w+)/g;a=o.exec(e);)t.hasAttribute(a[2])&&(r=a[1]&&this[a[1]]?r.replace(a[0],this[a[1]].call(this,t.getAttribute(a[2]))):r.replace(a[0],t.getAttribute(a[2])));return r}},{key:"tagName",value:function(e){return"egXML"==e?"teieg-"+e:"tei-"+e}},{key:"decorator",value:function(e){var t=this;return function(r){for(var a=[],o=0;o<e.length;o++)a.push(t._template(e[o],r));return t._insert(r,a)}}},{key:"getHandler",value:function(e){for(var t=this.behaviors.length-1;t>=0;t--)if(this.behaviors[t].handlers[e])return Array.isArray(this.behaviors[t].handlers[e])?this.append(this.decorator(this.behaviors[t].handlers[e])):this.append(this.behaviors[t].handlers[e])}},{key:"getFallback",value:function(e){for(var t=this.behaviors.length-1;t>=0;t--)if(this.behaviors[t].handlers[e])return Array.isArray(this.behaviors[t].handlers[e])?this.decorator(this.behaviors[t].handlers[e]):this.behaviors[t].handlers[e]}},{key:"append",value:function(e,t){if(!t){var r=this;return this.supportsShadowDom?function(){var t=e.call(r,this);t&&r._appendShadow(this,t)}:function(){var t=e.call(r,this);t&&!this.querySelector(":scope > "+t.nodeName)&&r._appendBasic(this,t)}}var a=e.call(this,t);a&&!t.querySelector(":scope > "+a.nodeName)&&(this.supportsShadowDom?this._appendShadow(t,a):this._appendBasic(t,a))}},{key:"_appendShadow",value:function(e,t){var r=e.attachShadow({mode:"open"});this.addShadowStyle(r),r.appendChild(t)}},{key:"_appendBasic",value:function(e,t){this.hideContent(e),e.appendChild(t)}},{key:"registerAll",value:function(e){var t=!0,r=!1,a=void 0;try{for(var o,n=e[Symbol.iterator]();!(t=(o=n.next()).done);t=!0){var s=o.value,i=Object.create(HTMLElement.prototype),c=this.getHandler(s);c&&(i.createdCallback=c);var u=this.tagName(s);try{document.registerElement(u,{prototype:i})}catch(p){console.log(u+" couldn't be registered or is already registered."),console.log(p)}}}catch(l){r=!0,a=l}finally{try{t||null==n.return||n.return()}finally{if(r)throw a}}}},{key:"fallback",value:function(e){var t=!0,r=!1,a=void 0;try{for(var o,n=e[Symbol.iterator]();!(t=(o=n.next()).done);t=!0){var s=o.value,i=this.getFallback(s);if(i)for(var c=0,u=Array.from(this.dom.getElementsByTagName(this.tagName(s)));c<u.length;c++){var p=u[c];this.append(i,p)}}}catch(l){r=!0,a=l}finally{try{t||null==n.return||n.return()}finally{if(r)throw a}}}},{key:"rw",value:function(e){return e.match(/^(?:http|mailto|file|\/|#).*$/)?e:this.base+e}},{key:"first",value:function(e){return e.replace(/ .*$/,"")}},{key:"serialize",value:function(e,t){var r="";if(!t){r+="&lt;"+e.getAttribute("data-teiname");for(var a=0,o=Array.from(e.attributes);a<o.length;a++){var n=o[a];n.name.startsWith("data-")||["id","lang","class"].includes(n.name)||(r+=" "+n.name+'="'+n.value+'"'),"data-xmlns"==n.name&&(r+=' xmlns="'+n.value+'"')}e.childNodes.length>0?r+=">":r+="/>"}for(var s=0,i=Array.from(e.childNodes);s<i.length;s++){var c=i[s];switch(c.nodeType){case Node.ELEMENT_NODE:r+=this.serialize(c);break;case Node.PROCESSING_INSTRUCTION_NODE:r+="&lt;?"+c.nodeValue+"?>";break;case Node.COMMENT_NODE:r+="&lt;!--"+c.nodeValue+"--\x3e";break;default:r+=c.nodeValue.replace(/</g,"&lt;")}}return!t&&e.childNodes.length>0&&(r+="&lt;/"+e.getAttribute("data-teiname")+">"),r}},{key:"hideContent",value:function(e){if(e.childNodes.length>0){var t=e.innerHTML;e.innerHTML="";var r=document.createElement("span");r.setAttribute("style","display:none;"),r.setAttribute("class","hide"),r.innerHTML=t,e.appendChild(r)}}},{key:"unEscapeEntities",value:function(e){return e.replace(/&gt;/,">").replace(/&quot;/,'"').replace(/&apos;/,"'").replace(/&amp;/,"&")}},{key:"savePosition",value:function(){localStorage.setItem("scroll",window.scrollY)}},{key:"restorePosition",value:function(){localStorage.getItem("scroll")&&window.scrollTo(0,localStorage.getItem("scroll"))}},{key:"fromODD",value:function(){}}]),e}();try{window&&(window.CETEI=s,window.unload=s.savePosition,window.load=s.restorePosition)}catch(i){}t.default=s},43:function(e,t,r){e.exports=r(88)},83:function(e,t){var r={handlers:{eg:["<pre>","</pre>"],ptr:['<a href="$rw@target">$@target</a>'],graphic:function(e){var t=new Image;return t.src=this.rw(e.getAttribute("url")),e.hasAttribute("width")&&(t.width=e.getAttribute("width").replace(/[^.0-9]/g,"")),e.hasAttribute("height")&&(t.height=e.getAttribute("height").replace(/[^.0-9]/g,"")),t},list:function(e){if(e.hasAttribute("type")&&"gloss"==e.getAttribute("type")){for(var t=document.createElement("dl"),r=0,a=Array.from(e.children);r<a.length;r++){var o=a[r];if(o.nodeType==Node.ELEMENT_NODE){if("tei-label"==o.localName){var n=document.createElement("dt");n.innerHTML=o.innerHTML,t.appendChild(n)}if("tei-item"==o.localName){var s=document.createElement("dd");s.innerHTML=o.innerHTML,t.appendChild(s)}}}return t}return null},table:function(e){var t=document.createElement("table");if(t.innerHTML=e.innerHTML,"tei-head"==t.firstElementChild.localName){var r=t.firstElementChild;r.remove();var a=document.createElement("caption");a.innerHTML=r.innerHTML,t.appendChild(a)}for(var o=0,n=Array.from(t.querySelectorAll("tei-row"));o<n.length;o++){var s=n[o],i=document.createElement("tr");i.innerHTML=s.innerHTML;for(var c=0,u=Array.from(s.attributes);c<u.length;c++){var p=u[c];i.setAttribute(p.name,p.value)}s.parentElement.replaceChild(i,s)}for(var l=0,h=Array.from(t.querySelectorAll("tei-cell"));l<h.length;l++){var f=h[l],m=document.createElement("td");f.hasAttribute("cols")&&m.setAttribute("colspan",f.getAttribute("cols")),m.innerHTML=f.innerHTML;for(var d=0,T=Array.from(f.attributes);d<T.length;d++){var E=T[d];m.setAttribute(E.name,E.value)}f.parentElement.replaceChild(m,f)}return t},egXML:function(e){var t=document.createElement("pre");return t.innerHTML=this.serialize(e,!0),t}}};e.exports=r},86:function(e,t,r){},88:function(e,t,r){"use strict";r.r(t);var a=r(0),o=r.n(a),n=r(25),s=r.n(n),i=r(10),c=r(2),u=r(3),p=r(6),l=r(5),h=r(7),f=r(11),m=r(4),d=r(1),T=r.n(d),E=r(30),y=r.n(E);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}var O=r(10).connect,A=r(9),_=function(e){function t(e){var r;return Object(c.a)(this,t),(r=Object(p.a)(this,Object(l.a)(t).call(this,e))).handleSetSearchText=r.handleSetSearchText.bind(Object(m.a)(r)),r.handleOnShowQuotationsWithoutAssociation=r.handleOnShowQuotationsWithoutAssociation.bind(Object(m.a)(r)),r.handleRunQuery=r.handleRunQuery.bind(Object(m.a)(r)),r.handleGraph=r.handleGraph.bind(Object(m.a)(r)),r.handleClearFilters=r.handleClearFilters.bind(Object(m.a)(r)),r}return Object(h.a)(t,e),Object(u.a)(t,[{key:"handleSetSearchText",value:function(e){var t=this.props,r=t.dispatch,a=(t.search,this.refs.searchText.value),o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(r,!0).forEach(function(t){Object(f.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},this.props.search.searchParameters,{searchText:a});r(A.setSearchParameters(o))}},{key:"handleOnShowQuotationsWithoutAssociation",value:function(e){e.preventDefault();var t=this.props,r=t.dispatch,a=(t.search,this.refs.quotationWorkGroup.value),o=this.refs.quotationExpressionType.value,n=this.refs.quotationWork.value,s=this.refs.quotationWorkPart.value,i=this.refs.expressionId.value,c=this.refs.expressionPart.value?this.refs.expressionPart.value.split("/")[0]:this.refs.expressionPart.value,u=this.refs.expressionPart.value?this.refs.expressionPart.value.split("/")[1]:1,p=this.refs.expressionAuthor.value,l=this.refs.expressionAuthorType.value,h={expressionId:i,expressionPart:c,expressionLevel:u,expressionAuthor:p,quotationAuthor:this.refs.quotationAuthor.value,quotationExpressionType:o,quotationWork:n,quotationWorkPart:s,quotationWorkGroup:a,quotationAuthorType:this.refs.quotationAuthorType.value,expressionAuthorType:l,expressionType:this.refs.expressionType.value,workGroup:this.refs.workGroup.value,quotationAuthorDateAfter:this.refs.quotationAuthorDateAfter.value,quotationAuthorDateBefore:this.refs.quotationAuthorDateBefore.value,expressionAuthorDateAfter:this.refs.expressionAuthorDateAfter.value,expressionAuthorDateBefore:this.refs.expressionAuthorDateBefore.value,structureElementType:this.refs.structureElementType.value};r(A.setSearchParameters(h)),r(A.fetchQuotationWorkParts()),r(A.fetchExpressionParts()),r(A.fetchSearchWorksList()),r(A.fetchQuotationWorksList()),r(A.fetchQuotationAuthors()),r(A.fetchExpressionAuthors())}},{key:"handleRunQuery",value:function(e){e.preventDefault();var t=this.props,r=t.dispatch;t.search;r(A.clearCanonicalQuotation()),r(A.clearFocusedQuotation()),r(A.clearManifestationQuotations()),r(A.clearParagraph()),r(A.clearSourceParagraph()),r(A.fetchCanonicalQuotations()),r(A.fetchQuotations()),r(A.fetchChart())}},{key:"handleClearFilters",value:function(e){e.preventDefault();var t=this.props,r=t.dispatch;t.search;r(A.clearSearchParameters()),r(A.clearCanonicalQuotations()),r(A.clearQuotations()),r(A.fetchQuotationWorkParts()),r(A.fetchExpressionParts()),r(A.fetchQuotationAuthors()),r(A.fetchExpressionAuthors()),r(A.fetchSearchWorksList()),r(A.fetchQuotationWorksList()),r(A.fetchWorkGroups()),r(A.fetchAuthorTypes()),r(A.clearManifestationQuotations()),r(A.clearParagraph()),r(A.clearSourceParagraph()),this.refs.quotationAuthorDateAfter.value="",this.refs.quotationAuthorDateBefore.value="",this.refs.expressionAuthorDateAfter.value="",this.refs.expressionAuthorDateBefore.value="",this.refs.searchText.value=""}},{key:"handleGraph",value:function(e){e.preventDefault(),(0,this.props.dispatch)(A.toggleGraphDisplay(this.props.chart.visible))}},{key:"render",value:function(){var e=this;function t(){return e.props.search.workGroups.map(function(e){return o.a.createElement("option",{value:e.workGroupShortId},e.workGroupTitle)})}return o.a.createElement("div",null,o.a.createElement(T.a,{onSubmit:this.handleOnShowQuotationsWithoutAssociation},o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(y.a,{id:"runQuery",onClick:this.handleRunQuery},"Run Search"),o.a.createElement(y.a,{id:"clearFilter",onClick:this.handleClearFilters},"Clear Filters")),o.a.createElement("div",null,o.a.createElement("p",null,"Search Parameters"),o.a.createElement(T.a.Group,null,o.a.createElement(T.a.Label,null,"Quotation/ReferenceType"),o.a.createElement(T.a.Control,{as:"select",ref:"structureElementType",onChange:this.handleOnShowQuotationsWithoutAssociation},o.a.createElement("option",{value:"structureElementQuote"},"Quotations"),o.a.createElement("option",{value:"structureElementRef"},"References"),o.a.createElement("option",{value:"structureElementRefDup"},"References (With Quotation Overlap)"),o.a.createElement("option",{value:""},"All"),o.a.createElement("option",{value:"allDup"},"All (with quotation overlap)"))),o.a.createElement(T.a.Group,null,o.a.createElement(T.a.Label,null,o.a.createElement(T.a.Control,{as:"input",type:"text",ref:"searchText",placeholder:"search quotation text",onChange:this.handleSetSearchText}))),o.a.createElement("hr",null),o.a.createElement("p",null,"Quotation Parameters"),o.a.createElement(T.a.Group,null,o.a.createElement(T.a.Label,null,"Quotation Author Type"),o.a.createElement(T.a.Control,{as:"select",ref:"quotationAuthorType",onChange:this.handleOnShowQuotationsWithoutAssociation},o.a.createElement("option",{value:""},"All"),e.props.search.authorTypes.map(function(e){return o.a.createElement("option",{value:e.authorTypeShortId},e.authorTypeTitle)}))),o.a.createElement(T.a.Group,null,o.a.createElement(T.a.Label,null,"Quotation Author Birth Date"),o.a.createElement("br",null),"After ",o.a.createElement(T.a.Control,{as:"input",ref:"quotationAuthorDateAfter",onBlur:this.handleOnShowQuotationsWithoutAssociation,placeholder:"e.g. 1200"}),o.a.createElement("br",null),"Before ",o.a.createElement(T.a.Control,{as:"input",ref:"quotationAuthorDateBefore",onBlur:this.handleOnShowQuotationsWithoutAssociation,placeholder:"e.g. 1400"})),o.a.createElement(T.a.Group,null,o.a.createElement(T.a.Label,null,"Quotation Author"),o.a.createElement(T.a.Control,{as:"select",ref:"quotationAuthor",onChange:this.handleOnShowQuotationsWithoutAssociation,value:e.props.search.searchParameters.quotationAuthor},o.a.createElement("option",{value:""},"All"),e.props.search.quotationAuthors.map(function(e){return o.a.createElement("option",{value:e.authorShortId},e.authorTitle)}))),o.a.createElement(T.a.Group,null,o.a.createElement(T.a.Label,null,"Quotation Work Group"),o.a.createElement(T.a.Control,{as:"select",ref:"quotationWorkGroup",onChange:this.handleOnShowQuotationsWithoutAssociation},o.a.createElement("option",{value:""},"All"),t())),o.a.createElement(T.a.Group,null,o.a.createElement(T.a.Label,null,"Quotation Text Type"),o.a.createElement(T.a.Control,{as:"select",ref:"quotationExpressionType",onChange:this.handleOnShowQuotationsWithoutAssociation},o.a.createElement("option",{value:""},"All"),e.props.search.quotationExpressionTypes.map(function(e){return o.a.createElement("option",{value:e.quotationExpressionTypeShortId},e.quotationExpressionTypeTitle)}))),o.a.createElement(T.a.Group,null,o.a.createElement(T.a.Label,null,"Quotation Text Title"),o.a.createElement(T.a.Control,{as:"select",ref:"quotationWork",onChange:this.handleOnShowQuotationsWithoutAssociation,value:e.props.search.searchParameters.quotationWork},o.a.createElement("option",{value:""},"All"),e.props.search.quotationWorksList.map(function(e){var t=e.expressionShortId?e.expressionShortId:e.expression.split("http://scta.info/resource/")[1];return o.a.createElement("option",{value:t},e.expressionTitle)}))),o.a.createElement(T.a.Group,null,o.a.createElement(T.a.Label,null,"Quotation Text Part"),o.a.createElement(T.a.Control,{as:"select",ref:"quotationWorkPart",onChange:this.handleOnShowQuotationsWithoutAssociation,value:e.props.search.searchParameters.quotationWorkPart},o.a.createElement("option",{value:""},"All"),function(){var t=e.props.search.quotationWorkParts;if(t){var r=t[0];if(r){var a=r.grandparent.split("http://scta.info/resource/")[1];if(void 0!=a)return o.a.createElement("option",{value:a},"Up: ",r.grandparent_title)}}}(),function(){var t=e.props.search.quotationWorkParts;if(t){var r=t[0];if(r){var a=r.parent.split("http://scta.info/resource/")[1];return o.a.createElement("option",{value:a},"Current: ",r.parent_title)}}}(),function(){var t=e.props.search.quotationWorkParts;if(t)return t.map(function(e){var t=e.childShortId?e.childShortId:e.child.split("http://scta.info/resource/")[1];if(e.child)return o.a.createElement("option",{value:t},e.child_title)})}())),o.a.createElement("hr",null),o.a.createElement("p",null,"Text Parameters"),o.a.createElement(T.a.Group,null,o.a.createElement(T.a.Label,null,"Text Author Type"),o.a.createElement(T.a.Control,{as:"select",ref:"expressionAuthorType",onChange:this.handleOnShowQuotationsWithoutAssociation},o.a.createElement("option",{value:""},"All"),e.props.search.authorTypes.map(function(e){return o.a.createElement("option",{value:e.authorTypeShortId},e.authorTypeTitle)}))),o.a.createElement(T.a.Group,null,o.a.createElement(T.a.Label,null,"Text Author Birth Date"),o.a.createElement("br",null),"After ",o.a.createElement(T.a.Control,{as:"input",ref:"expressionAuthorDateAfter",onBlur:this.handleOnShowQuotationsWithoutAssociation,placeholder:"e.g. 1200"}),o.a.createElement("br",null),"Before ",o.a.createElement(T.a.Control,{as:"input",ref:"expressionAuthorDateBefore",onBlur:this.handleOnShowQuotationsWithoutAssociation,placeholder:"e.g. 1400"})),o.a.createElement(T.a.Group,null,o.a.createElement(T.a.Label,null,"Text Author"),o.a.createElement(T.a.Control,{as:"select",ref:"expressionAuthor",onChange:this.handleOnShowQuotationsWithoutAssociation,value:e.props.search.searchParameters.expressionAuthor},o.a.createElement("option",{value:""},"All"),e.props.search.expressionAuthors.map(function(e){return o.a.createElement("option",{value:e.authorShortId},e.authorTitle)}))),o.a.createElement(T.a.Group,null,o.a.createElement(T.a.Label,null,"Text Work Group"),o.a.createElement(T.a.Control,{as:"select",ref:"workGroup",onChange:this.handleOnShowQuotationsWithoutAssociation},o.a.createElement("option",{value:""},"All"),t())),o.a.createElement(T.a.Group,null,o.a.createElement(T.a.Label,null,"Text Type"),o.a.createElement(T.a.Control,{as:"select",ref:"expressionType",onChange:this.handleOnShowQuotationsWithoutAssociation},o.a.createElement("option",{value:""},"All"),e.props.search.expressionTypes.map(function(e){return o.a.createElement("option",{value:e.expressionTypeShortId},e.expressionTypeTitle)}))),o.a.createElement(T.a.Group,null,o.a.createElement(T.a.Label,null,"Text Title"),o.a.createElement(T.a.Control,{as:"select",ref:"expressionId",onChange:this.handleOnShowQuotationsWithoutAssociation,value:e.props.search.searchParameters.expressionId},o.a.createElement("option",{value:""},"All"),e.props.search.searchWorks.map(function(e){return o.a.createElement("option",{value:e.expressionShortId},e.expressionTitle)}))),o.a.createElement(T.a.Group,null,o.a.createElement(T.a.Label,null,"Text Part"),o.a.createElement(T.a.Control,{as:"select",ref:"expressionPart",onChange:this.handleOnShowQuotationsWithoutAssociation,value:e.props.search.searchParameters.expressionPart+"/"+e.props.search.searchParameters.expressionLevel},o.a.createElement("option",{value:""},"All"),function(){var t=e.props.search.expressionParts;if(t){var r=t[0];if(r){var a=r.grandparent.split("http://scta.info/resource/")[1];if(void 0!=a)return o.a.createElement("option",{value:a+"/"+r.grandparent_level},"Up: ",r.grandparent_title)}}}(),function(){var t=e.props.search.expressionParts;if(t){var r=t[0];if(r){var a=r.parent.split("http://scta.info/resource/")[1];return o.a.createElement("option",{value:a+"/"+r.parent_level},"Current: ",r.parent_title)}}}(),function(){var t=e.props.search.expressionParts;if(t)return t.map(function(e){var t=e.childShortId?e.childShortId:e.child.split("http://scta.info/resource/")[1];if(e.child)return o.a.createElement("option",{value:t+"/"+e.child_level},e.child_title)})}()))))),o.a.createElement("p",null,o.a.createElement("a",{href:"#",onClick:this.handleGraph},"Toggle Historgram")))}}]),t}(o.a.Component),g=O(function(e){return e})(_),P=r(19),x=r.n(P),b=r(10).connect,S=r(9),C=function(e){function t(e){var r;return Object(c.a)(this,t),(r=Object(p.a)(this,Object(l.a)(t).call(this,e))).handleOnClick=r.handleOnClick.bind(Object(m.a)(r)),r}return Object(h.a)(t,e),Object(u.a)(t,[{key:"handleOnClick",value:function(){var e=this.props,t=e.isInstanceOf,r=e.id,a=e.quotation,o=e.dispatch,n=e.source;o(S.changeQuotationsFocus(this.props.id));var s={id:r,quotation:a,source:n,type:"expression"};if(o(S.createFocusedQuotation(s)),o(S.fetchParagraph()),o(S.fetchSourceParagraph()),o(S.fetchManifestationQuotations()),null!=t){var i=this.props.canonicalQuotations.find(function(e){return e.id===t});if(void 0!=i){o(S.createCanonicalQuotation(i)),o(S.changeCanonicalQuotationsFocus(t));var c=document.getElementById(t).offsetTop;x()("#CanonicalQuotationList").animate({scrollTop:c-10},400);var u=document.getElementById(r).offsetTop;x()("#quotationsList").animate({scrollTop:u-10},400)}else alert("this quotation is assigned to a canonicalQuotation, but either there is an error in the id assigned or a canonicalQuotation record still needs to be made"),o(S.clearCanonicalQuotationsFocus()),o(S.clearCanonicalQuotation())}else o(S.clearCanonicalQuotationsFocus()),o(S.clearCanonicalQuotation())}},{key:"render",value:function(){var e=this.props,t=e.isInstanceOf,r=e.quotation,a=e.className,n=e.title,s=e.author,i=e.id,c=e.refText,u=e.citation;a=null===t?a+" isNotInstance":a;return o.a.createElement("div",{className:"quotation-wrapper"},o.a.createElement("p",{id:i,className:a,onClick:this.handleOnClick},r),o.a.createElement("a",{href:i,target:"_blank",className:"quotation-citation"},s,", ",n),o.a.createElement("a",{href:i,target:"_blank",className:"quotation-citation"},"Original Ref: ",c),o.a.createElement("a",{href:i,target:"_blank",className:"quotation-citation"},"Modern Citation: ",u))}}]),t}(o.a.Component),I=b(function(e){return e})(C),q=function(e){function t(){return Object(c.a)(this,t),Object(p.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.quotations,r=e.focusedQuotation;return o.a.createElement("div",null,o.a.createElement("p",null,"List of Expression Quotations"),"fetching"!==this.props.quotations&&o.a.createElement("p",null,"Count ",t.length),"fetching"===t?o.a.createElement("p",null,"Fetching..."):0===t.length?o.a.createElement("p",{className:"container__message"},"No Quotations"):t.map(function(e){var t="";t=r.id&&r.id.includes(e.id)?"quotation focused":"quotation",e.refType;var a=t+" "+e.refType;return o.a.createElement(I,Object.assign({className:a,key:e.id},e))}))}}]),t}(o.a.Component),w=Object(i.connect)(function(e){return e})(q),R=r(10).connect,N=function(e){function t(){return Object(c.a)(this,t),Object(p.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.focusedQuotation,t=e.quotation,r=e.id;return o.a.createElement("div",{className:"container"},o.a.createElement("p",null,"Focused Quotation: ",t),o.a.createElement("p",null,o.a.createElement("a",{href:r},r)))}}]),t}(o.a.Component),k=(R(function(e){return e})(N),r(10).connect),j=function(e){function t(){return Object(c.a)(this,t),Object(p.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.canonicalQuotation,t=e?e.quotation:"No canonical quotation id assigned",r=e?e.id:"",a=e?e.citation:"";return o.a.createElement("div",{className:"container"},o.a.createElement("p",null,"Canonical Quotation: ",t),o.a.createElement("p",null,a),o.a.createElement("p",null,o.a.createElement("a",{href:r},r)))}}]),t}(o.a.Component),L=(k(function(e){return e})(j),r(10).connect),Q=r(9),F=function(e){function t(e){var r;return Object(c.a)(this,t),(r=Object(p.a)(this,Object(l.a)(t).call(this,e))).handleOnClick=r.handleOnClick.bind(Object(m.a)(r)),r}return Object(h.a)(t,e),Object(u.a)(t,[{key:"handleOnClick",value:function(){var e=this.props,t=e.id,r=e.quotation,a=e.citation,o=e.dispatch;o(Q.changeCanonicalQuotationsFocus(this.props.id));var n={id:t,quotation:r,citation:a};o(Q.createCanonicalQuotation(n)),o(Q.fetchQuotations()),o(Q.clearQuotationsFocus()),o(Q.clearFocusedQuotation()),o(Q.clearManifestationQuotations()),o(Q.clearParagraph());var s=document.getElementById(t).offsetTop;x()("#CanonicalQuotationList").animate({scrollTop:s-10},400)}},{key:"render",value:function(){var e=this.props,t=e.id,r=e.quotation,a=e.className,n=e.citation;return o.a.createElement("div",{className:"quotation-wrapper"},o.a.createElement("p",{id:t,className:a,onClick:this.handleOnClick},r),o.a.createElement("a",{href:t,target:"_blank",className:"quotation-citation"},n))}}]),t}(o.a.Component),D=L()(F),H=r(9),M=function(e){function t(e){var r;return Object(c.a)(this,t),(r=Object(p.a)(this,Object(l.a)(t).call(this,e))).handleOnShowQuotationsWithoutAssociation=r.handleOnShowQuotationsWithoutAssociation.bind(Object(m.a)(r)),r}return Object(h.a)(t,e),Object(u.a)(t,[{key:"handleOnShowQuotationsWithoutAssociation",value:function(e){e.preventDefault();var t=this.props.dispatch,r=this.refs.searchText.value;t(H.clearCanonicalQuotation()),t(H.clearFocusedQuotation()),t(H.clearParagraph()),t(H.fetchCanonicalQuotations(r)),t(H.fetchQuotations(r))}},{key:"render",value:function(){var e=this.props.canonicalQuotations;return o.a.createElement("div",null,o.a.createElement("p",null,"List of Canonical Quotations"),o.a.createElement("p",null,"Count ",e.length),0===e.length?o.a.createElement("p",{className:"container__message"},"No Quotations"):e.map(function(e){var t=e.focused?"quotation focused":"quotation";return o.a.createElement(D,Object.assign({className:t,key:e.id},e))}))}}]),t}(o.a.Component),W=(Object(i.connect)(function(e){return e})(M),r(10).connect),U=r(9),G=function(e){function t(e){var r;return Object(c.a)(this,t),(r=Object(p.a)(this,Object(l.a)(t).call(this,e))).handleOnClick=r.handleOnClick.bind(Object(m.a)(r)),r}return Object(h.a)(t,e),Object(u.a)(t,[{key:"handleOnClick",value:function(){var e=this.props,t=e.isManifestationOf,r=e.id,a=e.quotation,o=e.dispatch,n={id:r,quotation:a,type:"manifestation"};o(U.createFocusedQuotation(n)),o(U.changeManifestationQuotationsFocus(r)),o(U.fetchParagraph());var s=document.getElementById(r).offsetTop;if(x()("#ManifestationQuotationsList").animate({scrollTop:s-10},400),null!=t){var i=this.props.quotations.find(function(e){return e.id===t});if(void 0!=i){o(U.changeQuotationsFocus(t));s=document.getElementById(t).offsetTop;x()("#quotationsList").animate({scrollTop:s-10},400);var c=i.isInstanceOf;if(null!=c){var u=this.props.canonicalQuotations.find(function(e){return e.id===c});if(void 0!=u){o(U.createCanonicalQuotation(u)),o(U.changeCanonicalQuotationsFocus(c));s=document.getElementById(c).offsetTop;x()("#CanonicalQuotationList").animate({scrollTop:s-10},400)}else o(U.clearCanonicalQuotationsFocus()),o(U.clearCanonicalQuotation())}}else o(U.clearQuotationsFocus()),o(U.clearCanonicalQuotation())}else o(U.clearQuotationsFocus()),o(U.clearCanonicalQuotationsFocus()),o(U.clearCanonicalQuotation())}},{key:"render",value:function(){var e=this.props,t=e.id,r=e.quotation,a=e.className;return o.a.createElement("p",{id:t,className:a,onClick:this.handleOnClick},r)}}]),t}(o.a.Component),B=W(function(e){return e})(G),X=(r(9),function(e){function t(){return Object(c.a)(this,t),Object(p.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.manifestationQuotations;return o.a.createElement("div",null,o.a.createElement("p",null,"List of Manifestation Quotations"),o.a.createElement("p",null,"Count ",e.length),0===e.length?o.a.createElement("p",{className:"container__message"},"No Quotations"):e.map(function(e){var t=e.focused?"quotation focused":"quotation";return o.a.createElement(B,Object.assign({className:t,key:e.id},e))}))}}]),t}(o.a.Component)),Y=Object(i.connect)(function(e){return e})(X),K=r(24),V=r(10).connect,$=r(9),z=function(e){function t(e){var r;return Object(c.a)(this,t),(r=Object(p.a)(this,Object(l.a)(t).call(this,e))).handleShowImages=r.handleShowImages.bind(Object(m.a)(r)),r.handleShowFullText=r.handleShowFullText.bind(Object(m.a)(r)),r.runQueryForSource=r.runQueryForSource.bind(Object(m.a)(r)),r.addTEICustom=r.addTEICustom.bind(Object(m.a)(r)),r.handleClearFilters=r.handleClearFilters,r}return Object(h.a)(t,e),Object(u.a)(t,[{key:"handleShowImages",value:function(e){e.preventDefault();var t=this.props.dispatch;t($.fetchImages()),t($.toggleImagesDisplay(this.props.images.visible))}},{key:"handleShowFullText",value:function(e){e.preventDefault();var t=this.props.dispatch;"source"===this.props.type?t($.fetchFullText(!0)):t($.fetchFullText(!1)),t($.toggleImagesDisplay(!0)),t($.toggleFullTextDisplay(this.props.fullText.visible))}},{key:"componentDidMount",value:function(e){this.addTEICustom()}},{key:"componentDidUpdate",value:function(e){this.addTEICustom()}},{key:"addTEICustom",value:function(){var e=this,t=new K.default,r={};if((r="source"===this.props.type?this.props.sourceParagraph:this.props.paragraph).paragraph_text)t.makeHTML5(r.paragraph_text,function(t){if(e.props.focusedQuotation.id){var r=e.props.focusedQuotation.id.split("/").pop();t.querySelector("#"+r)&&t.querySelector("#"+r).setAttribute("class","highlighted"),e.refs.text.replaceChild(t,e.refs.text.childNodes[0])}});else{var a=document.createTextNode("");e.refs.text.replaceChild(a,e.refs.text.childNodes[0])}}},{key:"runQueryForSource",value:function(e){var t=this.props,r=t.dispatch,a=(t.search,{quotationWorkPart:e});this.handleClearFilters(),r($.setSearchParameters(a)),r($.fetchQuotationWorkParts()),r($.fetchQuotations()),r($.fetchChart())}},{key:"handleClearFilters",value:function(e){var t=this.props,r=t.dispatch;t.search;r($.clearSearchParameters()),r($.clearCanonicalQuotations()),r($.clearQuotations()),r($.fetchQuotationWorkParts()),r($.fetchExpressionParts()),r($.fetchQuotationAuthors()),r($.fetchExpressionAuthors()),r($.fetchSearchWorksList()),r($.fetchQuotationWorksList()),r($.fetchWorkGroups()),r($.fetchAuthorTypes()),r($.clearManifestationQuotations())}},{key:"render",value:function(){var e=this,t=this,r={},a=r="source"===this.props.type?this.props.sourceParagraph:this.props.paragraph,n=(a.expression_id,a.manifestation_id);a.paragraph_text,a.review;return o.a.createElement("div",null,o.a.createElement("p",null,"Context Paragraph"),o.a.createElement("div",{id:"text",ref:"text"},o.a.createElement("div",null)),n&&o.a.createElement("p",null,o.a.createElement("a",{href:n},n)),n&&o.a.createElement("p",null,o.a.createElement("a",{href:"http://sctalab.lombardpress.org/#/text?resourceid="+n,target:"_blank"},"View in LbpWeb")),function(){if(r.expression_id)return o.a.createElement("p",null,o.a.createElement("a",{onClick:t.handleShowFullText},"Show Full Text"))}(),"source"===this.props.type&&this.props.focusedQuotation.source&&o.a.createElement("p",{onClick:function(){e.runQueryForSource(e.props.sourceParagraph.expression_id.split("/resource/")[1])}},"Search Quotations of this Passage Only"))}}]),t}(o.a.Component),J=V(function(e){return e})(z),Z=r(10).connect,ee=r(84),te=(r(9),function(e){function t(e){var r;return Object(c.a)(this,t),(r=Object(p.a)(this,Object(l.a)(t).call(this,e))).createBarChart=r.createBarChart.bind(Object(m.a)(r)),r}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.chart.count;e&&this.createBarChart(e)}},{key:"componentDidUpdate",value:function(e,t){var r=this.props.chart.count;r!=e.chart.count&&this.createBarChart(r)}},{key:"componentWillUnmount",value:function(){ee.selectAll(".tooltip").remove()}},{key:"createBarChart",value:function(e){ee.select("svg").selectAll("*").remove(),ee.selectAll(".tooltip").remove();var t=e;t.filter(function(e,t){e.count=+e.count});var r;r=t.map(function(e){return e.count}),t.map(function(e){return e.title});var a=30,o=30,n=40,s=50,i=500-a-n,c=1200-s-o,u=ee.scale.linear().domain([0,.8*t.length,t.length]).range(["#FFB832","#C61C6F"]),p=ee.scale.linear().domain([0,ee.max(r)]).range([0,i]),l=ee.scale.ordinal().domain(ee.range(0,t.length)).rangeBands([0,c],.5),h=ee.select("body").append("div").attr("class","tooltip").style("position","absolute").style("padding","0 10px").style("background","white").style("opacity",0),f=this.node;ee.select(f).attr("width",c+s+o).attr("height",i+a+n).append("g").attr("transform","translate("+s+", "+a+")").selectAll("rect").data(t).enter().append("g").append("rect").style("fill",function(e,t){return u(t)}).attr("height",0).attr("y",i).attr("width",l.rangeBand()).attr("x",function(e,t){return l(t)}).on("mouseover",function(e){h.transition().style("opacity",.9),h.html("<a href='"+e.item+"'>"+e.title+"</a>. Quoted "+e.count+" times").style("left",ee.event.pageX+0+"px").style("top",ee.event.pageY+0+"px").style("left",ee.select(f).left+150+"px").style("top",ee.select(f).top+125+"px"),ee.select(this).style("opacity",.5)}).on("mouseout",function(e){ee.select(this).transition().style("opacity",1)}).transition().attr("height",function(e){return p(e.count)}).attr("y",function(e){return i-p(e.count)}).delay(function(e,t){return 10*t}).duration(1e3).ease("elastic");var m=ee.scale.linear().domain([0,ee.max(r)]).range([i,0]),d=ee.svg.axis().scale(m).orient("left").ticks(10),T=ee.select(f).append("g");d(T),T.attr("transform","translate("+s+", "+a+")"),T.selectAll("path").style({fill:"none",stroke:"#000"}),T.selectAll("line").style({stroke:"#000"});var E=ee.svg.axis().scale(l).orient("bottom").tickValues(l.domain().filter(function(e,t){return t%50===0})),y=ee.select(f).append("g");E(y),y.attr("transform","translate("+s+", "+(i+a)+")"),y.selectAll("path").style({fill:"none",stroke:"#000"}),y.selectAll("line").style({stroke:"#000"})}},{key:"render",value:function(){var e=this;return o.a.createElement("svg",{ref:function(t){return e.node=t},width:500,height:500})}}]),t}(o.a.Component)),re=Z(function(e){return{chart:e.chart}},function(e){return{}})(te),ae=r(10).connect,oe=r(9),ne=(r(24),function(e){function t(e){var r;return Object(c.a)(this,t),(r=Object(p.a)(this,Object(l.a)(t).call(this,e))).handleToggleImage=r.handleToggleImage.bind(Object(m.a)(r)),r}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e){}},{key:"handleToggleImage",value:function(e){e.preventDefault(),(0,this.props.dispatch)(oe.toggleImagesDisplay(this.props.images.visible))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"images"},function(){var t=e.props.images;if(t.visible&&t.images.length>0)return t.images.map(function(e){var t=e.url;return o.a.createElement("img",{src:t+"/full/1000,/0/default.jpg"})})}())}}]),t}(o.a.Component)),se=ae(function(e){return e})(ne),ie=r(10).connect,ce=r(9),ue=function(e){function t(e){var r;return Object(c.a)(this,t),(r=Object(p.a)(this,Object(l.a)(t).call(this,e))).handleToggleFullText=r.handleToggleFullText.bind(Object(m.a)(r)),r}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(){var e=this,t=new K.default;this.props.fullText.textInfo.text&&t.makeHTML5(this.props.fullText.textInfo.text,function(t){var r=e.props.focusedQuotation.id.split("/").pop(),a=e.props.focusedQuotation.source.split("/").pop();e.refs.text.replaceChild(t,e.refs.text.childNodes[0]);var o="";try{t.querySelector("#"+r)&&t.querySelector("#"+r).setAttribute("class","highlighted"),o=document.getElementById(r).offsetTop}catch(n){t.querySelector("#"+a)&&t.querySelector("#"+a).setAttribute("class","highlighted"),o=document.getElementById(a).offsetTop}console.log("scroll",o),x()(".full-text-wrapper").animate({scrollTop:o-100},400)})}},{key:"handleToggleFullText",value:function(e){e.preventDefault(),(0,this.props.dispatch)(ce.toggleFullTextDisplay(this.props.fullText.visible))}},{key:"render",value:function(){return o.a.createElement("div",{className:"full-text-wrapper"},o.a.createElement("div",{id:"text-tool-bar"},o.a.createElement("button",{id:"hide-full-text",onClick:this.handleToggleFullText},"Hide Text")),o.a.createElement("div",{id:"text",ref:"text"},o.a.createElement("div",null)))}}]),t}(o.a.Component),pe=ie(function(e){return e})(ue),le=function(e){function t(){return Object(c.a)(this,t),Object(p.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"wrapper"},o.a.createElement("div",{className:"search column1"},o.a.createElement(g,null)),function(){if(!e.props.chart.visible&&!e.props.images.visible&&!e.props.fullText.visible)return o.a.createElement("div",null,o.a.createElement("div",{id:"quotationsList",className:"column2"},o.a.createElement(w,null)),o.a.createElement("div",{id:"ManifestationQuotationsList",className:"column3"},o.a.createElement(Y,null)),o.a.createElement("div",{className:"column4"},o.a.createElement(J,null)),o.a.createElement("div",{id:"CanonicalQuotationList",className:"column5"},o.a.createElement(J,{type:"source"})))}(),function(){if(e.props.chart.visible)return o.a.createElement("div",{className:"chart"},o.a.createElement(re,{size:[500,500]}))}(),function(){if(e.props.images.visible)return o.a.createElement("div",null,o.a.createElement(se,null),o.a.createElement("div",{className:"column5"},o.a.createElement(J,null)))}(),function(){if(e.props.fullText.visible)return o.a.createElement(pe,null)}()))}}]),t}(o.a.Component),he=Object(i.connect)(function(e){return e})(le),fe=function(e){return o.a.createElement("div",null,o.a.createElement("h3",{className:"page-title"},o.a.createElement("em",null,"Ad fontes"),": A Scholastic Quotation Explorer"),o.a.createElement("div",{className:"page-header"},o.a.createElement("p",null,"A ",o.a.createElement("a",{href:"http://lombardpress.org"},"LombardPress")," Publication"),o.a.createElement("p",null,"Powerd by Data from the ",o.a.createElement("a",{href:"https://scta.info"},"Scholastic Commentaries and Text Archive")),o.a.createElement("p",null,"Designed by ",o.a.createElement("a",{href:"http://jeffreycwitt.com"},"Jeffrey C. Witt"))),o.a.createElement(he,null))},me=r(9),de=(r(85),r(86),r(89).configure());de.subscribe(function(){de.getState()}),de.dispatch(Object(me.setSearchParameters)({})),de.dispatch(Object(me.fetchQuotationAuthors)()),de.dispatch(Object(me.fetchExpressionAuthors)()),de.dispatch(Object(me.fetchSearchWorksList)()),de.dispatch(Object(me.fetchExpressionTypes)()),de.dispatch(Object(me.fetchQuotationExpressionTypes)()),de.dispatch(Object(me.fetchQuotationWorksList)()),de.dispatch(Object(me.fetchWorkGroups)()),de.dispatch(Object(me.fetchAuthorTypes)()),de.dispatch(Object(me.fetchChart)()),s.a.render(o.a.createElement(i.Provider,{store:de},o.a.createElement(fe,null)),document.getElementById("root"))},89:function(e,t,r){"use strict";r.r(t);var a=r(11);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(r,!0).forEach(function(t){Object(a.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLEAR_SEARCH_PARAMETERS":return n({},e,{searchParameters:[]});case"SET_SEARCH_PARAMETERS":return n({},e,{searchParameters:t.searchParameters});case"START_SEARCH_WORKS_FETCH":return n({},e,{searchWorks:[]});case"COMPLETE_SEARCH_WORKS_FETCH":return n({},e,{searchWorks:t.listOfWorks});case"START_QUOTATION_AUTHORS_FETCH":return n({},e,{quotationAuthors:[]});case"COMPLETE_QUOTATION_AUTHORS_FETCH":return n({},e,{quotationAuthors:t.authors});case"START_EXPRESSION_AUTHORS_FETCH":return n({},e,{expressionAuthors:[]});case"COMPLETE_EXPRESSION_AUTHORS_FETCH":return n({},e,{expressionAuthors:t.authors});case"START_QUOTATION_WORKS_LIST_FETCH":return n({},e,{quotationWorksList:[]});case"COMPLETE_QUOTATION_WORKS_LIST_FETCH":return n({},e,{quotationWorksList:t.quotationWorksList});case"START_QUOTATION_WORK_PARTS_FETCH":return n({},e,{quotationWorkParts:[]});case"COMPLETE_QUOTATION_WORK_PARTS_FETCH":return n({},e,{quotationWorkParts:t.parts});case"START_EXPRESSION_PARTS_FETCH":return n({},e,{expressionParts:[]});case"COMPLETE_EXPRESSION_PARTS_FETCH":return n({},e,{expressionParts:t.parts});case"START_EXPRESSION_TYPE_FETCH":return n({},e,{expressionTypes:[]});case"COMPLETE_EXPRESSION_TYPE_FETCH":return n({},e,{expressionTypes:t.expressionTypes});case"START_QUOTATION_EXPRESSION_TYPE_FETCH":return n({},e,{quotationExpressionTypes:[]});case"COMPLETE_QUOTATION_EXPRESSION_TYPE_FETCH":return n({},e,{quotationExpressionTypes:t.quotationExpressionTypes});case"START_WORK_GROUPS_FETCH":return n({},e,{workGroups:[]});case"COMPLETE_WORK_GROUPS_FETCH":return n({},e,{workGroups:t.workGroups});case"START_AUTHOR_TYPES_FETCH":return n({},e,{authorTypes:[]});case"COMPLETE_AUTHOR_TYPES_FETCH":return n({},e,{authorTypes:t.authorTypes});default:return e}};function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(r,!0).forEach(function(t){Object(a.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_GRAPH_DISPLAY":return c({},e,{visible:!t.current});case"START_CHART_FETCH":return c({},e,{count:[]});case"COMPLETE_CHART_FETCH":return c({},e,{count:t.count});default:return e}};function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(r,!0).forEach(function(t){Object(a.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_IMAGES_DISPLAY":return l({},e,{visible:!t.current});case"START_IMAGES_FETCH":return l({},e,{images:[]});case"COMPLETE_IMAGES_FETCH":return l({},e,{images:t.images});default:return e}},f=r(14);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(r,!0).forEach(function(t){Object(a.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_QUOTATIONS":case"ADD_QUOTATIONS":return[].concat(Object(f.a)(e),Object(f.a)(t.quotations));case"CLEAR_QUOTATIONS":return[];case"START_QUOTATIONS_FETCH":return"fetching";case"COMPLETE_QUOTATIONS_FETCH":return t.quotations.map(function(e){return{id:e.quotation.value,quotation:e.quotation_text.value,title:e.toplevel_expression_title.value,author:e.author_title.value,focused:!1,isInstanceOf:e.isInstanceOf?e.isInstanceOf.value:null,source:e.source?e.source.value:null,citation:e.citation?e.citation.value:null,refText:e.refText?e.refText.value:null,refType:e.refType?e.refType.value.split("/resource/").reverse()[0]:null}});case"CHANGE_QUOTATIONS_FOCUS":var r=e.map(function(e){return e.id===t.id?d({},e,{focused:!0}):d({},e,{focused:!1})});return Object(f.a)(r);default:return e}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_FOCUSED_QUOTATION":return t.quotation;case"CLEAR_FOCUSED_QUOTATION":return{};default:return e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_CANONICAL_QUOTATION":return t.quotation;case"CLEAR_CANONICAL_QUOTATION":return null;default:return e}};function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(r,!0).forEach(function(t){Object(a.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CANONICAL_QUOTATIONS":return[].concat(Object(f.a)(e),Object(f.a)(t.quotations));case"CLEAR_CANONICAL_QUOTATIONS":case"START_CANONICAL_QUOTATIONS_FETCH":return[];case"COMPLETE_CANONICAL_QUOTATIONS_FETCH":return t.canonicalQuotations.map(function(e){return{id:e.quotation.value,quotation:e.quotation_text.value,citation:e.citation?e.citation.value:"citation not yet recorded",focused:!1}});case"CLEAR_CANONICAL_QUOTATIONS_FOCUS":return e.map(function(e){return O({},e,{focused:!1})});case"CHANGE_CANONICAL_QUOTATIONS_FOCUS":var r=e.map(function(e){return e.id===t.id?O({},e,{focused:!0}):O({},e,{focused:!1})});return Object(f.a)(r);default:return e}};function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(r,!0).forEach(function(t){Object(a.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MANIFESTATION_QUOTATIONS":return[].concat(Object(f.a)(e),Object(f.a)(t.quotations));case"CLEAR_MANIFESTATION_QUOTATIONS":case"START_MANIFESTATION_QUOTATIONS_FETCH":return[];case"COMPLETE_MANIFESTATION_QUOTATIONS_FETCH":return t.manifestationQuotations.map(function(e){return{id:e.quotation.value,quotation:e.quotation_text.value,focused:!1,isManifestationOf:e.isManifestationOf?e.isManifestationOf.value:null}});case"CLEAR_MANIFESTATION_QUOTATIONS_FOCUS":return e.map(function(e){return g({},e,{focused:!1})});case"CHANGE_MANIFESTATION_QUOTATIONS_FOCUS":var r=e.map(function(e){return e.id===t.id?g({},e,{focused:!0}):g({},e,{focused:!1})});return Object(f.a)(r);default:return e}};function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(r,!0).forEach(function(t){Object(a.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PARAGRAPH":return t.paragraph;case"CLEAR_PARAGRAPH":case"START_PARAGRAPH_FETCH":return{};case"COMPLETE_PARAGRAPH_FETCH":return t.paragraph;case"START_REVIEW_FETCH":return e;case"COMPLETE_REVIEW_FETCH":return b({},e,{review:t.review});default:return e}};function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(r,!0).forEach(function(t){Object(a.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SOURCE_PARAGRAPH":return t.sourceParagraph;case"CLEAR_SOURCE_PARAGRAPH":case"START_SOURCE_PARAGRAPH_FETCH":return{};case"COMPLETE_SOURCE_PARAGRAPH_FETCH":return t.sourceParagraph;case"START_SOURCE_PARAGRAPH_REVIEW_FETCH":return e;case"COMPLETE_SOURCE_PARAGRAPH_REVIEW_FETCH":return I({},e,{review:t.review});default:return e}};function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(r,!0).forEach(function(t){Object(a.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_FULL_TEXT_DISPLAY":return R({},e,{visible:!t.current});case"ADD_FULL_TEXT":return R({},e,{textInfo:t.text});case"CLEAR_FULL_TEXT":case"START_FULL_TEXT_FETCH":return R({},e,{textInfo:{}});case"COMPLETE_FULL_TEXT_FETCH":return R({},e,{textInfo:t.text});default:return e}};r.d(t,"configure",function(){return L});var k=r(27),j=r(87).default,L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=k.combineReducers({search:s,quotations:T,focusedQuotation:E,canonicalQuotation:y,canonicalQuotations:A,manifestationQuotations:P,paragraph:S,sourceParagraph:q,chart:u,images:h,fullText:N}),r=k.createStore(t,e,k.compose(k.applyMiddleware(j),window.devToolsExtension?window.devToolsExtension():function(e){return e}));return r}},9:function(e,t,r){"use strict";r.r(t),r.d(t,"clearSearchParameters",function(){return s}),r.d(t,"setSearchParameters",function(){return i}),r.d(t,"startSearchWorksFetch",function(){return c}),r.d(t,"completeSearchWorksFetch",function(){return u}),r.d(t,"fetchSearchWorksList",function(){return p}),r.d(t,"startQuotationAuthorsFetch",function(){return l}),r.d(t,"completeQuotationAuthorsFetch",function(){return h}),r.d(t,"fetchQuotationAuthors",function(){return f}),r.d(t,"startExpressionAuthorsFetch",function(){return m}),r.d(t,"completeExpressionAuthorsFetch",function(){return d}),r.d(t,"fetchExpressionAuthors",function(){return T}),r.d(t,"startQuotationWorksListFetch",function(){return E}),r.d(t,"completeQuotationWorksListFetch",function(){return y}),r.d(t,"fetchQuotationWorksList",function(){return v}),r.d(t,"startQuotationWorkPartsFetch",function(){return O}),r.d(t,"completeQuotationWorkPartsFetch",function(){return A}),r.d(t,"fetchQuotationWorkParts",function(){return _}),r.d(t,"startExpressionPartsFetch",function(){return g}),r.d(t,"completeExpressionPartsFetch",function(){return P}),r.d(t,"fetchExpressionParts",function(){return x}),r.d(t,"startQuotationExpressionTypeFetch",function(){return b}),r.d(t,"completeQuotationExpressionTypeFetch",function(){return S}),r.d(t,"fetchQuotationExpressionTypes",function(){return C}),r.d(t,"startExpressionTypeFetch",function(){return I}),r.d(t,"completeExpressionTypeFetch",function(){return q}),r.d(t,"fetchExpressionTypes",function(){return w}),r.d(t,"startWorkGroupsFetch",function(){return R}),r.d(t,"completeWorkGroupsFetch",function(){return N}),r.d(t,"fetchWorkGroups",function(){return k}),r.d(t,"startAuthorTypesFetch",function(){return j}),r.d(t,"completeAuthorTypesFetch",function(){return L}),r.d(t,"fetchAuthorTypes",function(){return Q}),r.d(t,"toggleGraphDisplay",function(){return F}),r.d(t,"startChartFetch",function(){return D}),r.d(t,"completeChartFetch",function(){return H}),r.d(t,"fetchChart",function(){return M}),r.d(t,"toggleImagesDisplay",function(){return W}),r.d(t,"startImagesFetch",function(){return U}),r.d(t,"completeImagesFetch",function(){return G}),r.d(t,"fetchImages",function(){return B}),r.d(t,"addQuotations",function(){return X}),r.d(t,"clearQuotations",function(){return Y}),r.d(t,"startQuotationsFetch",function(){return K}),r.d(t,"clearQuotationsFocus",function(){return V}),r.d(t,"completeQuotationsFetch",function(){return $}),r.d(t,"fetchQuotations",function(){return z}),r.d(t,"changeQuotationsFocus",function(){return J}),r.d(t,"clearFocusedQuotation",function(){return Z}),r.d(t,"createFocusedQuotation",function(){return ee}),r.d(t,"createCanonicalQuotation",function(){return te}),r.d(t,"clearCanonicalQuotation",function(){return re}),r.d(t,"changeCanonicalQuotationsFocus",function(){return ae}),r.d(t,"clearCanonicalQuotationsFocus",function(){return oe}),r.d(t,"clearCanonicalQuotations",function(){return ne}),r.d(t,"startCanonicalQuotationsFetch",function(){return se}),r.d(t,"completeCanonicalQuotationsFetch",function(){return ie}),r.d(t,"fetchCanonicalQuotations",function(){return ce}),r.d(t,"changeManifestationQuotationsFocus",function(){return ue}),r.d(t,"clearManifestationQuotationsFocus",function(){return pe}),r.d(t,"clearManifestationQuotations",function(){return le}),r.d(t,"startManifestationQuotationsFetch",function(){return he}),r.d(t,"completeManifestationQuotationsFetch",function(){return fe}),r.d(t,"fetchManifestationQuotations",function(){return me}),r.d(t,"clearParagraph",function(){return de}),r.d(t,"startParagraphFetch",function(){return Te}),r.d(t,"completeParagraphFetch",function(){return Ee}),r.d(t,"fetchParagraph",function(){return ye}),r.d(t,"startReviewFetch",function(){return ve}),r.d(t,"completeReviewFetch",function(){return Oe}),r.d(t,"fetchReview",function(){return Ae}),r.d(t,"clearSourceParagraph",function(){return _e}),r.d(t,"startSourceParagraphFetch",function(){return ge}),r.d(t,"completeSourceParagraphFetch",function(){return Pe}),r.d(t,"fetchSourceParagraph",function(){return xe}),r.d(t,"startSourceParagraphReviewFetch",function(){return be}),r.d(t,"completeSourceParagraphReviewFetch",function(){return Se}),r.d(t,"fetchSourceParagraphReview",function(){return Ce}),r.d(t,"toggleFullTextDisplay",function(){return Ie}),r.d(t,"clearFullText",function(){return qe}),r.d(t,"startFullTextFetch",function(){return we}),r.d(t,"completeFullTextFetch",function(){return Re}),r.d(t,"fetchFullText",function(){return Ne});var a=r(8),o=r.n(a),n="https://sparql-docker.scta.info/ds/query",s=function(){return{type:"CLEAR_SEARCH_PARAMETERS"}},i=function(e){return{type:"SET_SEARCH_PARAMETERS",searchParameters:e}},c=function(){return{type:"START_SEARCH_WORKS_FETCH"}},u=function(e){return{type:"COMPLETE_SEARCH_WORKS_FETCH",listOfWorks:e}},p=function(){return function(e,t){var r=t(),a="";r.search.searchParameters.workGroup&&(a=["<http://scta.info/resource/"+r.search.searchParameters.workGroup+"> <http://scta.info/property/hasExpression> ?expression ."].join(""));var s="";r.search.searchParameters.expressionAuthorType&&(s=["?expression <http://www.loc.gov/loc.terms/relators/AUT> ?expressionAuthor . ","?expressionAuthor <http://scta.info/property/personType> <http://scta.info/resource/"+r.search.searchParameters.expressionAuthorType+"> ."].join(""));var i="";r.search.searchParameters.expressionAuthor&&(i=["?expression <http://www.loc.gov/loc.terms/relators/AUT> <http://scta.info/resource/"+r.search.searchParameters.expressionAuthor+"> ."].join(""));var p=["SELECT ?type ?expression ?expressionShortId ?expressionTitle ?author ?authorTitle ?workGroup ?workGroupTitle","WHERE { ","?expression a <http://scta.info/resource/expression> .","?expression a ?type .","?expression <http://scta.info/property/level> '1' . ",s,a,i,"?expression <http://scta.info/property/shortId> ?expressionShortId .","?expression <http://scta.info/property/shortId> ?expressionShortId .","?expression <http://purl.org/dc/elements/1.1/title> ?expressionTitle .","?expression <http://www.loc.gov/loc.terms/relators/AUT> ?author . ","?author <http://purl.org/dc/elements/1.1/title> ?authorTitle .","?expression <http://purl.org/dc/terms/isPartOf> ?workGroup .","?workGroup <http://purl.org/dc/elements/1.1/title> ?workGroupTitle .","}","ORDER BY ?expressionTitle"].join("");e(c()),o.a.get(n,{params:{query:p,output:"json"}}).then(function(t){var r=t.data.results.bindings.map(function(e){return{expression:e.expression.value,expressionShortId:e.expressionShortId?e.expressionShortId.value:"",expressionTitle:e.expressionTitle.value,workGroup:e.workGroup?e.workGroup.value:"",workGroupTitle:e.workGroupTitle?e.workGroupTitle.value:"",author:e.author?e.author.value:"",authorTitle:e.author?e.authorTitle.value:"",type:e.type.value}});e(u(r))})}},l=function(){return{type:"START_QUOTATION_AUTHORS_FETCH"}},h=function(e){return{type:"COMPLETE_QUOTATION_AUTHORS_FETCH",authors:e}},f=function(){return function(e,t){var r=t(),a="";r.search.searchParameters.quotationAuthorType&&(a=["?author <http://scta.info/property/personType> <http://scta.info/resource/"+r.search.searchParameters.quotationAuthorType+"> ."].join(""));var s="";(r.search.searchParameters.quotationAuthorDateAfter||r.search.searchParameters.quotationAuthorDateBefore)&&(s="?author <http://scta.info/property/dateOfBirth> ?dateOfBirth .");var i="";r.search.searchParameters.quotationAuthorDateAfter&&(i="FILTER (?dateOfBirth >= '"+r.search.searchParameters.quotationAuthorDateAfter+"').");var c="";r.search.searchParameters.quotationAuthorDateBefore&&(c="FILTER (?dateOfBirth <= '"+r.search.searchParameters.quotationAuthorDateBefore+"').");var u=["SELECT DISTINCT ?author ?authorTitle ?authorShortId ","WHERE { ","?author a <http://scta.info/resource/person> .",a,s,"?resource a <http://scta.info/resource/expression> .","?resource <http://scta.info/property/level> '1' .","?resource <http://www.loc.gov/loc.terms/relators/AUT> ?author .","?author <http://scta.info/property/shortId> ?authorShortId .","?author <http://purl.org/dc/elements/1.1/title> ?authorTitle .",i,c,"}","ORDER BY ?authorTitle"].join("");e(l()),o.a.get(n,{params:{query:u,output:"json"}}).then(function(t){var r=t.data.results.bindings.map(function(e){return{author:e.author.value,authorShortId:e.authorShortId.value,authorTitle:e.authorTitle.value}});e(h(r))})}},m=function(){return{type:"START_EXPRESSION_AUTHORS_FETCH"}},d=function(e){return{type:"COMPLETE_EXPRESSION_AUTHORS_FETCH",authors:e}},T=function(){return function(e,t){var r=t(),a="";r.search.searchParameters.expressionAuthorType&&(a=["?author <http://scta.info/property/personType> <http://scta.info/resource/"+r.search.searchParameters.expressionAuthorType+"> ."].join(""));var s="";(r.search.searchParameters.expressionAuthorDateAfter||r.search.searchParameters.expressionAuthorDateBefore)&&(s="?author <http://scta.info/property/dateOfBirth> ?dateOfBirth .");var i="";r.search.searchParameters.expressionAuthorDateAfter&&(i="FILTER (?dateOfBirth >= '"+r.search.searchParameters.expressionAuthorDateAfter+"').");var c="";r.search.searchParameters.expressionAuthorDateBefore&&(c="FILTER (?dateOfBirth <= '"+r.search.searchParameters.expressionAuthorDateBefore+"').");var u=["SELECT DISTINCT ?author ?authorTitle ?authorShortId ","WHERE { ","?author a <http://scta.info/resource/person> .",a,s,"?resource a <http://scta.info/resource/expression> .","?resource <http://scta.info/property/level> '1' .","?resource <http://www.loc.gov/loc.terms/relators/AUT> ?author .","?author <http://scta.info/property/shortId> ?authorShortId .","?author <http://purl.org/dc/elements/1.1/title> ?authorTitle .",i,c,"}","ORDER BY ?authorTitle"].join("");e(m()),o.a.get(n,{params:{query:u,output:"json"}}).then(function(t){var r=t.data.results.bindings.map(function(e){return{author:e.author.value,authorShortId:e.authorShortId.value,authorTitle:e.authorTitle.value}});e(d(r))})}},E=function(){return{type:"START_QUOTATION_WORKS_LIST_FETCH"}},y=function(e){return{type:"COMPLETE_QUOTATION_WORKS_LIST_FETCH",quotationWorksList:e}},v=function(){return function(e,t){var r=t(),a="";r.search.searchParameters.quotationWorkGroup&&(a=["<http://scta.info/resource/"+r.search.searchParameters.quotationWorkGroup+"> <http://scta.info/property/hasExpression> ?expression ."].join(""));var s="";r.search.searchParameters.quotationAuthor&&(s=["?expression <http://www.loc.gov/loc.terms/relators/AUT> <http://scta.info/resource/"+r.search.searchParameters.quotationAuthor+"> ."].join(""));var i="";r.search.searchParameters.quotationAuthorType&&(i=["?expression <http://www.loc.gov/loc.terms/relators/AUT> ?quotationAuthor . ","?quotationAuthor <http://scta.info/property/personType> <http://scta.info/resource/"+r.search.searchParameters.quotationAuthorType+"> ."].join(""));var c=["SELECT ?type ?expression ?expressionShortId ?expressionTitle ?author ?authorTitle ?workGroup ?workGroupTitle","WHERE { ","?expression a <http://scta.info/resource/expression> .","?expression a ?type .","?expression <http://scta.info/property/level> '1' . ",i,a,s,"?expression <http://scta.info/property/shortId> ?expressionShortId .","?expression <http://purl.org/dc/elements/1.1/title> ?expressionTitle .","OPTIONAL { ","?expression <http://www.loc.gov/loc.terms/relators/AUT> ?author . ","?author <http://purl.org/dc/elements/1.1/title> ?authorTitle .","}","?expression <http://purl.org/dc/terms/isPartOf> ?workGroup .","?workGroup <http://purl.org/dc/elements/1.1/title> ?workGroupTitle .","}","ORDER BY ?expressionTitle"].join("");e(E()),o.a.get(n,{params:{query:c,output:"json"}}).then(function(t){var r=t.data.results.bindings.map(function(e){return{expression:e.expression.value,expressionShortId:e.expressionShortId?e.expressionShortId.value:"",expressionTitle:e.expressionTitle.value,workGroup:e.workGroup?e.workGroup.value:"",workGroupTitle:e.workGroupTitle?e.workGroupTitle.value:"",author:e.author?e.author.value:"",authorTitle:e.author?e.authorTitle.value:"",type:e.type.value}});e(y(r))})}},O=function(){return{type:"START_QUOTATION_WORK_PARTS_FETCH"}},A=function(e){return{type:"COMPLETE_QUOTATION_WORK_PARTS_FETCH",parts:e}},_=function(){return function(e,t){var r=t(),a=["SELECT ?grandparent ?grandparent_title ?parent_title ?parent ?child ?child_title ","WHERE { ","BIND(<http://scta.info/resource/"+(""!=r.search.searchParameters.quotationWorkPart?r.search.searchParameters.quotationWorkPart:""!=r.search.searchParameters.quotationWork?r.search.searchParameters.quotationWork:"")+"> AS ?parent)","OPTIONAL {","?parent <http://purl.org/dc/elements/1.1/title> ?parent_title","}","OPTIONAL {","?parent <http://purl.org/dc/terms/hasPart> ?child .","?child <http://purl.org/dc/elements/1.1/title> ?child_title .","}","OPTIONAL {","?parent <http://purl.org/dc/terms/isPartOf> ?grandparent .","?grandparent <http://purl.org/dc/elements/1.1/title> ?grandparent_title","}","}"].join("");e(O()),o.a.get(n,{params:{query:a,output:"json"}}).then(function(t){var r=t.data.results.bindings.map(function(e){return{grandparent:e.grandparent?e.grandparent.value:"",grandparent_title:e.grandparent_title?e.grandparent_title.value:"",parent:e.parent.value,parent_title:e.parent_title?e.parent_title.value:"",child:e.child?e.child.value:"",child_title:e.child_title?e.child_title.value:""}});e(A(r))})}},g=function(){return{type:"START_EXPRESSION_PARTS_FETCH"}},P=function(e){return{type:"COMPLETE_EXPRESSION_PARTS_FETCH",parts:e}},x=function(){return function(e,t){var r=t(),a="",s=["SELECT ?grandparent ?grandparent_title ?grandparent_level ?parent_title ?parent ?parent_level ?child ?child_level ?child_title ","WHERE { ","BIND(<http://scta.info/resource/"+(a=""!=r.search.searchParameters.expressionPart?r.search.searchParameters.expressionPart:""!=r.search.searchParameters.expressionId?r.search.searchParameters.expressionId:"")+"> AS ?parent)","OPTIONAL {","?parent <http://purl.org/dc/elements/1.1/title> ?parent_title .","?parent <http://scta.info/property/level> ?parent_level .","}","OPTIONAL {","?parent <http://purl.org/dc/terms/hasPart> ?child .","?child <http://purl.org/dc/elements/1.1/title> ?child_title .","?child <http://scta.info/property/level> ?child_level .","}","OPTIONAL {","?parent <http://purl.org/dc/terms/isPartOf> ?grandparent .","?grandparent <http://purl.org/dc/elements/1.1/title> ?grandparent_title .","?grandparent <http://scta.info/property/level> ?grandparent_level .","}","}"].join("");a&&(e(g()),o.a.get(n,{params:{query:s,output:"json"}}).then(function(t){var r=t.data.results.bindings.map(function(e){return{grandparent:e.grandparent?e.grandparent.value:"",grandparent_title:e.grandparent_title?e.grandparent_title.value:"",grandparent_level:e.grandparent_level?e.grandparent_level.value:"",parent:e.parent.value,parent_title:e.parent_title?e.parent_title.value:"",parent_level:e.parent_level?e.parent_level.value:"",child:e.child?e.child.value:"",child_title:e.child_title?e.child_title.value:"",child_level:e.child_level?e.child_level.value:""}});e(P(r))}))}},b=function(){return{type:"START_QUOTATION_EXPRESSION_TYPE_FETCH"}},S=function(e){return{type:"COMPLETE_QUOTATION_EXPRESSION_TYPE_FETCH",quotationExpressionTypes:e}},C=function(){return function(e,t){t();var r=["SELECT ?quotationExpressionType ?quotationExpressionTypeTitle ?quotationExpressionTypeShortId ","WHERE { ","?quotationExpressionType a <http://scta.info/resource/expressionType> .","?quotationExpressionType <http://scta.info/property/shortId> ?quotationExpressionTypeShortId .","?quotationExpressionType <http://purl.org/dc/elements/1.1/title> ?quotationExpressionTypeTitle .","}","ORDER BY ?quotationExpressionTypeTitle"].join("");e(b()),o.a.get(n,{params:{query:r,output:"json"}}).then(function(t){var r=t.data.results.bindings.map(function(e){return{quotationExpressionType:e.quotationExpressionType.value,quotationExpressionTypeShortId:e.quotationExpressionTypeShortId.value,quotationExpressionTypeTitle:e.quotationExpressionTypeTitle.value}});e(S(r))})}},I=function(){return{type:"START_EXPRESSION_TYPE_FETCH"}},q=function(e){return{type:"COMPLETE_EXPRESSION_TYPE_FETCH",expressionTypes:e}},w=function(){return function(e,t){t();var r=["SELECT ?expressionType ?expressionTypeTitle ?expressionTypeShortId ","WHERE { ","?expressionType a <http://scta.info/resource/expressionType> .","?expressionType <http://scta.info/property/shortId> ?expressionTypeShortId .","?expressionType <http://purl.org/dc/elements/1.1/title> ?expressionTypeTitle .","}","ORDER BY ?expressionTypeTitle"].join("");e(I()),o.a.get(n,{params:{query:r,output:"json"}}).then(function(t){var r=t.data.results.bindings.map(function(e){return{expressionType:e.expressionType.value,expressionTypeShortId:e.expressionTypeShortId.value,expressionTypeTitle:e.expressionTypeTitle.value}});e(q(r))})}},R=function(){return{type:"START_WORK_GROUPS_FETCH"}},N=function(e){return{type:"COMPLETE_WORK_GROUPS_FETCH",workGroups:e}},k=function(){return function(e,t){t();var r=["SELECT ?workGroup ?workGroupShortId ?workGroupTitle ","WHERE { ","?workGroup a <http://scta.info/resource/workGroup> .","?workGroup <http://scta.info/property/shortId> ?workGroupShortId .","?workGroup <http://purl.org/dc/elements/1.1/title> ?workGroupTitle .","}","ORDER BY ?workGroupTitle"].join("");e(R()),o.a.get(n,{params:{query:r,output:"json"}}).then(function(t){var r=t.data.results.bindings.map(function(e){return{workGroup:e.workGroup.value,workGroupShortId:e.workGroupShortId.value,workGroupTitle:e.workGroupTitle.value}});e(N(r))})}},j=function(){return{type:"START_AUTHOR_TYPES_FETCH"}},L=function(e){return{type:"COMPLETE_AUTHOR_TYPES_FETCH",authorTypes:e}},Q=function(){return function(e,t){t();var r=["SELECT ?authorType ?authorTypeTitle ?authorTypeShortId ","WHERE { ","?authorType a <http://scta.info/resource/personType> .","?authorType <http://scta.info/property/shortId> ?authorTypeShortId .","?authorType <http://purl.org/dc/elements/1.1/title> ?authorTypeTitle .","}","ORDER BY ?authorTypeTitle"].join("");e(j()),o.a.get(n,{params:{query:r,output:"json"}}).then(function(t){var r=t.data.results.bindings.map(function(e){return{authorType:e.authorType.value,authorTypeShortId:e.authorTypeShortId.value,authorTypeTitle:e.authorTypeTitle.value}});e(L(r))})}},F=function(e){return{type:"TOGGLE_GRAPH_DISPLAY",current:e}},D=function(){return{type:"START_CHART_FETCH"}},H=function(e){return{type:"COMPLETE_CHART_FETCH",count:e}},M=function(){return function(e,t){var r=t(),a=parseInt(r.search.searchParameters.expressionLevel);1===a&&(a=2);var s=r.search.searchParameters.searchText||"",i="";r.search.searchParameters.workGroup&&(i=["?ref <http://purl.org/dc/terms/isPartOf> <http://scta.info/resource/"+r.search.searchParameters.workGroup+">  . "].join(""));var c="";r.search.searchParameters.expressionAuthorType&&(c="?author <http://scta.info/property/personType> <http://scta.info/resource/"+r.search.searchParameters.expressionAuthorType+"> .");var u="";(r.search.searchParameters.expressionAuthorDateAfter||r.search.searchParameters.expressionAuthorDateBefore)&&(u="?author <http://scta.info/property/dateOfBirth> ?expressionAuthorDateOfBirth .");var p="";r.search.searchParameters.expressionAuthorDateAfter&&(p="FILTER (?expressionAuthorDateOfBirth >= '"+r.search.searchParameters.expressionAuthorDateAfter+"').");var l="";r.search.searchParameters.expressionAuthorDateBefore&&(l="FILTER (?expressionAuthorDateOfBirth <= '"+r.search.searchParameters.expressionAuthorDateBefore+"').");var h="";r.search.searchParameters.expressionAuthor&&(h="?ref <http://www.loc.gov/loc.terms/relators/AUT> <http://scta.info/resource/"+r.search.searchParameters.expressionAuthor+"> .");var f=["?ref <http://www.loc.gov/loc.terms/relators/AUT> ?author . ",c,u,h].join(""),m="";r.search.searchParameters.quotationAuthorType&&(m="?quotationAuthor <http://scta.info/property/personType> <http://scta.info/resource/"+(A=r.search.searchParameters.quotationAuthorType)+">  . ");var d="";(r.search.searchParameters.quotationAuthorDateAfter||r.search.searchParameters.quotationAuthorDateBefore)&&(d="?quotationAuthor <http://scta.info/property/dateOfBirth> ?quotationAuthorDateOfBirth .");var T="";r.search.searchParameters.quotationAuthorDateAfter&&(T="FILTER (?quotationAuthorDateOfBirth >= '"+r.search.searchParameters.quotationAuthorDateAfter+"').");var E="";r.search.searchParameters.quotationAuthorDateBefore&&(E="FILTER (?quotationAuthorDateOfBirth <= '"+r.search.searchParameters.quotationAuthorDateBefore+"').");var y="";r.search.searchParameters.quotationAuthor&&(y="?source_toplevel_expression <http://www.loc.gov/loc.terms/relators/AUT> <http://scta.info/resource/"+(A=r.search.searchParameters.quotationAuthor)+">  . ");var v="";if(r.search.searchParameters.quotationAuthorDateAfter||r.search.searchParameters.quotationAuthorDateBefore||r.search.searchParameters.quotationAuthor||r.search.searchParameters.quotationAuthorType)v=["{","?element <http://scta.info/property/isInstanceOf> ?isInstanceOf .","?isInstanceOf <http://scta.info/property/source> ?source .","?source <http://scta.info/property/isPartOfTopLevelExpression> ?source_toplevel_expression . ","?source_toplevel_expression <http://www.loc.gov/loc.terms/relators/AUT> ?quotationAuthor . ",m,d,y,"}","UNION","{","?element <http://scta.info/property/source> ?source .","?source <http://scta.info/property/isPartOfTopLevelExpression> ?source_toplevel_expression . ","?source_toplevel_expression <http://www.loc.gov/loc.terms/relators/AUT> ?quotationAuthor . ",m,d,y,"}"].join("");var O="";if(r.search.searchParameters.quotationWorkGroup){var A=r.search.searchParameters.quotationWorkGroup;O=["{","?element <http://scta.info/property/isInstanceOf> ?isInstanceOf .","?isInstanceOf <http://scta.info/property/source> ?source .","?source <http://scta.info/property/isPartOfTopLevelExpression> ?source_toplevel_expression . ","<http://scta.info/resource/"+r.search.searchParameters.quotationWorkGroup+"> <http://scta.info/property/hasExpression> ?source_toplevel_expression .","}","UNION","{","?element <http://scta.info/property/source> ?source .","?source <http://scta.info/property/isPartOfTopLevelExpression> ?source_toplevel_expression . ","<http://scta.info/resource/"+r.search.searchParameters.quotationWorkGroup+"> <http://scta.info/property/hasExpression> ?source_toplevel_expression .","}"].join("")}var _="";(r.search.searchParameters.quotationWork||r.search.searchParameters.quotationWorkPart)&&(_=["{","?element <http://scta.info/property/isInstanceOf> ?isInstanceOf .","{","\n#check for quotation whose canonical source is a member of the search expression\n","?isInstanceOf  <http://scta.info/property/source> ?source .","?source <http://scta.info/property/isMemberOf> <http://scta.info/resource/"+(A=r.search.searchParameters.quotationWorkPart?r.search.searchParameters.quotationWorkPart:r.search.searchParameters.quotationWork)+"> .","}","UNION","{","\n#check for quotation whose canonical source is search expression\n","?isInstanceOf  <http://scta.info/property/source> <http://scta.info/resource/"+A+"> .","}","}","UNION","{","\n#check for quotation whose source is a member the search expression\n","{","?element <http://scta.info/property/source> ?source .","?source <http://scta.info/property/isMemberOf> <http://scta.info/resource/"+A+"> .","}","UNION","\n#check for quotation whose source is the search expression\n","{","?element <http://scta.info/property/source> <http://scta.info/resource/"+A+"> .","}","}"].join(""));var g="";if(g="structureElementRef"===r.search.searchParameters.structureElementType?["{?element <http://scta.info/property/structureElementType> <http://scta.info/resource/structureElementRef> .}","MINUS","{?element <http://scta.info/property/isReferenceTo> ?isReferenceTo . }"].join(""):"structureElementRefDup"===r.search.searchParameters.structureElementType?"?element <http://scta.info/property/structureElementType> <http://scta.info/resource/structureElementRef> .":"structureElementQuote"===r.search.searchParameters.structureElementType?"?element <http://scta.info/property/structureElementType> <http://scta.info/resource/structureElementQuote> .":"allDup"===r.search.searchParameters.structureElementType?["{?element <http://scta.info/property/structureElementType> <http://scta.info/resource/structureElementQuote> .}","UNION","{?element <http://scta.info/property/structureElementType> <http://scta.info/resource/structureElementRef> . }"].join(""):["{?element <http://scta.info/property/structureElementType> <http://scta.info/resource/structureElementQuote> .}","UNION","{{?element <http://scta.info/property/structureElementType> <http://scta.info/resource/structureElementRef> .}","MINUS","{?element <http://scta.info/property/isReferenceTo> ?isReferenceTo . }","}"].join(""),r.search.searchParameters.expressionId)var P=["SELECT ?ref ?reftitle ?totalOrderNumber (count(?element) as ?count) ","WHERE {","?ref a <http://scta.info/resource/expression> .","?ref <http://scta.info/property/isMemberOf> <http://scta.info/resource/"+r.search.searchParameters.expressionId+"> .","?ref <http://scta.info/property/level> '"+a+"' .","?ref <http://purl.org/dc/elements/1.1/title> ?reftitle .","OPTIONAL {","?ref <http://scta.info/property/totalOrderNumber> ?totalOrderNumber .","}","OPTIONAL {","?element <http://scta.info/property/isMemberOf> ?ref .",g,"?element <http://scta.info/property/structureElementText> ?quotation_text .",v,O,_,"}",E,T,"FILTER (REGEX(STR(?quotation_text), '"+s+"', 'i')) .","}","group by ?ref ?reftitle ?totalOrderNumber ","ORDER BY ?totalOrderNumber "].join("");else P=["SELECT ?ref ?reftitle ?totalOrderNumber (count(?element) as ?count) ","WHERE {","?ref a <http://scta.info/resource/expression> .","?ref <http://scta.info/property/level> '1' .",i,f,"?ref <http://purl.org/dc/elements/1.1/title> ?reftitle .","OPTIONAL {","?ref <http://scta.info/property/totalOrderNumber> ?totalOrderNumber .","}","OPTIONAL {","?element <http://scta.info/property/isMemberOf> ?ref .",g,"?element <http://scta.info/property/structureElementText> ?quotation_text .",v,O,_,"}",E,T,l,p,"FILTER (REGEX(STR(?quotation_text), '"+s+"', 'i')) .","}","group by ?ref ?reftitle ?totalOrderNumber ","ORDER BY ?totalOrderNumber "].join("");e(D()),o.a.get(n,{params:{query:P,output:"json"}}).then(function(t){var r=t.data.results.bindings.map(function(e){return{item:e.ref?e.ref.value:"",title:e.reftitle?e.reftitle.value:"",count:e.count?e.count.value:""}});e(H(r))})}},W=function(e){return{type:"TOGGLE_IMAGES_DISPLAY",current:e}},U=function(){return{type:"START_IMAGES_FETCH"}},G=function(e){return{type:"COMPLETE_IMAGES_FETCH",images:e}},B=function(){return function(e,t){var r=["SELECT ?url ","WHERE { ","<"+t().paragraph.manifestation_id+"> <http://scta.info/property/isOnSurface> ?surface .","?surface <http://scta.info/property/hasISurface> ?isurface .","?isurface <http://scta.info/property/hasCanvas> ?canvas .","?canvas <http://iiif.io/api/presentation/2#hasImageAnnotations> ?anno .","?canvas <http://iiif.io/api/presentation/2#hasImageAnnotations> ?anno .","?anno <http://www.w3.org/1999/02/22-rdf-syntax-ns#first> ?imgres .","?imgres <http://www.w3.org/ns/oa#hasBody> ?body .","?body <http://rdfs.org/sioc/services#has_service> ?url .","}"].join("");e(U()),o.a.get(n,{params:{query:r,output:"json"}}).then(function(t){var r=t.data.results.bindings.map(function(e){return{url:e.url.value}});e(G(r))})}},X=function(e){return{type:"ADD_QUOTATIONS",quotations:e}},Y=function(){return{type:"CLEAR_QUOTATIONS"}},K=function(){return{type:"START_QUOTATIONS_FETCH"}},V=function(){return{type:"CLEAR_QUOTATIONS_FOCUS"}},$=function(e){return{type:"COMPLETE_QUOTATIONS_FETCH",quotations:e}},z=function(){return function(e,t){var r=t(),a=r.search.searchParameters.searchText||"",s="";if(r.search.searchParameters.expressionId||r.search.searchParameters.expressionPart)s=["?quotation <http://scta.info/property/isMemberOf> <http://scta.info/resource/"+(O=r.search.searchParameters.expressionPart?r.search.searchParameters.expressionPart:r.search.searchParameters.expressionId)+"> ."].join("");var i="";r.search.searchParameters.expressionAuthorType&&(i="?author <http://scta.info/property/personType> <http://scta.info/resource/"+r.search.searchParameters.expressionAuthorType+"> .");var c="";(r.search.searchParameters.expressionAuthorDateAfter||r.search.searchParameters.expressionAuthorDateBefore)&&(c="?author <http://scta.info/property/dateOfBirth> ?dateOfBirth .");var u="";r.search.searchParameters.expressionAuthorDateAfter&&(u="FILTER (?dateOfBirth >= '"+r.search.searchParameters.expressionAuthorDateAfter+"').");var p="";r.search.searchParameters.expressionAuthorDateBefore&&(p="FILTER (?dateOfBirth <= '"+r.search.searchParameters.expressionAuthorDateBefore+"').");var l="";r.search.searchParameters.expressionAuthor&&(l="?toplevel_expression <http://www.loc.gov/loc.terms/relators/AUT> <http://scta.info/resource/"+r.search.searchParameters.expressionAuthor+"> .");var h=["?toplevel_expression <http://www.loc.gov/loc.terms/relators/AUT> ?author . ",i,c,l,"?author <http://purl.org/dc/elements/1.1/title> ?author_title . "].join(""),f="";r.search.searchParameters.quotationAuthorType&&(f="?quotationAuthor <http://scta.info/property/personType> <http://scta.info/resource/"+(O=r.search.searchParameters.quotationAuthorType)+">  . ");var m="";(r.search.searchParameters.quotationAuthorDateAfter||r.search.searchParameters.quotationAuthorDateBefore)&&(m="?quotationAuthor <http://scta.info/property/dateOfBirth> ?quotationAuthorDateOfBirth .");var d="";r.search.searchParameters.quotationAuthorDateAfter&&(d="FILTER (?quotationAuthorDateOfBirth >= '"+r.search.searchParameters.quotationAuthorDateAfter+"').");var T="";r.search.searchParameters.quotationAuthorDateBefore&&(T="FILTER (?quotationAuthorDateOfBirth <= '"+r.search.searchParameters.quotationAuthorDateBefore+"').");var E="";r.search.searchParameters.quotationAuthor&&(E="?source_toplevel_expression <http://www.loc.gov/loc.terms/relators/AUT> <http://scta.info/resource/"+(O=r.search.searchParameters.quotationAuthor)+">  . ");var y="";if(r.search.searchParameters.quotationAuthorDateAfter||r.search.searchParameters.quotationAuthorDateBefore||r.search.searchParameters.quotationAuthor||r.search.searchParameters.quotationAuthorType)y=["{","?quotation <http://scta.info/property/isInstanceOf> ?isInstanceOf .","?isInstanceOf <http://scta.info/property/source> ?source .","?source <http://scta.info/property/isPartOfTopLevelExpression> ?source_toplevel_expression . ","?source_toplevel_expression <http://www.loc.gov/loc.terms/relators/AUT> ?quotationAuthor . ",f,m,E,"}","UNION","{","?quotation <http://scta.info/property/source> ?source .","?source <http://scta.info/property/isPartOfTopLevelExpression> ?source_toplevel_expression . ","?source_toplevel_expression <http://www.loc.gov/loc.terms/relators/AUT> ?quotationAuthor . ",f,m,E,"}"].join("");var v="";if(r.search.searchParameters.quotationWorkGroup){var O=r.search.searchParameters.quotationWorkGroup;v=["{","?quotation <http://scta.info/property/isInstanceOf> ?isInstanceOf .","?isInstanceOf <http://scta.info/property/source> ?source .","?source <http://scta.info/property/isPartOfTopLevelExpression> ?source_toplevel_expression . ","<http://scta.info/resource/"+r.search.searchParameters.quotationWorkGroup+"> <http://scta.info/property/hasExpression> ?source_toplevel_expression .","}","UNION","{","?quotation <http://scta.info/property/source> ?source .","?source <http://scta.info/property/isPartOfTopLevelExpression> ?source_toplevel_expression . ","<http://scta.info/resource/"+r.search.searchParameters.quotationWorkGroup+"> <http://scta.info/property/hasExpression> ?source_toplevel_expression .","}"].join("")}var A="";(r.search.searchParameters.quotationWork||r.search.searchParameters.quotationWorkPart)&&(A=["{","?quotation <http://scta.info/property/isInstanceOf> ?isInstanceOf .","{","\n#check for quotation whose canonical source is a member of the search expression\n","?isInstanceOf  <http://scta.info/property/source> ?source .","?source <http://scta.info/property/isMemberOf> <http://scta.info/resource/"+(O=r.search.searchParameters.quotationWorkPart?r.search.searchParameters.quotationWorkPart:r.search.searchParameters.quotationWork)+"> .","}","UNION","{","\n#check for quotation whose canonical source is search expression\n","?isInstanceOf  <http://scta.info/property/source> <http://scta.info/resource/"+O+"> .","}","}","UNION","{","\n#check for quotation whose source is a member the search expression\n","{","?quotation <http://scta.info/property/source> ?source .","?source <http://scta.info/property/isMemberOf> <http://scta.info/resource/"+O+"> .","}","UNION","\n#check for quotation whose source is the search expression\n","{","?quotation <http://scta.info/property/source> <http://scta.info/resource/"+O+"> .","}","}"].join(""));var _="";if(r.search.searchParameters.quotationExpressionType){var g=r.search.searchParameters.quotationExpressionType;_=["{","?quotation <http://scta.info/property/isInstanceOf> ?isInstanceOf .","{","\n#check for quotation whose canonical source is a member an expression with the designated type\n","?isInstanceOf  <http://scta.info/property/source> ?source .","?source <http://scta.info/property/isMemberOf> ?memberOf .","?memberOf <http://scta.info/property/expressionType> <http://scta.info/resource/"+g+"> .","}","UNION","{","\n#check for quotation whose canonical source is has designated type\n","?isInstanceOf  <http://scta.info/property/source> ?source .","?source <http://scta.info/property/expressionType> <http://scta.info/resource/"+g+"> .","}","}","UNION","{","\n#check for quotation whose source is a member the search expression\n","{","?quotation <http://scta.info/property/source> ?source .","?source <http://scta.info/property/isMemberOf> ?memberOf .","?memberOf <http://scta.info/property/expressionType> <http://scta.info/resource/"+g+"> .","}","UNION","\n#check for quotation whose source is the search expression\n","{","?quotation <http://scta.info/property/source> ?source .","?source <http://scta.info/property/expressionType> <http://scta.info/resource/"+g+"> .","}","}"].join("")}var P="";r.search.searchParameters.workGroup&&(P=["<http://scta.info/resource/"+r.search.searchParameters.workGroup+"> <http://scta.info/property/hasExpression> ?toplevel_expression ."].join(""));var x="";r.search.searchParameters.expressionType&&(x=["?quotation <http://scta.info/property/isMemberOf> ?expressionIsmemberOf .","?expressionIsmemberOf <http://scta.info/property/expressionType> <http://scta.info/resource/"+r.search.searchParameters.expressionType+"> ."].join(""));var b="";b="structureElementRef"===r.search.searchParameters.structureElementType?["{?quotation <http://scta.info/property/structureElementType> <http://scta.info/resource/structureElementRef> .}","MINUS","{?quotation <http://scta.info/property/isReferenceTo> ?isReferenceTo . }"].join(""):"structureElementRefDup"===r.search.searchParameters.structureElementType?"?quotation <http://scta.info/property/structureElementType> <http://scta.info/resource/structureElementRef> .":"structureElementQuote"===r.search.searchParameters.structureElementType?"?quotation <http://scta.info/property/structureElementType> <http://scta.info/resource/structureElementQuote> .":"allDup"===r.search.searchParameters.structureElementType?["{?quotation <http://scta.info/property/structureElementType> <http://scta.info/resource/structureElementQuote> .}","UNION","{?quotation <http://scta.info/property/structureElementType> <http://scta.info/resource/structureElementRef> . }"].join(""):["{?quotation <http://scta.info/property/structureElementType> <http://scta.info/resource/structureElementQuote> .}","UNION","{{?quotation <http://scta.info/property/structureElementType> <http://scta.info/resource/structureElementRef> .}","MINUS","{?quotation <http://scta.info/property/isReferenceTo> ?isReferenceTo . }","}"].join("");var S="";if(r.canonicalQuotation)S=["SELECT ?quotation ?isInstanceOf ?quotation_text ?toplevel_expression_title ?author_title ?citation ?ref ?refText ","WHERE {","<"+r.canonicalQuotation.id+"> <http://scta.info/property/hasInstance> ?quotation .","OPTIONAL {","?quotation <http://scta.info/property/isInstanceOf> ?isInstanceOf .","}","OPTIONAL {","?quotation <http://scta.info/property/source> ?source .","}",s,y,v,A,_,"?quotation <http://scta.info/property/structureElementText> ?quotation_text .","?quotation <http://scta.info/property/isPartOfTopLevelExpression> ?toplevel_expression . ",x,P,"?toplevel_expression <http://purl.org/dc/elements/1.1/title> ?toplevel_expression_title . ",h,"OPTIONAL {","?quotation <http://scta.info/property/citation> ?citation . ","}","OPTIONAL {","?ref <http://scta.info/property/isReferenceTo> ?quotation . ","?ref <http://scta.info/property/structureElementText> ?refText . ","}",u,p,d,T,"}","LIMIT 100"].join("");else S=["SELECT ?quotation ?source ?isInstanceOf ?quotation_text ?toplevel_expression_title ?author_title ?citation ?ref ?refText ?refType ","WHERE {",b,"?quotation <http://scta.info/property/structureElementType> ?refType . ","?quotation a <http://scta.info/resource/expression> .","OPTIONAL {","?quotation <http://scta.info/property/isInstanceOf> ?isInstanceOf .","}","OPTIONAL {","?quotation <http://scta.info/property/source> ?source .","}",s,y,v,A,_,"?quotation <http://scta.info/property/structureElementText> ?quotation_text .","?quotation <http://scta.info/property/isPartOfTopLevelExpression> ?toplevel_expression . ",x,P,l,"?toplevel_expression <http://purl.org/dc/elements/1.1/title> ?toplevel_expression_title . ",h,"OPTIONAL {","?quotation <http://scta.info/property/citation> ?citation . ","}","OPTIONAL {","?ref <http://scta.info/property/isReferenceTo> ?quotation . ","?ref <http://scta.info/property/structureElementText> ?refText . ","}",u,p,d,T,"FILTER (REGEX(STR(?quotation_text), '"+a+"', 'i')) .","}","ORDER BY ?quotation_text ","LIMIT 100"].join("");e(K()),o.a.get(n,{params:{query:S,output:"json"}}).then(function(t){var r=t.data.results.bindings;e($(r))})}},J=function(e){return{type:"CHANGE_QUOTATIONS_FOCUS",id:e}},Z=function(){return{type:"CLEAR_FOCUSED_QUOTATION"}},ee=function(e){return{type:"CREATE_FOCUSED_QUOTATION",quotation:e}},te=function(e){return{type:"CREATE_CANONICAL_QUOTATION",quotation:e}},re=function(){return{type:"CLEAR_CANONICAL_QUOTATION"}},ae=function(e){return{type:"CHANGE_CANONICAL_QUOTATIONS_FOCUS",id:e}},oe=function(){return{type:"CLEAR_CANONICAL_QUOTATIONS_FOCUS"}},ne=function(){return{type:"CLEAR_CANONICAL_QUOTATIONS"}},se=function(){return{type:"START_CANONICAL_QUOTATIONS_FETCH"}},ie=function(e){return{type:"COMPLETE_CANONICAL_QUOTATIONS_FETCH",canonicalQuotations:e}},ce=function(){return function(e,t){var r=t(),a=r.search.searchParameters.searchText||"",s="";(r.search.searchParameters.expressionId||r.search.searchParameters.expressionAuthor||r.search.searchParameters.workGroup)&&(s=["?quotation <http://scta.info/property/hasInstance> ?quotationInstance ."].join(""));var i="";(r.search.searchParameters.expressionAuthor||r.search.searchParameters.workGroup)&&(i=["?quotationInstance <http://scta.info/property/isPartOfTopLevelExpression> ?toplevel_expression ."].join(""));var c="";if(r.search.searchParameters.expressionId||r.search.searchParameters.expressionPart)c=["?quotationInstance <http://scta.info/property/isMemberOf> <http://scta.info/resource/"+(_=r.search.searchParameters.expressionPart?r.search.searchParameters.expressionPart:r.search.searchParameters.expressionId)+"> ."].join("");var u="";r.search.searchParameters.expressionAuthorType&&(u="?expressionAuthor <http://scta.info/property/personType> <http://scta.info/resource/"+r.search.searchParameters.expressionAuthorType+">  . ");var p="";(r.search.searchParameters.expressionAuthorDateAfter||r.search.searchParameters.expressionAuthorDateBefore)&&(p="?expressionAuthor <http://scta.info/property/dateOfBirth> ?expressionAuthorDateOfBirth .");var l="";r.search.searchParameters.expressionAuthorDateAfter&&(l="FILTER (?expressionAuthorDateOfBirth >= '"+r.search.searchParameters.expressionAuthorDateAfter+"').");var h="";r.search.searchParameters.expressionAuthorDateBefore&&(h="FILTER (?expressionAuthorDateOfBirth <= '"+r.search.searchParameters.expressionAuthorDateBefore+"').");var f="";r.search.searchParameters.expressionAuthor&&(f="?toplevel_expression <http://www.loc.gov/loc.terms/relators/AUT> <http://scta.info/resource/"+r.search.searchParameters.expressionAuthor+"> .");var m=["?quotation <http://scta.info/property/hasInstance> ?quotationInstance .","?quotationInstance <http://scta.info/property/isPartOfTopLevelExpression> ?toplevel_expression .","?toplevel_expression <http://www.loc.gov/loc.terms/relators/AUT> ?expressionAuthor . ",u,p,f].join(""),d="";r.search.searchParameters.quotationAuthorType&&(d="?quotationAuthor <http://scta.info/property/personType> <http://scta.info/resource/"+r.search.searchParameters.quotationAuthorType+">  . ");var T="";(r.search.searchParameters.quotationAuthorDateAfter||r.search.searchParameters.quotationAuthorDateBefore)&&(T="?quotationAuthor <http://scta.info/property/dateOfBirth> ?quotationAuthorDateOfBirth .");var E="";r.search.searchParameters.quotationAuthorDateAfter&&(E="FILTER (?quotationAuthorDateOfBirth >= '"+r.search.searchParameters.quotationAuthorDateAfter+"').");var y="";r.search.searchParameters.quotationAuthorDateBefore&&(y="FILTER (?quotationAuthorDateOfBirth <= '"+r.search.searchParameters.quotationAuthorDateBefore+"').");var v="";r.search.searchParameters.quotationAuthor&&(v="?source_toplevel_expression <http://www.loc.gov/loc.terms/relators/AUT> <http://scta.info/resource/"+(_=r.search.searchParameters.quotationAuthor)+">  . ");var O=["?quotation <http://scta.info/property/source> ?source .","?source <http://scta.info/property/isPartOfTopLevelExpression> ?source_toplevel_expression . ","?source_toplevel_expression <http://www.loc.gov/loc.terms/relators/AUT> ?quotationAuthor .",d,T,v].join(""),A="";if(r.search.searchParameters.quotationWorkGroup){var _=r.search.searchParameters.quotationWorkGroup;A=["?quotation <http://scta.info/property/source> ?source .","?source <http://scta.info/property/isPartOfTopLevelExpression> ?source_toplevel_expression . ","<http://scta.info/resource/"+r.search.searchParameters.quotationWorkGroup+"> <http://scta.info/property/hasExpression> ?source_toplevel_expression ."].join("")}var g="";(r.search.searchParameters.quotationWork||r.search.searchParameters.quotationWorkPart)&&(g=["{","\n#check for canonical quotation whose source is memberOf the search expression\n","?quotation <http://scta.info/property/source> ?source .","?source <http://scta.info/property/isMemberOf> <http://scta.info/resource/"+(_=r.search.searchParameters.quotationWorkPart?r.search.searchParameters.quotationWorkPart:r.search.searchParameters.quotationWork)+"> . ","}","UNION","\n#check for canonical quotation whose source IS the search expression\n","{","?quotation <http://scta.info/property/source> <http://scta.info/resource/"+_+"> .","}"].join(""));var P="";if(r.search.searchParameters.quotationExpressionType){var x=r.search.searchParameters.quotationExpressionType;P=["{","\n#check for canonical quotation whose source is memberOf the search expression\n","?quotation <http://scta.info/property/source> ?source .","?source <http://scta.info/property/isMemberOf> ?memberOf .","?memberOf <http://scta.info/property/expressionType> <http://scta.info/resource/"+x+"> . ","}","UNION","\n#check for canonical quotation whose source IS the search expression\n","{","?quotation <http://scta.info/property/source> ?source .","?source <http://scta.info/property/expressionType> <http://scta.info/resource/"+x+"> .","}"].join("")}var b="";r.search.searchParameters.workGroup&&(b=["<http://scta.info/resource/"+r.search.searchParameters.workGroup+"> <http://scta.info/property/hasExpression> ?toplevel_expression ."].join(""));var S="";r.search.searchParameters.expressionType&&(S=["?quotation <http://scta.info/property/hasInstance> ?quotationInstance .","?quotationInstance <http://scta.info/property/isMemberOf> ?expressionIsMemberOf .","?expressionIsMemberOf <http://scta.info/property/expressionType> <http://scta.info/resource/"+r.search.searchParameters.expressionType+"> ."].join(""));var C=["SELECT DISTINCT ?quotation ?citation ?quotation_text ","WHERE {","?quotation a <http://scta.info/resource/quotation> .","?quotation <http://scta.info/property/quotation> ?quotation_text .",S,s,i,m,b,O,A,g,P,c,"OPTIONAL { ","?quotation <http://scta.info/property/citation> ?citation .","}",E,y,h,l,"FILTER (REGEX(STR(?quotation_text), '"+a+"', 'i')) .","}","ORDER BY ?citation ","LIMIT 1000"].join("");e(K()),o.a.get(n,{params:{query:C,output:"json"}}).then(function(t){var r=t.data.results.bindings;e(ie(r))})}},ue=function(e){return{type:"CHANGE_MANIFESTATION_QUOTATIONS_FOCUS",id:e}},pe=function(){return{type:"CLEAR_MANIFESTATION_QUOTATIONS_FOCUS"}},le=function(){return{type:"CLEAR_MANIFESTATION_QUOTATIONS"}},he=function(){return{type:"START_MANIFESTATION_QUOTATIONS_FETCH"}},fe=function(e){return{type:"COMPLETE_MANIFESTATION_QUOTATIONS_FETCH",manifestationQuotations:e}},me=function(){return function(e,t){var r=t(),a=r.search.searchParameters.searchText||"",s="";void 0!=r.focusedQuotation.id?s=["SELECT ?quotation ?isManifestationOf ?quotation_text ","WHERE {","<"+r.focusedQuotation.id+"> <http://scta.info/property/hasManifestation> ?quotation .","?quotation <http://scta.info/property/isManifestationOf> ?isManifestationOf .","?quotation <http://scta.info/property/structureElementText> ?quotation_text .","}"].join(""):s=["SELECT ?quotation ?isManifestationOf ?quotation_text ","WHERE {","?quotation <http://scta.info/property/structureElementType> <http://scta.info/resource/structureElementQuote> .","?quotation a <http://scta.info/resource/manifestation> .","?quotation <http://scta.info/property/isManifestationOf> ?isManifestationOf .","?quotation <http://scta.info/property/structureElementText> ?quotation_text .","FILTER (REGEX(STR(?quotation_text), '"+a+"', 'i')) .","}","ORDER BY ?isInstanceOf ","LIMIT 100"].join("");e(he()),o.a.get(n,{params:{query:s,output:"json"}}).then(function(t){var r=t.data.results.bindings;e(fe(r))})}},de=function(){return{type:"CLEAR_PARAGRAPH"}},Te=function(){return{type:"START_PARAGRAPH_FETCH"}},Ee=function(e){return{type:"COMPLETE_PARAGRAPH_FETCH",paragraph:e}},ye=function(){return function(e,t){var r=t();if(r.focusedQuotation){var a=r.focusedQuotation.id,s="",i=r.focusedQuotation.type;"expression"===i?s=["SELECT ?expression_paragraph ?manifestation_paragraph ?transcription_paragraph ?xml_url ?transcription_item_file ","WHERE { ","<"+a+"> <http://scta.info/property/isPartOfStructureBlock> ?expression_paragraph .","?expression_paragraph <http://scta.info/property/hasCanonicalManifestation> ?manifestation_paragraph .","?manifestation_paragraph <http://scta.info/property/hasCanonicalTranscription> ?transcription_paragraph .","?transcription_paragraph <http://scta.info/property/isPartOfStructureItem> ?transcription_item .","?transcription_item <http://scta.info/property/hasDocument> ?transcription_item_file .","?transcription_paragraph <http://scta.info/property/hasXML> ?xml_url .","}"].join(""):"manifestation"===i&&(s=["SELECT ?expression_paragraph ?manifestation_paragraph ?transcription_paragraph ?xml_url ?transcription_item_file ","WHERE { ","<"+a+"> <http://scta.info/property/isPartOfStructureBlock> ?manifestation_paragraph . ","?manifestation_paragraph <http://scta.info/property/isManifestationOf> ?expression_paragraph .","?manifestation_paragraph <http://scta.info/property/hasCanonicalTranscription> ?transcription_paragraph .","?transcription_paragraph <http://scta.info/property/isPartOfStructureItem> ?transcription_item .","?transcription_item <http://scta.info/property/hasDocument> ?transcription_item_file .","?transcription_paragraph <http://scta.info/property/hasXML> ?xml_url .","}"].join("")),e(Te()),o.a.get(n,{params:{query:s,output:"json"}}).then(function(t){var r=t.data.results.bindings[0];r&&o.a.get(r.xml_url.value).then(function(t){var a={expression_id:r.expression_paragraph.value,manifestation_id:r.manifestation_paragraph.value,transcription_id:r.transcription_paragraph.value,transcription_item_file:r.transcription_item_file?r.transcription_item_file.value:"",paragraph_text:t.data};e(Ee(a)),e(Ae())})})}}},ve=function(){return{type:"START_REVIEW_FETCH"}},Oe=function(e){return{type:"COMPLETE_REVIEW_FETCH",review:e}},Ae=function(){return function(e,t){var r=t();if(r.paragraph.transcription_item_file){var a="http://dll-review-registry.scta.info/api/v1/reviews?url="+r.paragraph.transcription_item_file+"&society=MAA";e(ve()),o.a.get(a).then(function(t){var r=t.data[0];e(Oe(r))})}}},_e=function(){return{type:"CLEAR_SOURCE_PARAGRAPH"}},ge=function(){return{type:"START_SOURCE_PARAGRAPH_FETCH"}},Pe=function(e){return{type:"COMPLETE_SOURCE_PARAGRAPH_FETCH",sourceParagraph:e}},xe=function(){return function(e,t){var r=t();if(r.focusedQuotation){var a=["SELECT ?expression_paragraph ?manifestation_paragraph ?transcription_paragraph ?xml_url ?transcription_item_file ","WHERE { ","BIND(<"+r.focusedQuotation.source+"> as ?expression_paragraph) .","?expression_paragraph <http://scta.info/property/hasCanonicalManifestation> ?manifestation_paragraph .","?manifestation_paragraph <http://scta.info/property/hasCanonicalTranscription> ?transcription_paragraph .","?transcription_paragraph <http://scta.info/property/isPartOfStructureItem> ?transcription_item .","?transcription_item <http://scta.info/property/hasDocument> ?transcription_item_file .","?transcription_paragraph <http://scta.info/property/hasXML> ?xml_url .","}"].join("");e(ge()),o.a.get(n,{params:{query:a,output:"json"}}).then(function(t){var r=t.data.results.bindings[0];r&&o.a.get(r.xml_url.value).then(function(t){var a={expression_id:r.expression_paragraph.value,manifestation_id:r.manifestation_paragraph.value,transcription_id:r.transcription_paragraph.value,transcription_item_file:r.transcription_item_file?r.transcription_item_file.value:"",paragraph_text:t.data};e(Pe(a))})})}}},be=function(){return{type:"START_SOURCE_PARAGRAPH_REVIEW_FETCH"}},Se=function(e){return{type:"COMPLETE_SOURCE_PARAGRAPH_FETCH",review:e}},Ce=function(){return function(e,t){var r=t();if(r.sourceParagraph.transcription_item_file){var a="http://dll-review-registry.scta.info/api/v1/reviews?url="+r.sourceParagraph.transcription_item_file+"&society=MAA";e(ge()),o.a.get(a).then(function(t){var r=t.data[0];e(Se(r))})}}},Ie=function(e){return{type:"TOGGLE_FULL_TEXT_DISPLAY",current:e}},qe=function(){return{type:"CLEAR_FULL_TEXT"}},we=function(){return{type:"START_FULL_TEXT_FETCH"}},Re=function(e){return{type:"COMPLETE_FULL_TEXT_FETCH",text:e}},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,r){var a=r(),s="";if(a.focusedQuotation){var i=a.focusedQuotation.id,c=a.focusedQuotation.type;!0===e?s=["SELECT ?expression_item ?manifestation_item ?transcription_item ?xml_url ?transcription_item_file ","WHERE { ","BIND(<"+a.focusedQuotation.source+"> AS ?expression_block) .","?expression_block <http://scta.info/property/isPartOfStructureItem> ?expression_item .","?expression_item <http://scta.info/property/hasCanonicalManifestation> ?manifestation_item .","?manifestation_item <http://scta.info/property/hasCanonicalTranscription> ?transcription_item .","?transcription_item <http://scta.info/property/hasDocument> ?transcription_item_file .","?transcription_item <http://scta.info/property/hasXML> ?xml_url .","}"].join(""):"expression"===c?s=["SELECT ?expression_item ?manifestation_item ?transcription_item ?xml_url ?transcription_item_file ","WHERE { ","<"+i+"> <http://scta.info/property/isPartOfStructureBlock> ?expression_block .","?expression_block <http://scta.info/property/isPartOfStructureItem> ?expression_item .","?expression_item <http://scta.info/property/hasCanonicalManifestation> ?manifestation_item .","?manifestation_item <http://scta.info/property/hasCanonicalTranscription> ?transcription_item .","?transcription_item <http://scta.info/property/hasDocument> ?transcription_item_file .","?transcription_item <http://scta.info/property/hasXML> ?xml_url .","}"].join(""):"manifestation"===c&&(s=["SELECT ?expression_item ?manifestation_item ?transcription_item ?xml_url ?transcription_item_file ","WHERE { ","<"+i+"> <http://scta.info/property/isPartOfStructureBlock> ?manifestation_block . ","?manifestation_block <http://scta.info/property/isPartOfStructureItem> ?manifestation_item .","?manifestation_item <http://scta.info/property/isManifestationOf> ?expression_item .","?manifestation_item <http://scta.info/property/hasCanonicalTranscription> ?transcription_item .","?transcription_item <http://scta.info/property/hasDocument> ?transcription_item_file .","?transcription_item <http://scta.info/property/hasXML> ?xml_url .","}"].join("")),console.log(s),t(we()),o.a.get(n,{params:{query:s,output:"json"}}).then(function(e){var r=e.data.results.bindings[0];console.log("full text results",r),o.a.get(r.xml_url.value).then(function(e){var a={expression_id:r.expression_item.value,manifestation_id:r.manifestation_item.value,transcription_id:r.transcription_item.value,transcription_item_file:r.transcription_item_file?r.transcription_item_file.value:"",text:e.data};t(Re(a)),t(Ae())})})}}}}},[[43,1,2]]]);
//# sourceMappingURL=main.57202000.chunk.js.map